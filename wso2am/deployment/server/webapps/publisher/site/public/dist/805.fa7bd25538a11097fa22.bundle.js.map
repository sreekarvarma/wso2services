{"version":3,"file":"805.fa7bd25538a11097fa22.bundle.js","mappings":"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","sources":["webpack://@wso2apim/publisher/./source/src/app/components/Apis/Create/AsyncAPI/Steps/ProvideAsyncAPI.jsx","webpack://@wso2apim/publisher/./source/src/app/components/Apis/Create/GraphQL/Steps/ProvideGraphQL.jsx","webpack://@wso2apim/publisher/./source/src/app/components/Apis/Create/OpenAPI/Steps/ValidationResults.tsx","webpack://@wso2apim/publisher/./source/src/app/components/Apis/Create/OpenAPI/Steps/ProvideOpenAPI.jsx","webpack://@wso2apim/publisher/./source/src/app/components/Apis/Create/WSDL/Steps/ProvideWSDL.jsx","webpack://@wso2apim/publisher/./source/src/app/components/Apis/Details/APIDefinition/LinterUI/LinterUI.jsx","webpack://@wso2apim/publisher/./source/src/app/components/Apis/Details/Configuration/components/APISecurity/components/apiSecurityConstants.js","webpack://@wso2apim/publisher/./source/src/app/components/Apis/Details/ProductResources/MethodView.jsx","webpack://@wso2apim/publisher/./source/src/app/components/Apis/Details/ProductResources/ProductResourcesEditWorkspace.jsx","webpack://@wso2apim/publisher/./source/src/app/components/Shared/DropZoneLocal.jsx","webpack://@wso2apim/publisher/./source/src/app/data/Wsdl.js","webpack://@wso2apim/publisher/./source/src/app/components/Apis/Details/APIDefinition/Linting/APILintingSummary.tsx","webpack://@wso2apim/publisher/./source/src/app/components/Apis/Details/APIDefinition/Linting/Linting.tsx"],"sourcesContent":["/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState, useEffect } from 'react';\nimport { styled } from '@mui/material/styles';\nimport PropTypes from 'prop-types';\nimport Radio from '@mui/material/Radio';\nimport Grid from '@mui/material/Grid';\nimport TextField from '@mui/material/TextField';\nimport RadioGroup from '@mui/material/RadioGroup';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport FormControl from '@mui/material/FormControl';\nimport FormLabel from '@mui/material/FormLabel';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport InputAdornment from '@mui/material/InputAdornment';\nimport CheckIcon from '@mui/icons-material/Check';\nimport ErrorOutlineIcon from '@mui/icons-material/ErrorOutline';\nimport Button from '@mui/material/Button';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemAvatar from '@mui/material/ListItemAvatar';\nimport Avatar from '@mui/material/Avatar';\nimport IconButton from '@mui/material/IconButton';\nimport InsertDriveFile from '@mui/icons-material/InsertDriveFile';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport ListItemSecondaryAction from '@mui/material/ListItemSecondaryAction';\nimport ListItemText from '@mui/material/ListItemText';\n\nimport Banner from 'AppComponents/Shared/Banner';\nimport APIValidation from 'AppData/APIValidation';\nimport API from 'AppData/api';\nimport DropZoneLocal, { humanFileSize } from 'AppComponents/Shared/DropZoneLocal';\nimport CheckCircleSharpIcon from '@mui/icons-material/CheckCircleSharp';\nimport Chip from '@mui/material/Chip';\n\nconst PREFIX = 'ProvideAsyncAPI';\n\nconst classes = {\n    mandatoryStar: `${PREFIX}-mandatoryStar`\n};\n\n\nconst Root = styled('div')((\n    {\n        theme\n    }\n) => ({\n    [`& .${classes.mandatoryStar}`]: {\n        color: theme.palette.error.main,\n    }\n}));\n\n/**\n * Sub component of API Create using AsyncAPI UI, This is handling the taking input of WSDL file or URL from the user\n * In the create API using AsyncAPI wizard first step out of 2 steps\n * @export\n * @param {*} props\n * @returns {React.Component} @inheritdoc\n */\nexport default function ProvideAsyncAPI(props) {\n    const { apiInputs, inputsDispatcher, onValidate } = props;\n    const isFileInput = apiInputs.inputType === 'file';\n    const { inputType, inputValue } = apiInputs;\n\n    // If valid value is `null`,that means valid, else an error object will be there\n    const [isValid, setValidity] = useState({});\n    const [isValidating, setIsValidating] = useState(false);\n    const [validationErrors, setValidationErrors] = useState([]);\n    const [gatewayVendor, setGatewayVendor] = useState('wso2');\n    const intl = useIntl();\n    /**\n     *\n     *\n     * @param {*} files\n     */\n    function onDrop(files) {\n        setIsValidating(true);\n\n        // Why `files.pop()` below is , We only handle one AsyncAPI file at a time,\n        // So if use provide multiple, We would only\n        // accept the first file. This information is shown in the dropdown helper text\n        const file = files.pop();\n        let validFile = null;\n        API.validateAsyncAPIByFile(file)\n            .then((response) => {\n                const {\n                    body: { isValid: isValidFile, info, errors },\n                } = response;\n                setGatewayVendor(info.gatewayVendor);\n                if (isValidFile) {\n                    validFile = file;\n                    inputsDispatcher({ action: 'preSetAPI', value: info });\n                    setValidity({ ...isValid, file: null });\n                } else {\n                    // eslint-disable-next-line max-len\n                    setValidity({\n                        ...isValid, file: {\n                            message: intl.formatMessage({\n                                id: 'Apis.Create.AsyncAPI.Steps.ProvideAsyncAPI.content.'\n                                    + 'validation.failed',\n                                defaultMessage: 'AsyncAPI content validation failed! ',\n                            })\n                        }\n                    });\n                    setValidationErrors(errors);\n                }\n            })\n            .catch((error) => {\n                setValidity({\n                    ...isValid, file: {\n                        message: intl.formatMessage({\n                            id: 'Apis.Create.AsyncAPI.Steps.ProvideAsyncAPI.content.'\n                                + 'validation.failed',\n                            defaultMessage: 'AsyncAPI content validation failed! ',\n                        })\n                    }\n                });\n                console.error(error);\n            })\n            .finally(() => {\n                setIsValidating(false); // Stop the loading animation\n                onValidate(validFile !== null); // If there is a valid file then validation has passed\n                // If the given file is valid , we set it as the inputValue else set `null`\n                inputsDispatcher({ action: 'inputValue', value: validFile });\n            });\n    }\n\n    /**\n     * Trigger the provided onValidate call back on each input validation run\n     * Do the validation state aggregation and call the onValidate method with aggregated value\n     * @param {Object} state Validation state object returned from Joi `.validate()` method\n     */\n    function validateURL(value) {\n        const state = APIValidation.url.required().validate(value).error;\n        // State `null` means URL is valid, We do backend validation only in valid URLs\n        if (state === null) {\n            setIsValidating(true);\n            API.validateAsyncAPIByUrl(apiInputs.inputValue, { returnContent: true }).then((response) => {\n                const {\n                    body: {\n                        isValid: isValidURL, info, content, errors,\n                    },\n                } = response;\n                if (isValidURL) {\n                    info.content = content;\n                    inputsDispatcher({ action: 'preSetAPI', value: info });\n                    setValidity({ ...isValid, url: null });\n                } else {\n                    setValidity({\n                        ...isValid, url: {\n                            message: intl.formatMessage({\n                                id: 'Apis.Create.AsyncAPI.Steps.ProvideAsyncAPI.content.'\n                                    + 'validation.failed',\n                                defaultMessage: 'AsyncAPI content validation failed! ',\n                            })\n                        }\n                    });\n                    setValidationErrors(errors);\n                }\n                onValidate(isValidURL);\n                setIsValidating(false);\n            }).catch((error) => {\n                setValidity({ url: { message: error.message } });\n                onValidate(false);\n                setIsValidating(false);\n                console.error(error);\n            });\n            // Valid URL string\n            // TODO: Handle catch network or api call failures ~tmkb\n        } else {\n            setValidity({ ...isValid, url: state });\n            onValidate(false);\n        }\n    }\n\n    useEffect(() => {\n        if (inputValue) {\n            if (inputType === ProvideAsyncAPI.INPUT_TYPES.FILE) {\n                onDrop([inputValue]);\n            } else if (inputType === ProvideAsyncAPI.INPUT_TYPES.URL) {\n                validateURL(inputValue);\n            }\n        }\n    }, [inputType, inputValue]);\n\n    // TODO: Use validation + input to separate component that can be share with wsdl,swagger,graphql URL inputs ~tmkb\n    const isInvalidURL = Boolean(isValid.url);\n    let urlStateEndAdornment = null;\n    if (isValidating) {\n        urlStateEndAdornment = (\n            <InputAdornment position='end'>\n                <CircularProgress />\n            </InputAdornment>\n        );\n    } else if (isValid.url !== undefined) {\n        if (isInvalidURL) {\n            urlStateEndAdornment = (\n                <InputAdornment position='end'>\n                    <ErrorOutlineIcon fontSize='large' color='error' />\n                </InputAdornment>\n            );\n        } else {\n            urlStateEndAdornment = (\n                <InputAdornment position='end'>\n                    <CheckIcon fontSize='large' color='primary' />\n                </InputAdornment>\n            );\n        }\n    }\n\n    return (\n        <Root>\n            <Grid container>\n                <Grid item xs={12} sx={{ mb: 2 }}>\n                    <FormControl component='fieldset'>\n                        <FormLabel component='legend'>\n                            <>\n                                <sup className={classes.mandatoryStar}>*</sup>\n                                {' '}\n                                <FormattedMessage\n                                    id='Apis.Create.AsyncAPI.Steps.ProvideAsyncAPI.Input.type'\n                                    defaultMessage='Input Type'\n                                />\n                            </>\n                        </FormLabel>\n                        <RadioGroup\n                            aria-label='Input type'\n                            value={apiInputs.inputType}\n                            onChange={(event) => inputsDispatcher({ action: 'inputType', value: event.target.value })}\n                        >\n                            <FormControlLabel\n                                data-testid='input-asyncapi-url'\n                                value={ProvideAsyncAPI.INPUT_TYPES.URL}\n                                control={<Radio color='primary' />}\n                                label={intl.formatMessage({\n                                    id: 'Apis.Create.AsyncAPI.Steps.ProvideAsyncAPI.url.label',\n                                    defaultMessage: 'AsyncAPI URL',\n                                })}\n                            />\n                            <FormControlLabel\n                                data-testid='input-asyncapi-file'\n                                value={ProvideAsyncAPI.INPUT_TYPES.FILE}\n                                control={<Radio color='primary' />}\n                                label={intl.formatMessage({\n                                    id: 'Apis.Create.AsyncAPI.Steps.ProvideAsyncAPI.file.label',\n                                    defaultMessage: 'AsyncAPI File',\n                                })}\n                            />\n                        </RadioGroup>\n                    </FormControl>\n                </Grid>\n                {isValid.file\n                && (\n                    <Grid item md={12}>\n                        <Banner\n                            onClose={() => setValidity({ file: null })}\n                            disableActions\n                            dense\n                            paperProps={{ elevation: 1 }}\n                            type='error'\n                            message={isValid.file.message}\n                            errors={validationErrors}\n                        />\n                    </Grid>\n                )}\n                <Grid item xs={12}>\n                    {isFileInput ? (\n                        <>\n                            {apiInputs.inputValue ? (\n                                <List>\n                                    <ListItem key={apiInputs.inputValue.path}>\n                                        <ListItemAvatar>\n                                            <Avatar>\n                                                <InsertDriveFile />\n                                            </Avatar>\n                                        </ListItemAvatar>\n                                        <ListItemText\n                                            primary={`${apiInputs.inputValue.path} -\n                                    ${humanFileSize(apiInputs.inputValue.size)}`}\n                                        />\n                                        <ListItemSecondaryAction>\n                                            <IconButton\n                                                edge='end'\n                                                aria-label='delete'\n                                                onClick={() => {\n                                                    inputsDispatcher({ action: 'inputValue', value: null });\n                                                    inputsDispatcher({ action: 'isFormValid', value: false });\n                                                }}\n                                                size='large'>\n                                                <DeleteIcon />\n                                            </IconButton>\n                                        </ListItemSecondaryAction>\n                                    </ListItem>\n                                </List>\n                            ) : (\n                                <DropZoneLocal\n                                    error={isValid.file}\n                                    onDrop={onDrop}\n                                    files={apiInputs.inputValue}\n                                    accept='.bz,.bz2,.gz,.rar,.tar,.zip,.7z,.json,application/json,.yaml,.yml'\n                                >\n                                    {isValidating ? (<CircularProgress />)\n                                        : ([\n                                            <FormattedMessage\n                                                id='Apis.Create.AsyncAPI.Steps.ProvideAsyncAPI.Input.file.dropzone'\n                                                defaultMessage={'Drag & Drop AsyncAPI File '\n                                                + 'here {break} or {break} Browse files'}\n                                                values={{ break: <br /> }}\n                                            />,\n                                            <Button\n                                                data-testid='upload-api-file'\n                                                color='primary'\n                                                variant='contained'\n                                                sx={{ mt: 1 }}\n                                            >\n                                                <FormattedMessage\n                                                    id='Apis.Create.AsyncAPI.Steps.ProvideAsyncAPI.Input.file.upload'\n                                                    defaultMessage='Browse File to Upload'\n                                                />\n                                            </Button>,\n                                        ]\n                                        )}\n                                </DropZoneLocal>\n                            )}\n                        </>\n                    ) : (\n                        <TextField\n                            autoFocus\n                            id='outlined-full-width'\n                            label={intl.formatMessage({\n                                id: 'Apis.Create.AsyncAPI.Steps.ProvideAsyncAPI.url.label',\n                                defaultMessage: 'AsyncAPI URL',\n                            })}\n                            placeholder={intl.formatMessage({\n                                id: 'Apis.Create.AsyncAPI.Steps.ProvideAsyncAPI.Input.url.text.placeholder',\n                                defaultMessage: 'Enter AsyncAPI URL',\n                            })}\n                            fullWidth\n                            margin='normal'\n                            variant='outlined'\n                            onChange={({ target: { value } }) => inputsDispatcher({ action: 'inputValue', value })}\n                            value={apiInputs.inputValue}\n                            InputLabelProps={{\n                                shrink: true,\n                            }}\n                            InputProps={{\n                                onBlur: ({ target: { value } }) => {\n                                    validateURL(value);\n                                },\n                                endAdornment: urlStateEndAdornment,\n                            }}\n                            // 'Give the URL of AsyncAPI endpoint'\n                            helperText={(isValid.url && isValid.url.message)\n                                || (\n                                    <FormattedMessage\n                                        id='Apis.Create.AsyncAPI.Steps.ProvideAsyncAPI.url.helper.text'\n                                        defaultMessage='Click away to validate the URL'\n                                    />\n                                )}\n                            error={isInvalidURL}\n                        />\n                    )}\n                </Grid>\n                { gatewayVendor === 'solace' && (\n                    <Grid item xs={10} md={11}>\n                        <Chip\n                            data-testid='solace-api-label'\n                            label={intl.formatMessage({\n                                id: 'Apis.Create.AsyncAPI.Steps.ProvideAsyncAPI.solace.api.label',\n                                defaultMessage: 'Identified as Solace Event Portal API',\n                            })}\n                            icon={<CheckCircleSharpIcon style={{ color: 'green' }} />}\n                            variant='outlined'\n                            style={{ color: 'green' }}\n                        />\n                    </Grid>\n                )}\n                <Grid item xs={2} md={5} />\n            </Grid>\n        </Root>\n    );\n}\n\nProvideAsyncAPI.defaultProps = {\n    onValidate: () => { },\n};\nProvideAsyncAPI.INPUT_TYPES = {\n    URL: 'url',\n    FILE: 'file',\n};\nProvideAsyncAPI.propTypes = {\n    apiInputs: PropTypes.shape({\n        type: PropTypes.string,\n        inputType: PropTypes.string,\n        inputValue: PropTypes.string,\n    }).isRequired,\n    inputsDispatcher: PropTypes.func.isRequired,\n    onValidate: PropTypes.func,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { styled } from '@mui/material/styles';\nimport PropTypes from 'prop-types';\nimport Grid from '@mui/material/Grid';\nimport FormControl from '@mui/material/FormControl';\nimport FormLabel from '@mui/material/FormLabel';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Button from '@mui/material/Button';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemAvatar from '@mui/material/ListItemAvatar';\nimport Avatar from '@mui/material/Avatar';\nimport IconButton from '@mui/material/IconButton';\nimport InsertDriveFile from '@mui/icons-material/InsertDriveFile';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport ListItemSecondaryAction from '@mui/material/ListItemSecondaryAction';\nimport ListItemText from '@mui/material/ListItemText';\nimport API from 'AppData/api';\nimport DropZoneLocal, { humanFileSize } from 'AppComponents/Shared/DropZoneLocal';\nimport Banner from 'AppComponents/Shared/Banner';\nimport { debounce, FormControlLabel, InputAdornment, Radio, RadioGroup, TextField } from '@mui/material';\nimport APIValidation from 'AppData/APIValidation';\nimport CheckIcon from '@mui/icons-material/Check';\nimport ErrorOutlineIcon from '@mui/icons-material/ErrorOutline';\n\nconst PREFIX = 'ProvideGraphQL';\n\nconst classes = {\n    mandatoryStar: `${PREFIX}-mandatoryStar`\n};\n\n\nconst Root = styled('div')((\n    {\n        theme\n    }\n) => ({\n    [`& .${classes.mandatoryStar}`]: {\n        color: theme.palette.error.main,\n    }\n}));\n\n/**\n * Sub component of API Create using GraphQL UI, This is handling the taking input of GraphQL file or URL from the user\n * In the create API using GraphQL wizard first step out of 2 steps\n * @export\n * @param {*} props\n * @returns {React.Component} @inheritdoc\n */\nexport default function ProvideGraphQL(props) {\n    const { apiInputs, inputsDispatcher, onValidate } = props;\n    const { inputType, inputValue } = apiInputs;\n    const isURLInput = inputType === ProvideGraphQL.INPUT_TYPES.URL || inputType === '';\n    const isFileInput = inputType === ProvideGraphQL.INPUT_TYPES.FILE;\n    const isEndpointInput = inputType === ProvideGraphQL.INPUT_TYPES.ENDPOINT;\n    const intl = useIntl();\n    // If valid value is `null`,that means valid, else an error object will be there\n    const [isValid, setValidity] = useState({ file: null });\n    const [isValidating, setIsValidating] = useState(false);\n    /**\n     *\n     *\n     * @param {*} files\n     */\n    function onDrop(files) {\n        setIsValidating(true);\n\n        // Why `files.pop()` below is , We only handle one graphQL file at a time,\n        // So if use provide multiple, We would only\n        // accept the first file. This information is shown in the dropdown helper text\n        const file = files.pop();\n        let validFile = null;\n        API.validateGraphQLFile(file)\n            .then((response) => {\n                const {\n                    body: { isValid: isValidFile, graphQLInfo },\n                } = response;\n                if (isValidFile) {\n                    validFile = file;\n                    inputsDispatcher({ action: 'graphQLInfo', value: graphQLInfo });\n                    setValidity({ ...isValid, file: null });\n                } else {\n                    setValidity({ ...isValid, file: { message: 'GraphQL content validation failed!' } });\n                }\n            })\n            .catch((error) => {\n                setValidity({ ...isValid, file: { message: 'GraphQL content validation failed!' } });\n                console.error(error);\n            })\n            .finally(() => {\n                setIsValidating(false); // Stop the loading animation\n                onValidate(validFile !== null); // If there is a valid file then validation has passed\n                // If the given file is valid , we set it as the inputValue else set `null`\n                inputsDispatcher({ action: 'inputValue', value: validFile });\n            });\n    }\n\n    function reset() {\n        inputsDispatcher({ action: 'importingContent', value: null });\n        inputsDispatcher({ action: 'inputValue', value: null });\n        inputsDispatcher({ action: 'isFormValid', value: false });\n        inputsDispatcher({ action: 'endpoint', value: '' });\n        inputsDispatcher({ action: 'isValid', value: null });\n    }\n\n    const isInvalidURL = Boolean(isValid.url);\n    let urlStateEndAdornment = null;\n    if (isValidating) {\n        urlStateEndAdornment = (\n            <InputAdornment position='end'>\n                <CircularProgress />\n            </InputAdornment>\n        );\n    } else if (isValid.url !== undefined) {\n        if (isInvalidURL) {\n            urlStateEndAdornment = (\n                <InputAdornment position='end'>\n                    <ErrorOutlineIcon fontSize='large' color='error' />\n                </InputAdornment>\n            );\n        } else {\n            urlStateEndAdornment = (\n                <InputAdornment position='end' id='url-validated'>\n                    <CheckIcon fontSize='large' color='primary' />\n                </InputAdornment>\n            );\n        }\n    }\n\n    const debouncedValidateURLOrEndpoint = useCallback(\n        debounce((newURL) => {\n            const handleResponse = (response) => {\n                const {\n                    body: { graphQLInfo },\n                } = response;\n                const isValidURL = response.body.isValid;\n                if (isValidURL) {\n                    inputsDispatcher({ action: 'graphQLInfo', value: graphQLInfo });\n                    setValidity({ isValidURL, file: null });\n                } else {\n                    let errorMessage;\n                    if (inputType === ProvideGraphQL.INPUT_TYPES.ENDPOINT) {\n                        errorMessage = 'Error occurred while generating GraphQL schema from endpoint';\n                    } else if (inputType === ProvideGraphQL.INPUT_TYPES.URL) {\n                        errorMessage = 'Error occurred while retrieving GraphQL schema from url';\n                    }\n                    setValidity({\n                        isValidURL,\n                        file: { message: errorMessage }\n                    });\n                }\n                onValidate(isValidURL);\n                setIsValidating(false);\n            };\n\n            const handleError = (error) => {\n                setValidity({ url: { message: error.message } });\n                onValidate(false);\n                setIsValidating(false);\n                console.error(error);\n            }\n            \n            const validationFunction = inputType === ProvideGraphQL.INPUT_TYPES.URL\n                ? () => API.validateGraphQL(newURL)\n                : () => API.validateGraphQL(newURL, { useIntrospection: true });\n\n            validationFunction()\n                .then(handleResponse)\n                .catch(handleError);\n\n            if(inputType === ProvideGraphQL.INPUT_TYPES.ENDPOINT){\n                inputsDispatcher({ action: 'endpoint', value: newURL });\n            }\n        }, 750),\n        [inputType],\n    );\n\n    function validateURL(value) {\n        const state = APIValidation.url.required().validate(value).error;\n        if (state === null) {\n            setIsValidating(true);\n            debouncedValidateURLOrEndpoint(apiInputs.inputValue);\n        } else {\n            setValidity({ ...isValid, url: state });\n            onValidate(false);\n        }\n    }\n\n    useEffect(() => {\n        if (inputValue && inputType === ProvideGraphQL.INPUT_TYPES.FILE) {\n            onDrop([inputValue]);\n        }\n    }, [inputType, inputValue]);\n\n    useEffect(() => {\n        reset();\n    }, [inputType]);\n\n    const accept = '.graphql,text/plain';\n    return (\n        <Root>\n            <Grid container>\n                <Grid item xs={12} sx={{ mb: 2 }}>\n                    <FormControl component='fieldset'>\n                        <FormLabel component='legend'>\n                            <>\n                                <sup className={classes.mandatoryStar}>*</sup>\n                                {' '}\n                                <FormattedMessage\n                                    id='Apis.Create.GraphQL.Steps.ProvideGraphQL.Input.type'\n                                    defaultMessage='Input Type'\n                                />\n                            </>\n                        </FormLabel>\n                        <RadioGroup\n                            aria-label='Input Source'\n                            value={apiInputs.inputType === '' ? 'url' : apiInputs.inputType}\n                            onChange={(event) => {\n                                inputsDispatcher({ action: 'inputType', value: event.target.value });\n                                setValidity({ file: null });\n                            }}\n                        >\n                            <FormControlLabel\n                                disabled={isValidating}\n                                value={ProvideGraphQL.INPUT_TYPES.FILE}\n                                control={<Radio color='primary' />}\n                                label={intl.formatMessage({\n                                    id: 'Apis.Create.GraphQL.create.api.form.file.label',\n                                    defaultMessage: 'GraphQL File/Archive',\n                                })}\n                                aria-label='GraphQL File/Archive'\n                                id='graphql-file-select-radio'\n                            />\n                            <FormControlLabel\n                                disabled={isValidating}\n                                value={ProvideGraphQL.INPUT_TYPES.URL}\n                                control={<Radio color='primary' />}\n                                label={intl.formatMessage({\n                                    id: 'Apis.Create.GraphQL.create.api.form.url.label',\n                                    defaultMessage: 'GraphQL SDL URL',\n                                })}\n                                id='graphql-url-select-radio'\n                            />\n                            <FormControlLabel\n                                disabled={isValidating}\n                                value={ProvideGraphQL.INPUT_TYPES.ENDPOINT}\n                                control={<Radio color='primary' />}\n                                label={intl.formatMessage({\n                                    id: 'Apis.Create.GraphQL.create.api.form.endpoint.label',\n                                    defaultMessage: 'GraphQL Endpoint',\n                                })}\n                                aria-label='GraphQL Endpoint'\n                                id='graphql-endpoint-select-radio'\n                            />\n                        </RadioGroup>\n                    </FormControl>\n                </Grid>\n                {isValid.file\n                    && (\n                        <Grid item md={12} sx={{ mb: 2}}>\n                            <Banner\n                                onClose={() => setValidity({ file: null })}\n                                disableActions\n                                dense\n                                paperProps={{ elevation: 1 }}\n                                type='error'\n                                message={isValid.file.message}\n                            />\n                        </Grid>\n                    )}\n                <Grid item md={12}>\n                    {isFileInput && (\n                        <>\n                            {apiInputs.inputValue ? (\n                                <List data-testid='uploaded-list-graphql'>\n                                    <ListItem\n                                        key={apiInputs.inputValue.path}\n                                        data-testid='uploaded-list-content-graphql'\n                                    >\n                                        <ListItemAvatar>\n                                            <Avatar>\n                                                <InsertDriveFile />\n                                            </Avatar>\n                                        </ListItemAvatar>\n                                        <ListItemText\n                                            primary={`\n                                                ${apiInputs.inputValue.path} - \n                                                ${humanFileSize(apiInputs.inputValue.size)}`\n                                            }\n                                            data-testid={'file-input-' + apiInputs.inputValue.path}\n                                        />\n                                        <ListItemSecondaryAction>\n                                            <IconButton\n                                                edge='end'\n                                                aria-label='delete'\n                                                onClick={() => {\n                                                    inputsDispatcher({ action: 'inputValue', value: null });\n                                                    inputsDispatcher({ action: 'isFormValid', value: false });\n                                                }}\n                                                data-testid='btn-delete-imported-file'\n                                                size='large'>\n                                                <DeleteIcon />\n                                            </IconButton>\n                                        </ListItemSecondaryAction>\n                                    </ListItem>\n                                </List>\n                            ) : (\n                                <DropZoneLocal\n                                    error={isValid.file}\n                                    onDrop={onDrop}\n                                    files={apiInputs.inputValue}\n                                    accept={accept}\n                                    ariaLabel='GraphQL file upload'\n                                >\n                                    {isValidating ? (<CircularProgress />)\n                                        : ([\n                                            <FormattedMessage\n                                                id='Apis.Create.GraphQL.Steps.ProvideGraphQL.Input.file.dropzone'\n                                                defaultMessage={'Drag & Drop files here {break} or {break} '\n                                                    + 'Browse files{break}({accept})'}\n                                                values={{ break: <br />, accept }}\n                                            />,\n                                            <Button\n                                                color='primary'\n                                                variant='contained'\n                                                data-testid='browse-to-upload-btn'\n                                                sx={{ mt: 1 }}\n                                            >\n                                                <FormattedMessage\n                                                    id='Apis.Create.GraphQL.Steps.ProvideGraphQL.Input.file.upload'\n                                                    defaultMessage='Browse File to Upload'\n                                                />\n                                            </Button>,\n                                        ]\n                                        )}\n                                </DropZoneLocal>\n                            )}\n                        </>\n                    )}\n                    {isURLInput && (\n                        <TextField\n                            autoFocus\n                            id='outlined-full-width-url'\n                            label={intl.formatMessage({\n                                id: 'Apis.Create.GraphQL.create.api.url.label',\n                                defaultMessage: 'GraphQL SDL URL',\n                            })}\n                            placeholder={intl.formatMessage({\n                                id: 'Apis.Create.GraphQL.create.api.url.placeholder',\n                                defaultMessage: 'Enter GraphQL SDL URL',\n                            })}\n                            fullWidth\n                            margin='normal'\n                            variant='outlined'\n                            onChange={({ target: { value } }) => inputsDispatcher({ action: 'inputValue', value })}\n                            value={apiInputs.inputValue}\n                            InputLabelProps={{\n                                shrink: true,\n                            }}\n                            InputProps={{\n                                onBlur: ({ target: { value } }) => {\n                                    validateURL(value);\n                                },\n                                endAdornment: urlStateEndAdornment,\n                            }}\n                            // 'Give the URL of GraphQL endpoint'\n                            helperText={(isValid.url && isValid.url.message)\n                                || (\n                                    <FormattedMessage\n                                        id='Apis.Create.GraphQL.create.api.url.helper.text'\n                                        defaultMessage='Click away to validate the URL'\n                                    />\n                                )}\n                            error={isInvalidURL}\n                            data-testid='graphql-add-form-url'\n                        />\n                    )}\n                    {isEndpointInput && (\n                        <TextField\n                            autoFocus\n                            id='outlined-full-width-endpoint'\n                            label={intl.formatMessage({\n                                id: 'Apis.Create.GraphQL.create.api.endpoint.label',\n                                defaultMessage: 'GraphQL Endpoint',\n                            })}\n                            placeholder={intl.formatMessage({\n                                id: 'Apis.Create.GraphQL.create.api.endpoint.placeholder',\n                                defaultMessage: 'Enter GraphQL Endpoint',\n                            })}\n                            fullWidth\n                            margin='normal'\n                            variant='outlined'\n                            onChange={({ target: { value } }) => inputsDispatcher({ action: 'inputValue', value })}\n                            value={apiInputs.inputValue}\n                            InputLabelProps={{\n                                shrink: true,\n                            }}\n                            InputProps={{\n                                onBlur: ({ target: { value } }) => {\n                                    validateURL(value);\n                                },\n                                endAdornment: urlStateEndAdornment,\n                            }}\n                            helperText={(isValid.url && isValid.url.message)\n                                || (\n                                    <FormattedMessage\n                                        id='Apis.Create.GraphQL.create.api.url.helper.text'\n                                        defaultMessage='Click away to validate the URL'\n                                    />\n                                )}\n                            error={isInvalidURL}\n                            data-testid='graphql-add-form-endpoint'\n                        />\n                    )}\n                </Grid>\n            </Grid>\n        </Root>\n    );\n}\n\nProvideGraphQL.defaultProps = {\n    onValidate: () => {},\n};\n\nProvideGraphQL.INPUT_TYPES = {\n    URL: 'url',\n    ENDPOINT: 'endpoint',\n    FILE: 'file',\n};\n\nProvideGraphQL.propTypes = {\n    apiInputs: PropTypes.shape({\n        type: PropTypes.string,\n        inputType: PropTypes.string,\n        inputValue: PropTypes.string\n    }).isRequired,\n    inputsDispatcher: PropTypes.func.isRequired,\n    onValidate: PropTypes.func,\n};\n","/*\n * Copyright (c) 2022, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useState } from \"react\";\nimport { Accordion, AccordionDetails, AccordionSummary, Box, CircularProgress, Grid, List, ListItem, \n    ListItemIcon, ListItemText, Typography } from '@mui/material';\nimport { ExpandMore } from '@mui/icons-material';\nimport { FormattedMessage } from \"react-intl\";\nimport LinterUI from \"AppComponents/Apis/Details/APIDefinition/LinterUI/LinterUI\";\nimport APILintingSummary from \"AppComponents/Apis/Details/APIDefinition/Linting/APILintingSummary\";\nimport {  \n    spectralSeverityMap as severityMap } from \"../../../Details/APIDefinition/Linting/Linting\"\n\ntype APILintingProps = {\n    inputValue: any,\n    isValidating: boolean,\n    isLinting: boolean,\n    linterResults: any,\n    validationErrors: any,\n    onLinterLineSelect: Function,\n};\n\nexport default function ValidationResults(props: APILintingProps) {\n    const {inputValue, isValidating, isLinting, linterResults, validationErrors, onLinterLineSelect} = props;\n    const [expandValidationErrors, setExpandValidationErrors] = useState(true);\n    const [expandLinterResults, setExpandLinterResults] = useState(false);\n    const [linterSelectedSeverity, setLinterSelectedSeverity] = useState(-1);\n\n\n    return (\n        (<>\n            <Grid item xs={10} md={12}>\n                <List>\n                    {inputValue && isValidating && (\n                        <ListItem>\n                            <ListItemIcon><CircularProgress /></ListItemIcon>\n                            <ListItemText>\n                                <FormattedMessage\n                                    id='Apis.Create.OpenAPI.Steps.ValidationResults.validating'\n                                    defaultMessage='Validating API definition'\n                                />\n                            </ListItemText>\n                        </ListItem>\n                    )}\n                    {inputValue && !isValidating && isLinting && (\n                        <ListItem>\n                            <ListItemIcon><CircularProgress /></ListItemIcon>\n                            <ListItemText>\n                                <FormattedMessage\n                                    id='Apis.Create.OpenAPI.Steps.ValidationResults.linting'\n                                    defaultMessage='Generating Linter Results'\n                                />\n                            </ListItemText>\n                        </ListItem>\n                    )}\n                </List>\n            </Grid>\n            {!isValidating && validationErrors.length>0 && (\n                <Grid item xs={10} md={12}>\n                    <Accordion\n                        expanded={expandValidationErrors}\n                        onChange={()=>{setExpandValidationErrors(!expandValidationErrors)}}>\n                        <AccordionSummary\n                            expandIcon={<ExpandMore/>}\n                            aria-controls='panel1bh-content'\n                            id='panel1bh-header'>\n                            <Grid container direction='row' \n                                justifyContent='space-between' alignItems='center'>\n                                <Typography sx={{ fontWeight: 600 }}>\n                                    <FormattedMessage\n                                        id='Apis.Create.OpenAPI.Steps.ValidationResults.validation.errros'\n                                        defaultMessage='Validation Errors'\n                                    />\n                                </Typography>\n                            </Grid>\n                        </AccordionSummary>\n                        <AccordionDetails>\n                            <List>\n                                {validationErrors.map((error:any)=>(\n                                    <ListItem>\n                                        <ListItemIcon>\n                                            {severityMap[0]}\n                                        </ListItemIcon>\n                                        <ListItemText>\n                                            <Typography>\n                                                <Box sx={{ fontWeight: 'bold' }}>{error.message}</Box>\n                                            </Typography>\n                                            <Typography>{error.description}</Typography>\n                                        </ListItemText>\n                                    </ListItem>\n                                    \n                                ))}\n                            </List>\n                            \n                        </AccordionDetails>\n                        \n                    </Accordion>\n                </Grid>\n            )}\n            {!isLinting && linterResults.length>0 && (\n                <Grid item xs={10} md={12}\n                    data-testid='itest-id-linter-results' sx={{ pt: 2 }}>\n                    <Accordion\n                        expanded={expandLinterResults}\n                        onChange={()=>{setExpandLinterResults(!expandLinterResults)}}>\n                        <AccordionSummary\n                            expandIcon={<ExpandMore />}\n                            aria-controls='panel1bh-content'\n                            id='panel1bh-header'>\n                            <Grid container direction='row' \n                                justifyContent='space-between' alignItems='center'>\n                                <Typography sx={{ fontWeight: 600 }}>\n                                    <FormattedMessage\n                                        id='Apis.Create.OpenAPI.Steps.ValidationResults.linter.results'\n                                        defaultMessage='Linter Results'\n                                    />\n                                </Typography>\n                                <APILintingSummary\n                                    linterResults={ linterResults }\n                                    handleChange = { (event:any, value:any)=>{\n                                        event.stopPropagation();\n                                        setLinterSelectedSeverity(value);\n                                        setExpandLinterResults(true);\n                                    } }\n                                />\n                            </Grid>\n                        </AccordionSummary>\n                        <AccordionDetails\n                            style={{padding:0}}>\n                            <LinterUI\n                                linterResults={ linterResults.filter(\n                                    (item: any)=> linterSelectedSeverity===-1||\n                                            item.severity===Number(linterSelectedSeverity))\n                                }\n                                severityMap={ severityMap }\n                                handleRowClick={ (line: any) => { \n                                    if(onLinterLineSelect) onLinterLineSelect(line);\n                                } }\n                            />\n                        </AccordionDetails>\n                    </Accordion>\n                </Grid>\n            )}\n        </>)\n    );\n}","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { styled } from '@mui/material/styles';\nimport PropTypes from 'prop-types';\nimport Radio from '@mui/material/Radio';\nimport Grid from '@mui/material/Grid';\nimport TextField from '@mui/material/TextField';\nimport RadioGroup from '@mui/material/RadioGroup';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport FormControl from '@mui/material/FormControl';\nimport FormLabel from '@mui/material/FormLabel';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport InputAdornment from '@mui/material/InputAdornment';\nimport CheckIcon from '@mui/icons-material/Check';\nimport ErrorOutlineIcon from '@mui/icons-material/ErrorOutline';\nimport Button from '@mui/material/Button';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemAvatar from '@mui/material/ListItemAvatar';\nimport Avatar from '@mui/material/Avatar';\nimport IconButton from '@mui/material/IconButton';\nimport InsertDriveFile from '@mui/icons-material/InsertDriveFile';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport ListItemSecondaryAction from '@mui/material/ListItemSecondaryAction';\nimport ListItemText from '@mui/material/ListItemText';\nimport debounce from 'lodash.debounce'; // WARNING: This is coming from mui-datatable as a transitive dependency\nimport YAML from 'js-yaml';\n\nimport APIValidation from 'AppData/APIValidation';\nimport API from 'AppData/api';\nimport DropZoneLocal, { humanFileSize } from 'AppComponents/Shared/DropZoneLocal';\nimport {  \n    getLinterResultsFromContent } from \"../../../Details/APIDefinition/Linting/Linting\";\nimport ValidationResults from './ValidationResults';\n\nconst PREFIX = 'ProvideOpenAPI';\n\nconst classes = {\n    mandatoryStar: `${PREFIX}-mandatoryStar`\n};\n\n\nconst Root = styled('div')((\n    {\n        theme\n    }\n) => ({\n    [`& .${classes.mandatoryStar}`]: {\n        color: theme.palette.error.main,\n    }\n}));\n\n/**\n * Sub component of API Create using OpenAPI UI, This is handling the taking input of WSDL file or URL from the user\n * In the create API using OpenAPI wizard first step out of 2 steps\n * @export\n * @param {*} props\n * @returns {React.Component} @inheritdoc\n */\nexport default function ProvideOpenAPI(props) {\n    const { apiInputs, inputsDispatcher, onValidate, onLinterLineSelect } = props;\n    const isFileInput = apiInputs.inputType === 'file';\n    const { inputType, inputValue } = apiInputs;\n\n    // If valid value is `null`,that means valid, else an error object will be there\n    const [isValid, setValidity] = useState({});\n    const [linterResults, setLinterResults] = useState ([]);\n    const [validationErrors, setValidationErrors] = useState([]);\n    const [isValidating, setIsValidating] = useState(false);\n    const [isLinting, setIsLinting] = useState(false);\n    \n    const intl = useIntl();\n\n    function lint(content) {\n        // Validate and linting\n        setIsLinting(true);\n        getLinterResultsFromContent(content, null, 'HTTP').then((results)=>{\n            if (results) {\n                setLinterResults(results);\n            } else {\n                setLinterResults([]);\n            }\n        }).finally(()=>{setIsLinting(false);});\n    }\n\n    function reset() {\n        setIsLinting(false);\n        setLinterResults([]);\n        setValidationErrors([]);\n        inputsDispatcher({ action: 'importingContent', value: null });\n        inputsDispatcher({ action: 'inputValue', value: null });\n        inputsDispatcher({ action: 'isFormValid', value: false });\n    }\n\n    function hasJSONStructure (definition) {\n        if (typeof definition !== 'string') return false;\n        try {\n            const result = JSON.parse(definition);\n            return result && typeof result === 'object';\n        } catch (err) {\n            console.log(\"API definition is in not in JSON format\");\n            return false;\n        }\n    }\n\n    const validateURLDebounced = useCallback(\n        debounce((newURL) => { // Example: https://codesandbox.io/s/debounce-example-l7fq3?file=/src/App.js\n            API.validateOpenAPIByUrl(newURL, { returnContent: true }).then((response) => {\n                const {\n                    body: {\n                        isValid: isValidURL, info, content, errors,\n                    },\n                } = response;\n                if (isValidURL) {\n                    let formattedContent;\n                    if (hasJSONStructure(content)) {\n                        formattedContent = JSON.stringify(JSON.parse(content), null, 2);\n                    } else {\n                        formattedContent = JSON.stringify(YAML.load(content), null, 2);\n                    }\n                    lint(formattedContent);\n                    inputsDispatcher({ action: 'importingContent', value: formattedContent});\n                    info.content = content;\n                    inputsDispatcher({ action: 'preSetAPI', value: info });\n                    setValidity({ ...isValid, url: null });\n                    setValidationErrors([]);\n                } else {\n                    setValidity({ ...isValid, url: { message: intl.formatMessage({\n                        id: 'Apis.Create.OpenAPI.create.api.openapi.content.validation.failed',\n                        defaultMessage: 'OpenAPI content validation failed!'\n                    }) } });\n                    setValidationErrors(errors);\n                }\n                onValidate(isValidURL);\n                setIsValidating(false);\n            }).catch((error) => {\n                setValidity({ url: { message: error.message } });\n                onValidate(false);\n                setIsValidating(false);\n                console.error(error);\n                \n            });\n        }, 750),\n        [],\n    );\n    /**\n     *\n     *\n     * @param {*} files\n     */\n    function onDrop(files) {\n        setIsValidating(true);\n\n        // Why `files.pop()` below is , We only handle one OpenAPI file at a time,\n        // So if use provide multiple, We would only\n        // accept the first file. This information is shown in the dropdown helper text\n        const file = files.pop();\n        let validFile = null;\n        API.validateOpenAPIByFile(file)\n            .then((response) => {\n                const {\n                    body: { isValid: isValidFile, info, errors },\n                } = response;\n                if (isValidFile) {\n                    validFile = file;\n                    inputsDispatcher({ action: 'preSetAPI', value: info });\n                    setValidity({ ...isValid, file: null });\n                } else {\n                    setValidity({\n                        ...isValid, file: {\n                            message: intl.formatMessage({\n                                id: 'Apis.Create.OpenAPI.create.api.openapi.content.validation.failed',\n                                defaultMessage: 'OpenAPI content validation failed!'\n                            })\n                        }\n                    });\n                    setValidationErrors(errors);\n                }\n            })\n            .catch((error) => {\n                setValidity({\n                    ...isValid, file: {\n                        message: intl.formatMessage({\n                            id: 'Apis.Create.OpenAPI.create.api.openapi.content.validation.failed',\n                            defaultMessage: 'OpenAPI content validation failed!'\n                        })\n                    }\n                });\n                console.error(error);\n            })\n            .finally(() => {\n                setIsValidating(false); // Stop the loading animation\n                onValidate(validFile !== null); // If there is a valid file then validation has passed\n                // If the given file is valid , we set it as the inputValue else set `null`\n                inputsDispatcher({ action: 'inputValue', value: file });\n            });\n\n        if (!file.path.endsWith(\".zip\")){\n            const read = new FileReader();\n            read.readAsText(file);\n            read.onloadend = function(){\n                const content = read.result?.toString();\n                inputsDispatcher({ action: 'importingContent', value: content });\n                lint(content);\n            }\n        }\n    }\n\n    /**\n     * Trigger the provided onValidate call back on each input validation run\n     * Do the validation state aggregation and call the onValidate method with aggregated value\n     * @param {Object} state Validation state object returned from Joi `.validate()` method\n     */\n    function validateURL(value) {\n        const state = APIValidation.url.required().validate(value).error;\n        // State `null` means URL is valid, We do backend validation only if it's a valid URL\n        if (state === null) {\n            setIsValidating(true);\n            validateURLDebounced(apiInputs.inputValue);\n            // Valid URL string\n            // TODO: Handle catch network or api call failures ~tmkb\n        } else {\n            setValidity({ ...isValid, url: state });\n            onValidate(false);\n        }\n    }\n\n    useEffect(() => {\n        reset();\n    }, [inputType]);\n\n    useEffect(() => {\n        if (inputValue && inputType === ProvideOpenAPI.INPUT_TYPES.FILE) {\n            onDrop([inputValue]);\n        }\n    }, [inputType, inputValue]);\n\n    // TODO: Use validation + input to separate component that can be share with wsdl,swagger,graphql URL inputs ~tmkb\n    const isInvalidURL = Boolean(isValid.url);\n    let urlStateEndAdornment = null;\n    if (isValidating) {\n        urlStateEndAdornment = (\n            <InputAdornment position='end'>\n                <CircularProgress />\n            </InputAdornment>\n        );\n    } else if (isValid.url !== undefined) {\n        if (isInvalidURL) {\n            urlStateEndAdornment = (\n                <InputAdornment position='end'>\n                    <ErrorOutlineIcon fontSize='large' color='error' />\n                </InputAdornment>\n            );\n        } else {\n            urlStateEndAdornment = (\n                <InputAdornment position='end' id='url-validated'>\n                    <CheckIcon fontSize='large' color='primary' />\n                </InputAdornment>\n            );\n        }\n    }\n\n    return (\n        <Root>\n            <Grid container>\n                <Grid item xs={12} sx={{ mb: 2 }}>\n                    <FormControl component='fieldset'>\n                        <FormLabel component='legend'>\n                            <>\n                                <sup className={classes.mandatoryStar}>*</sup>\n                                {' '}\n                                <FormattedMessage\n                                    id='Apis.Create.OpenAPI.Steps.ProvideOpenAPI.Input.type'\n                                    defaultMessage='Input Type'\n                                />\n                            </>\n                        </FormLabel>\n                        <RadioGroup\n                            aria-label='Input Source'\n                            value={apiInputs.inputType}\n                            onChange={(event) => inputsDispatcher({ action: 'inputType', \n                                value: event.target.value })}\n                        >\n                            <FormControlLabel\n                                disabled={isLinting || isValidating}\n                                value={ProvideOpenAPI.INPUT_TYPES.URL}\n                                control={<Radio color='primary' />}\n                                label={intl.formatMessage({\n                                    id: 'Apis.Create.OpenAPI.create.api.form.url.label',\n                                    defaultMessage: 'OpenAPI URL',\n                                })}\n                                id='open-api-url-select-radio'\n                            />\n                            <FormControlLabel\n                                disabled={isLinting || isValidating}\n                                value={ProvideOpenAPI.INPUT_TYPES.FILE}\n                                control={<Radio color='primary' />}\n                                label={intl.formatMessage({\n                                    id: 'Apis.Create.OpenAPI.create.api.form.file.label',\n                                    defaultMessage: 'OpenAPI File/Archive',\n                                })}\n                                aria-label='OpenAPI File/Archive'\n                                id='open-api-file-select-radio'\n                            />\n                        </RadioGroup>\n                    </FormControl>\n                </Grid>\n                <Grid item xs={12}>\n                    {isFileInput ? (\n                        <>\n                            {apiInputs.inputValue ? (\n                                <List>\n                                    <ListItem key={apiInputs.inputValue.path}>\n                                        <ListItemAvatar>\n                                            <Avatar>\n                                                <InsertDriveFile />\n                                            </Avatar>\n                                        </ListItemAvatar>\n                                        <ListItemText\n                                            primary={`${apiInputs.inputValue.path} -\n                                    ${humanFileSize(apiInputs.inputValue.size)}`}\n                                        />\n                                        <ListItemSecondaryAction>\n                                            <IconButton edge='end' aria-label='delete' onClick={reset} size='large'>\n                                                <DeleteIcon />\n                                            </IconButton>\n                                        </ListItemSecondaryAction>\n                                    </ListItem>\n                                </List>\n                            ) : (\n                                <DropZoneLocal\n                                    error={isValid.file}\n                                    onDrop={onDrop}\n                                    files={apiInputs.inputValue}\n                                    accept='.bz,.bz2,.gz,.rar,.tar,.zip,.7z,.json,application/json,.yaml'\n                                >\n                                    {isValidating ? (<CircularProgress />)\n                                        : ([\n                                            <FormattedMessage\n                                                id='Apis.Create.OpenAPI.Steps.ProvideOpenAPI.Input.file.dropzone'\n                                                defaultMessage={'Drag & Drop Open API File/Archive '\n                                                 + 'here {break} or {break} Browse files'}\n                                                values={{ break: <br /> }}\n                                            />,\n                                            <Button\n                                                color='primary'\n                                                variant='contained'\n                                                id='browse-to-upload-btn'\n                                                onClick={ reset }\n                                                sx={{ mt: 1 }}\n                                            >\n                                                <FormattedMessage\n                                                    id='Apis.Create.OpenAPI.Steps.ProvideOpenAPI.Input.file.upload'\n                                                    defaultMessage='Browse File to Upload'\n                                                />\n                                            </Button>,\n                                        ]\n                                        )}\n                                </DropZoneLocal>\n                            )}\n                        </>\n                    ) : (\n                        <TextField\n                            autoFocus\n                            id='outlined-full-width'\n                            label={intl.formatMessage({\n                                id: 'Apis.Create.OpenAPI.create.api.url.label',\n                                defaultMessage: 'OpenAPI URL',\n                            })}\n                            placeholder={intl.formatMessage({\n                                id: 'Apis.Create.OpenAPI.create.api.url.placeholder',\n                                defaultMessage: 'Enter OpenAPI URL',\n                            })}\n                            fullWidth\n                            margin='normal'\n                            variant='outlined'\n                            onChange={({ target: { value } }) => inputsDispatcher({ action: 'inputValue', value })}\n                            value={apiInputs.inputValue}\n                            InputLabelProps={{\n                                shrink: true,\n                            }}\n                            InputProps={{\n                                onBlur: ({ target: { value } }) => {\n                                    validateURL(value);\n                                },\n                                endAdornment: urlStateEndAdornment,\n                            }}\n                            // 'Give the URL of OpenAPI endpoint'\n                            helperText={(isValid.url && isValid.url.message)\n                                || (\n                                    <FormattedMessage\n                                        id='Apis.Create.OpenAPI.create.api.url.helper.text'\n                                        defaultMessage='Click away to validate the URL'\n                                    />\n                                )}\n                            error={isInvalidURL}\n                            data-testid='swagger-url-endpoint'\n                        />\n                    )}\n                </Grid>\n                <ValidationResults \n                    inputValue={inputValue} \n                    isValidating={isValidating}\n                    isLinting={isLinting}\n                    validationErrors={validationErrors}\n                    linterResults={linterResults}\n                    onLinterLineSelect={onLinterLineSelect}\n                />\n                <Grid item xs={2} md={5} />\n            </Grid>\n        </Root>\n    );\n}\n\nProvideOpenAPI.defaultProps = {\n    onValidate: () => { },\n};\nProvideOpenAPI.INPUT_TYPES = {\n    URL: 'url',\n    FILE: 'file',\n};\nProvideOpenAPI.propTypes = {\n    apiInputs: PropTypes.shape({\n        type: PropTypes.string,\n        inputType: PropTypes.string,\n        inputValue: PropTypes.string,\n    }).isRequired,\n    inputsDispatcher: PropTypes.func.isRequired,\n    onValidate: PropTypes.func,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState } from 'react';\nimport { styled } from '@mui/material/styles';\nimport PropTypes from 'prop-types';\nimport Radio from '@mui/material/Radio';\nimport Grid from '@mui/material/Grid';\nimport TextField from '@mui/material/TextField';\nimport RadioGroup from '@mui/material/RadioGroup';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport FormControl from '@mui/material/FormControl';\nimport FormLabel from '@mui/material/FormLabel';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport InputAdornment from '@mui/material/InputAdornment';\nimport Button from '@mui/material/Button';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemAvatar from '@mui/material/ListItemAvatar';\nimport Avatar from '@mui/material/Avatar';\nimport IconButton from '@mui/material/IconButton';\nimport InsertDriveFile from '@mui/icons-material/InsertDriveFile';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport ListItemSecondaryAction from '@mui/material/ListItemSecondaryAction';\nimport ListItemText from '@mui/material/ListItemText';\nimport ErrorOutlineIcon from '@mui/icons-material/ErrorOutline';\nimport CheckIcon from '@mui/icons-material/Check';\n\nimport APIValidation from 'AppData/APIValidation';\nimport Wsdl from 'AppData/Wsdl';\nimport Banner from 'AppComponents/Shared/Banner';\nimport DropZoneLocal, { humanFileSize } from 'AppComponents/Shared/DropZoneLocal';\n\nconst PREFIX = 'ProvideWSDL';\n\nconst classes = {\n    mandatoryStar: `${PREFIX}-mandatoryStar`\n};\n\n\nconst Root = styled('div')((\n    {\n        theme\n    }\n) => ({\n    [`& .${classes.mandatoryStar}`]: {\n        color: theme.palette.error.main,\n    }\n}));\n\n/**\n * Sub component of API Create using WSDL UI, This is handling the taking input of WSDL file or URL from the user\n * In the create API using WSDL wizard first step out of 2 steps\n * @export\n * @param {*} props\n * @returns {React.Component} @inheritdoc\n */\nexport default function ProvideWSDL(props) {\n    const { apiInputs, inputsDispatcher, onValidate } = props;\n    const isFileInput = apiInputs.inputType === 'file';\n    const isGenerateRESTAPI = apiInputs.type === 'SOAPTOREST';\n\n    const [isError, setValidity] = useState(); // If valid value is `null` else an error object will be there\n    const [isValidating, setIsValidating] = useState(false);\n    const isCreateMode = apiInputs.mode === 'create';\n\n    const intl = useIntl();\n    /**\n     * Handles WSDL validation response and returns the state.\n     *\n     * @param {*} response WSDL validation response\n     * @param {string} type of the input; file or url\n     * @returns {boolean} validation status\n     */\n    function handleWSDLValidationResponse(response, type) {\n        const isWSDLValid = response.body.isValid;\n        let success = false;\n        if (isWSDLValid) {\n            if (type === 'file') {\n                setValidity({ ...isError, file: null });\n            } else {\n                setValidity({ ...isError, url: null });\n            }\n            success = true;\n        } else if (type === 'file') {\n            setValidity({\n                ...isError, file: {\n                    message: intl.formatMessage({\n                        id: 'Apis.Create.WSDL.content.validation.file.failed',\n                        defaultMessage: 'WSDL content validation failed!',\n                    }),\n                }\n            });\n        } else {\n            setValidity({\n                ...isError, url: {\n                    message: intl.formatMessage({\n                        id: 'Apis.Create.WSDL.content.validation.url.failed',\n                        defaultMessage: 'Invalid WSDL URL!',\n                    }),\n                }\n            });\n        }\n        onValidate(isWSDLValid);\n        setIsValidating(false);\n        return success;\n    }\n\n    /**\n     * Handles WSDL validation error response.\n     *\n     * @param error {*} error object\n     * @param type {string} file/url type\n     */\n    function handleWSDLValidationErrorResponse(error, type) {\n        let message = intl.formatMessage({\n            id: 'Apis.Create.WSDL.validation.error.response',\n            defaultMessage: 'Error occurred during validation',\n        });\n        if (error.response && error.response.body.description) {\n            message = error.response.body.description;\n        }\n        if (type === 'file') {\n            setValidity({ ...isError, file: { message } });\n        } else {\n            setValidity({ ...isError, url: { message } });\n        }\n        setIsValidating(false);\n    }\n\n    /**\n     * Trigger the onValidate call back after validating WSDL url from the state.\n     * Do the validation state aggregation and call the onValidate method with aggregated value\n     * @param {Object} state Validation state object\n     */\n    function validateUrl(state) {\n        if (state === null) {\n            setIsValidating(true);\n            Wsdl.validateUrl(apiInputs.inputValue).then((response) => {\n                handleWSDLValidationResponse(response, 'url');\n            }).catch((error) => {\n                handleWSDLValidationErrorResponse(error, 'url');\n            });\n        } else {\n            setValidity({ ...isError, url: state });\n            onValidate(false);\n        }\n    }\n\n    /**\n     * Trigger the provided onValidate callback after validating the provided WSDL file.\n     * Do the validation state aggregation and call the onValidate method with aggregated value\n     * @param {*} file WSDL file or archive\n     * @param {Object} state Validation state object\n     */\n    function validateFileOrArchive(file, state = null) {\n        if (state === null) {\n            setIsValidating(true);\n            Wsdl.validateFileOrArchive(file).then((response) => {\n                if (handleWSDLValidationResponse(response, 'file')) {\n                    inputsDispatcher({ action: 'inputValue', value: file });\n                }\n            }).catch((error) => {\n                handleWSDLValidationErrorResponse(error, 'file');\n            });\n        } else {\n            setValidity({ ...isError, file: state });\n            onValidate(false);\n        }\n    }\n\n    /**\n     *\n     *\n     * @param {*} files\n     */\n    function onDrop(files) {\n        // Why `files[0]` below is , We only handle one wsdl file at a time, So if use provide multiple, We would only\n        // accept the first file. This information is shown in the dropdown helper text\n        validateFileOrArchive(files[0]);\n    }\n\n    /**\n     *  Render uploaded WSDL schema list\n     */\n    function renderUploadedList() {\n        return (\n            <List>\n                <ListItem key={apiInputs.inputValue.path}>\n                    <ListItemAvatar>\n                        <Avatar>\n                            <InsertDriveFile />\n                        </Avatar>\n                    </ListItemAvatar>\n                    <ListItemText\n                        primary={`${apiInputs.inputValue.path} - ${humanFileSize(apiInputs.inputValue.size)}`}\n                    />\n                    <ListItemSecondaryAction>\n                        <IconButton\n                            edge='end'\n                            aria-label='delete'\n                            onClick={() => {\n                                inputsDispatcher({ action: 'inputValue', value: null });\n                                inputsDispatcher({ action: 'isFormValid', value: false });\n                            }}\n                            size='large'>\n                            <DeleteIcon />\n                        </IconButton>\n                    </ListItemSecondaryAction>\n                </ListItem>\n            </List>\n        );\n    }\n\n    const dropBoxControlLabel = isGenerateRESTAPI ? (\n        <FormattedMessage\n            id='Apis.Create.WSDL.Steps.ProvideWSDL.Input.file.dropzone'\n            defaultMessage='Drag & Drop WSDL file {break} -or-'\n            values={{ break: <br /> }}\n        />\n    ) : (\n        <FormattedMessage\n            id='Apis.Create.WSDL.Steps.ProvideWSDL.Input.file.archive.dropzone'\n            defaultMessage='Drag & Drop WSDL file/archive {break} -or-'\n            values={{ break: <br /> }}\n        />\n    );\n\n    /**\n     * Render file upload UI.\n     *\n     */\n    function renderFileUpload() {\n        if (apiInputs.inputValue) {\n            return renderUploadedList();\n        }\n        // TODO: Pass message saying accepting only one file ~tmkb\n        return (\n            <DropZoneLocal\n                error={isError && isError.file}\n                onDrop={onDrop}\n                files={apiInputs.inputValue}\n                accept='.bz,.bz2,.gz,.rar,.tar,.zip,.7z,.wsdl'\n            >\n                {isValidating ? (<CircularProgress />)\n                    : (\n                        (<Root>\n                            { dropBoxControlLabel }\n                            <Button\n                                color='primary'\n                                variant='contained'\n                            >\n                                <FormattedMessage\n                                    id='Apis.Create.WSDL.Steps.ProvideWSDL.Input.file.upload'\n                                    defaultMessage='Browse File to Upload'\n                                />\n                            </Button>\n                        </Root>)\n                    )}\n            </DropZoneLocal>\n        );\n    }\n\n    let urlStateEndAdornment = null;\n    if (isValidating) {\n        urlStateEndAdornment = (\n            <InputAdornment position='end'>\n                <CircularProgress />\n            </InputAdornment>\n        );\n    } else if (isError && isError.url) {\n        urlStateEndAdornment = (\n            <InputAdornment position='end'>\n                <ErrorOutlineIcon fontSize='large' color='error' />\n            </InputAdornment>\n        );\n    } else if (isError && !isError.url) {\n        urlStateEndAdornment = (\n            <InputAdornment position='end'>\n                <CheckIcon fontSize='large' color='primary' />\n            </InputAdornment>\n        );\n    }\n\n    return (\n        <>\n            <Grid container spacing={5}>\n                {isCreateMode\n                && (\n                    <Grid item md={12}>\n                        <FormControl component='fieldset'>\n                            <FormLabel component='legend'>\n                                <>\n                                    <sup className={classes.mandatoryStar}>*</sup>\n                                    {' '}\n                                    <FormattedMessage\n                                        id='Apis.Create.WSDL.Steps.ProvideWSDL.implementation.type'\n                                        defaultMessage='Implementation Type'\n                                    />\n                                </>\n                            </FormLabel>\n                            <RadioGroup\n                                aria-label='Implementation type'\n                                value={apiInputs.type ? apiInputs.type : 'SOAP'}\n                                onChange={\n                                    (event) => {\n                                        inputsDispatcher({ action: 'type', value: event.target.value });\n                                        inputsDispatcher({ action: 'isFormValid', value: false });\n                                        inputsDispatcher({ action: 'inputValue', value: null });\n                                        inputsDispatcher({ action: 'inputType', value: 'url' });\n                                    }\n                                }\n                            >\n                                <FormControlLabel\n                                    value='SOAP'\n                                    control={<Radio color='primary' />}\n                                    label={(\n                                        <FormattedMessage\n                                            id='Apis.Create.WSDL.Steps.ProvideWSDL.passthrough.label'\n                                            defaultMessage='Pass Through'\n                                        />\n                                    )}\n                                />\n                                <FormControlLabel\n                                    value='SOAPTOREST'\n                                    control={<Radio color='primary' />}\n                                    label={(\n                                        <FormattedMessage\n                                            id='Apis.Create.WSDL.Steps.ProvideWSDL.SOAPtoREST.label'\n                                            defaultMessage='Generate REST APIs'\n                                        />\n                                    )}\n                                />\n                            </RadioGroup>\n                        </FormControl>\n                    </Grid>\n                )}\n                <Grid item md={12}>\n                    <FormControl component='fieldset'>\n                        <FormLabel component='legend'>\n                            <>\n                                <sup className={classes.mandatoryStar}>*</sup>\n                                {' '}\n                                <FormattedMessage\n                                    id='Apis.Create.WSDL.Steps.ProvideWSDL.Input.type'\n                                    defaultMessage='Input Type'\n                                />\n                            </>\n                        </FormLabel>\n                        <RadioGroup\n                            aria-label='Input type'\n                            value={apiInputs.inputType}\n                            onChange={(event) => inputsDispatcher({ action: 'inputType', value: event.target.value })}\n                        >\n                            <FormControlLabel\n                                value='url'\n                                control={<Radio color='primary' />}\n                                label={(\n                                    <FormattedMessage\n                                        id='Apis.Create.WSDL.Steps.ProvideWSDL.url.label'\n                                        defaultMessage='WSDL URL'\n                                    />\n                                )}\n                            />\n                            <FormControlLabel\n                                value='file'\n                                control={<Radio color='primary' />}\n                                label={(\n                                    <FormattedMessage\n                                        id='Apis.Create.WSDL.Steps.ProvideWSDL.file.label.wsdl.file.archive'\n                                        defaultMessage='WSDL File/Archive'\n                                    />\n                                )}\n                            />\n                        </RadioGroup>\n                    </FormControl>\n                </Grid>\n                {isError && isError.file\n                    && (\n                        <Grid item md={11}>\n                            <Banner\n                                onClose={() => setValidity({ file: null })}\n                                disableActions\n                                dense\n                                paperProps={{ elevation: 1 }}\n                                type='error'\n                                message={isError.file.message}\n                            />\n                        </Grid>\n                    )}\n                <Grid item md={11}>\n                    {isFileInput ? renderFileUpload()\n                        : (\n                            <TextField\n                                autoFocus\n                                id='outlined-full-width'\n                                label={intl.formatMessage({\n                                    id: 'Apis.Create.WSDL.url.label',\n                                    defaultMessage: 'WSDL URL',\n                                })}\n                                placeholder={intl.formatMessage({\n                                    id: 'Apis.Create.WSDL.url.placeholder',\n                                    defaultMessage: 'Enter WSDL URL',\n                                })}\n                                fullWidth\n                                margin='normal'\n                                variant='outlined'\n                                onChange={({ target: { value } }) => inputsDispatcher({ action: 'inputValue', value })}\n                                value={apiInputs.inputValue}\n                                InputLabelProps={{\n                                    shrink: true,\n                                }}\n                                InputProps={{\n                                    onBlur: ({ target: { value } }) => {\n                                        validateUrl(APIValidation.url.required().validate(value).error);\n                                    },\n                                    endAdornment: urlStateEndAdornment,\n                                }}\n                                helperText={\n                                    (isError && isError.url && isError.url.message)\n                                    || intl.formatMessage({\n                                        id: 'Apis.Create.WSDL.url.helper.text',\n                                        defaultMessage: 'Click away to validate the URL',\n                                    })\n                                }\n                                error={isError && Boolean(isError.url)}\n                                disabled={isValidating}\n                            />\n                        )}\n\n                </Grid>\n            </Grid>\n        </>\n    );\n}\n\nProvideWSDL.defaultProps = {\n    onValidate: () => { },\n};\nProvideWSDL.propTypes = {\n    apiInputs: PropTypes.shape({\n        type: PropTypes.string,\n        inputType: PropTypes.string,\n        mode: PropTypes.string,\n    }).isRequired,\n    inputsDispatcher: PropTypes.func.isRequired,\n    onValidate: PropTypes.func,\n};\n","/* eslint-disable */\n/*\n * Copyright (c) 2022, WSO2 Inc. (http://www.wso2.com). All Rights Reserved.\n *\n * This software is the property of WSO2 Inc. and its suppliers, if any.\n * Dissemination of any information or reproduction of any material contained\n * herein is strictly forbidden, unless permitted by WSO2 in accordance with\n * the WSO2 Commercial License available at http://wso2.com/licenses.\n * For specific language governing the permissions and limitations under\n * this license, please see the license as well as any agreement youve\n * entered into with WSO2 governing the purchase of this software and any\n * associated services.\n */\nimport React from 'react';\nimport { styled } from '@mui/material/styles';\nimport Paper from '@mui/material/Paper';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TablePagination from '@mui/material/TablePagination';\nimport TableRow from '@mui/material/TableRow';\nimport { spectralSeverityMap as severityMap} from '../Linting/Linting'\n\nconst PREFIX = 'LinterUI';\n\nconst classes = {\n    tableCell: `${PREFIX}-tableCell`,\n    headerTableCell: `${PREFIX}-headerTableCell`,\n    tableRow: `${PREFIX}-tableRow`,\n    tableWrapper: `${PREFIX}-tableWrapper`,\n    headerTableRow: `${PREFIX}-headerTableRow`\n};\n\nconst StyledPaper = styled(Paper)(({ theme }) => ({\n    [`& .${classes.tableCell}`]: {\n        border: 'none',\n        fontSize: '10px !important',\n    },\n\n    [`& .${classes.headerTableCell}`]: {\n        background: theme.palette.background.paper,\n        fontSize: 10,\n        fontWeight: 'bold',\n        border: 'none',\n    },\n\n    [`& .${classes.tableRow}`]: {\n        '&:nth-of-type(odd)': {\n            backgroundColor: theme.palette.action.hover,\n        },\n        cursor: 'pointer',\n    },\n\n    [`& .${classes.tableWrapper}`]: {\n        '& table tr td:first-of-type': {\n            width: 10,\n        },\n        '& table tr td:nth-of-type(2)': {\n            width: 10,\n        },\n    },\n\n    [`& .${classes.headerTableRow}`]: {\n        display: 'flex',\n    }\n}));\n\nexport default function LinterUI(props) {\n    const [page, setPage] = React.useState(0);\n    const [rowsPerPage, setRowsPerPage] = React.useState(10);\n    const { linterResults, handleRowClick } = props;\n\n\n    function getData(type, line, message, code) {\n        return { type, line, message, code};\n    }\n\n    const columns = [\n        { id: 'type',\n            label: 'Type',\n            minWidth: 50,\n        },\n        { id: 'line',\n            label: 'Line',\n            minWidth: 50\n        },\n        {\n            id: 'message',\n            label: 'Message',\n            minWidth: 170,\n            align: 'left',\n        },\n    ];\n\n    const  rows = linterResults.map((item, index) => getData(\n            severityMap[item.severity],\n            item.range.start.line + 1, \n            item.message,\n            index,\n    ));\n\n    const handleChangePage = (event, newPage) => {\n        setPage(newPage);\n    };\n\n    const handleChangeRowsPerPage = (event) => {\n        setRowsPerPage(+event.target.value);\n        setPage(0);\n    };\n\n    return (\n        <StyledPaper sx={{ width: '100%', overflow: 'hidden' }}>\n            <TableContainer sx={{ maxHeight: 440 }} className={classes.tableWrapper}>\n                <Table stickyHeader aria-label='linter-table'>\n                    <TableHead>\n                        <TableRow>\n                            {columns.map((column) => (\n                                <TableCell\n                                    key={column.id}\n                                    align={column.align}\n                                    className={classes.headerTableCell}\n                                    style={{ minWidth: column.minWidth }}\n                                >\n                                    {column.label}\n                                </TableCell>\n                            ))}\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {rows\n                            .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                            .map((row) => {\n                                return (\n                                    <TableRow\n                                        key={row.code}\n                                        className={classes.tableRow}\n                                        onClick={() => handleRowClick(row.line)}\n                                    >\n                                        {columns.map((column) => {\n                                            const value = row[column.id];\n                                            return (\n                                                <TableCell\n                                                    key={column.id}\n                                                    align={column.align}\n                                                    className={classes.tableCell}>\n                                                    {column.format && typeof value === 'number'\n                                                        ? column.format(value)\n                                                        : value}\n                                                </TableCell>\n                                            );\n                                        })}\n                                    </TableRow>\n                                );\n                            })}\n                    </TableBody>\n                </Table>\n            </TableContainer>\n            <TablePagination\n                rowsPerPageOptions={[10, 25, 100]}\n                component='div'\n                count={rows.length}\n                rowsPerPage={rowsPerPage}\n                page={page}\n                onPageChange={handleChangePage}\n                onRowsPerPageChange={handleChangeRowsPerPage}\n            />\n        </StyledPaper>\n    );\n}\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n// Check this file for more info  <CARBON_APIMGT>/components/apimgt/org.wso2.carbon.apimgt.impl\n// /src/main/java/org/wso2/carbon/apimgt/impl/APIConstants.java\n\nconst DEFAULT_API_SECURITY_OAUTH2 = 'oauth2';\nconst API_SECURITY_BASIC_AUTH = 'basic_auth';\nconst API_SECURITY_API_KEY = 'api_key';\nconst API_SECURITY_MUTUAL_SSL = 'mutualssl';\nconst API_SECURITY_OAUTH_BASIC_AUTH_API_KEY_MANDATORY = 'oauth_basic_auth_api_key_mandatory';\nconst API_SECURITY_MUTUAL_SSL_MANDATORY = 'mutualssl_mandatory';\nconst API_SECURITY_OAUTH_BASIC_AUTH_API_KEY_OPTIONAL = 'oauth_basic_auth_api_key_optional';\nconst API_SECURITY_MUTUAL_SSL_OPTIONAL = 'mutualssl_optional';\nconst API_SECURITY_KEY_TYPE_PRODUCTION = 'PRODUCTION';\nconst API_SECURITY_KEY_TYPE_SANDBOX = 'SANDBOX';\nconst ALL_AUDIENCES_ALLOWED = 'all';\n\nexport {\n    DEFAULT_API_SECURITY_OAUTH2,\n    API_SECURITY_BASIC_AUTH,\n    API_SECURITY_API_KEY,\n    API_SECURITY_MUTUAL_SSL,\n    API_SECURITY_OAUTH_BASIC_AUTH_API_KEY_MANDATORY,\n    API_SECURITY_MUTUAL_SSL_MANDATORY,\n    API_SECURITY_OAUTH_BASIC_AUTH_API_KEY_OPTIONAL,\n    API_SECURITY_MUTUAL_SSL_OPTIONAL,\n    API_SECURITY_KEY_TYPE_PRODUCTION,\n    API_SECURITY_KEY_TYPE_SANDBOX,\n    ALL_AUDIENCES_ALLOWED,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { useTheme } from '@mui/material/styles';\nimport Chip from '@mui/material/Chip';\nimport PropTypes from 'prop-types';\nimport Configurations from 'Config';\n\nfunction MethodView(props) {\n    console.info(Configurations.app);\n    const theme = useTheme();\n    const { method, className } = props;\n    let chipColor = theme.custom.resourceChipColors ? theme.custom.resourceChipColors[method.toLowerCase()] : null;\n    let chipTextColor = '#000000';\n    if (!chipColor) {\n        console.log('Check the theme settings. The resourceChipColors is not populated properly');\n        chipColor = '#cccccc';\n    } else {\n        chipTextColor = theme.palette.getContrastText(theme.custom.resourceChipColors[method.toLowerCase()]);\n    }\n    return (\n        <Chip\n            label={method}\n            className={className || ''}\n            style={{\n                backgroundColor: chipColor, color: chipTextColor, height: 20, width: 65,\n            }}\n        />\n    );\n}\nMethodView.propTypes = {\n    className: PropTypes.string.isRequired,\n    method: PropTypes.string.isRequired,\n};\n\nexport default MethodView;\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint-disable array-callback-return */\n/* eslint no-param-reassign: [\"error\", { \"props\": true, \"ignorePropertyModificationsFor\": [\"operationObj\"] }] */\n\nimport React, { useState, useEffect } from 'react';\nimport { styled } from '@mui/material/styles';\nimport Paper from '@mui/material/Paper';\nimport TextField from '@mui/material/TextField';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport Icon from '@mui/material/Icon';\nimport ListItemSecondaryAction from '@mui/material/ListItemSecondaryAction';\nimport ListItemText from '@mui/material/ListItemText';\nimport Checkbox from '@mui/material/Checkbox';\nimport IconButton from '@mui/material/IconButton';\nimport Button from '@mui/material/Button';\nimport queryString from 'query-string';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport Typography from '@mui/material/Typography';\nimport Grid from '@mui/material/Grid';\nimport cloneDeep from 'lodash.clonedeep';\nimport PropTypes from 'prop-types';\nimport API from 'AppData/api';\nimport ResourceNotFound from 'AppComponents/Base/Errors/ResourceNotFound';\nimport MethodView from 'AppComponents/Apis/Details/ProductResources/MethodView';\nimport { doRedirectToLogin } from 'AppComponents/Shared/RedirectToLogin';\nimport CONSTS from 'AppData/Constants';\nimport VerticalDivider from 'AppComponents/Shared/VerticalDivider';\n\nconst PREFIX = 'ProductResourcesEdit';\n\nconst classes = {\n    searchWrapper: `${PREFIX}-searchWrapper`,\n    paper: `${PREFIX}-paper`,\n    apiWrapper: `${PREFIX}-apiWrapper`,\n    ResourceWrapper: `${PREFIX}-ResourceWrapper`,\n    SelectedResourceWrapper: `${PREFIX}-SelectedResourceWrapper`,\n    leftMost: `${PREFIX}-leftMost`,\n    rightMost: `${PREFIX}-rightMost`,\n    colTitle: `${PREFIX}-colTitle`,\n    treeItemMain: `${PREFIX}-treeItemMain`,\n    treeItemMainWrapper: `${PREFIX}-treeItemMainWrapper`,\n    treeItem: `${PREFIX}-treeItem`,\n    hr: `${PREFIX}-hr`,\n    methodView: `${PREFIX}-methodView`,\n    middleText: `${PREFIX}-middleText`,\n    selectedApi: `${PREFIX}-selectedApi`,\n    selectedTitle: `${PREFIX}-selectedTitle`,\n    buttonWrapper: `${PREFIX}-buttonWrapper`,\n    selectedApiDescription: `${PREFIX}-selectedApiDescription`,\n    messageWrapper: `${PREFIX}-messageWrapper`,\n    tootBar: `${PREFIX}-tootBar`,\n    inactiveIcon: `${PREFIX}-inactiveIcon`\n};\n\nconst Root = styled('div')((\n    {\n        theme\n    }\n) => ({\n    [`& .${classes.searchWrapper}`]: {\n        padding: 0,\n        marginTop: theme.spacing(1),\n        '& input': {\n            padding: '12px 14px',\n        },\n        display: 'flex',\n    },\n\n    [`& .${classes.paper}`]: {\n        height: '100%',\n        borderRadius: 0,\n    },\n\n    [`& .${classes.apiWrapper}`]: {\n        overflowY: 'auto',\n        height: 349,\n    },\n\n    [`& .${classes.ResourceWrapper}`]: {\n        marginLeft: theme.spacing(2),\n        marginRight: theme.spacing(2),\n        '& .frame': {\n            overflowY: 'auto',\n            height: 328,\n            border: '1px solid ' + theme.palette.grey[400],\n            borderRadius: theme.spacing(1),\n        },\n        '& .frame::-webkit-scrollbar': {\n            '-webkit-appearance': 'none',\n        },\n        '& .frame::-webkit-scrollbar:vertical': {\n            width: 11,\n        },\n        '& .frame::-webkit-scrollbar:horizontal': {\n            height: 11,\n        },\n        '& .frame::-webkit-scrollbar-thumb': {\n            borderRadius: theme.spacing(1),\n            border: '2px solid' + theme.palette.common.white,\n            backgroundColor: theme.palette.grey[400],\n        },\n        '& .frame.rightFrame': {\n            height: 369,\n        },\n    },\n\n    [`& .${classes.SelectedResourceWrapper}`]: {\n        overflowY: 'auto',\n        overflowX: 'auto',\n        height: 321,\n    },\n\n    [`& .${classes.leftMost}`]: {\n        background: theme.palette.grey[700],\n        color: theme.palette.getContrastText(theme.palette.grey[700]),\n        padding: theme.spacing(1),\n    },\n\n    [`& .${classes.rightMost}`]: {\n        background: theme.palette.grey[600],\n        color: theme.palette.getContrastText(theme.palette.grey[600]),\n        padding: theme.spacing(1),\n    },\n\n    [`& .${classes.colTitle}`]: {\n        background: theme.palette.grey[400],\n        color: theme.palette.getContrastText(theme.palette.grey[400]),\n        padding: theme.spacing(1),\n        fontWeight: 200,\n        minHeight: 25,\n    },\n\n    [`& .${classes.treeItemMain}`]: {\n        background: theme.palette.grey[100],\n        color: theme.palette.getContrastText(theme.palette.grey[100]),\n        padding: theme.spacing(1),\n    },\n\n    [`& .${classes.treeItemMainWrapper}`]: {\n        paddingLeft: theme.spacing(2),\n    },\n\n    [`& .${classes.treeItem}`]: {\n        '& .material-icons': {\n            fontSize: theme.spacing(2),\n            cursor: 'pointer',\n            marginRight: theme.spacing(1),\n        },\n        display: 'flex',\n        alignItems: 'center',\n        padding: '6px 0',\n    },\n\n    [`& .${classes.hr}`]: {\n        flex: 1,\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n        color: theme.palette.getContrastText(theme.palette.grey[100]),\n    },\n\n    [`& .${classes.methodView}`]: {\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n    },\n\n    [`& .${classes.middleText}`]: {\n        flex: 1,\n    },\n\n    [`& .${classes.selectedApi}`]: {\n        background: theme.palette.grey[100],\n    },\n\n    [`& .${classes.selectedTitle}`]: {\n        padding: theme.spacing(2),\n    },\n\n    [`& .${classes.buttonWrapper}`]: {\n        marginTop: theme.spacing(2),\n        textDecorate: 'none',\n    },\n\n    [`& .${classes.selectedApiDescription}`]: {\n        padding: '0px 16px',\n    },\n\n    [`& .${classes.messageWrapper}`]: {\n        padding: theme.spacing(3),\n    },\n\n    [`& .${classes.tootBar}`]: {\n        display: 'flex',\n        justifyContent: 'flex-end',\n        alignItems: 'center',\n        margin: '0 16px',\n        background: theme.palette.grey[100],\n        color: theme.palette.getContrastText(theme.palette.grey[100]),\n        padding: 5,\n        borderRadius: 5,\n        '& a': {\n            cursor: 'pointer',\n            display: 'flex',\n            justifyContent: 'flex-end',\n            alignItems: 'center',\n        },\n    },\n\n    [`& .${classes.inactiveIcon}`]: {\n        color: theme.palette.grey[300],\n    }\n}));\n\nconst resourceMethod = {\n    POST: 'post',\n    PUT: 'put',\n    GET: 'get',\n    DELETE: 'delete',\n    PATCH: 'patch',\n    OPTIONS: 'options',\n    HEAD: 'head',\n};\n\n/**\n *\n *\n * @param {*} props\n * @returns\n */\nfunction ProductResourcesEdit(props) {\n\n    const {\n        apiResources, setApiResources, isStateCreate, api, resourceNotFountMessage,\n    } = props;\n\n    // Define states\n    const [allApis, setAllApis] = useState([]);\n    const [notFound, setNotFound] = useState(false);\n    const [searchText, setSearchText] = useState('');\n    const [selectedApiPaths, setSelectedApiPaths] = useState([]);\n    const [selectedApi, setSelectedApi] = useState(null);\n    const [fromSearch, setFromSearch] = useState(false);\n    // Initialize the rest api libraries\n    const apiRestClient = new API();\n    const intl = useIntl();\n    /**\n     * This method is filtering apis base on the searchText entered. In no searchText provided it will give all apis.\n     *\n     * @param {*} [text=null]\n     * @returns a promise\n     */\n    const filterAPIs = (text = null) => {\n        if (text) {\n            // Build the search query and update\n            const inputValue = text.trim().toLowerCase();\n            const composeQuery = '?query=name:' + inputValue + ' type:HTTP';\n            const composeQueryJSON = queryString.parse(composeQuery);\n            // TODO we need to make the limit and offset changeable from the UI ( paggination )\n            composeQueryJSON.limit = 100;\n            composeQueryJSON.offset = 0;\n            return API.search(composeQueryJSON);\n        } else {\n            return API.all({\n                query: {\n                    type: 'HTTP',\n                },\n            });\n        }\n    };\n\n    const isValidHttpVerb = (innerKey) => {\n        if (innerKey === resourceMethod.DELETE || innerKey === resourceMethod.POST\n                || innerKey === resourceMethod.GET || innerKey === resourceMethod.PUT\n                || innerKey === resourceMethod.PATCH || innerKey === resourceMethod.OPTIONS\n                || innerKey === resourceMethod.HEAD) {\n            return true;\n        }\n        return false;\n    };\n\n    const addPropsToSelectedApiPaths = (paths, apiId, latestApiResources = apiResources) => {\n        /* Add checked field to each resource object */\n        Object.keys(paths).map((key) => {\n            const methodObj = paths[key];\n            Object.keys(methodObj).map((innerKey) => {\n                // We are setting the check property at this level because we need to\n                // add resources for each verb ( post, get, put etc.. )\n                if (isValidHttpVerb(innerKey)) {\n                    methodObj[innerKey].checked = false;\n\n                    // We need to check the latestApiResources for the same\n                    // API/Resource Name / Verb and  indicate it differently\n                    // Loop latestApiResources object\n                    const target = key;\n                    const verb = innerKey;\n                    let resourceFound = false;\n                    if (latestApiResources) {\n                        Object.keys(latestApiResources).map((resourcekey) => {\n                            const apiResource = latestApiResources[resourcekey];\n\n                            // Check if the the api slected from UI is same as the operation api id checking\n                            if (apiResource && apiId === apiResource.apiId) {\n                                // API is the same\n                                Object.keys(apiResource.operations).map((operationKey) => {\n                                    const operation = apiResource.operations[operationKey];\n                                    if (\n                                        operation\n                                        && operation.target === target\n                                        && operation.verb.toLowerCase() === verb.toLowerCase()\n                                    ) {\n                                        // Operation is already there\n                                        resourceFound = true;\n                                    }\n                                });\n                            }\n                        });\n                    }\n                    if (resourceFound) {\n                        methodObj[innerKey].allreadyAdded = true;\n                    } else {\n                        methodObj[innerKey].allreadyAdded = false;\n                    }\n                }\n            });\n        });\n        setSelectedApiPaths(paths);\n    };\n\n    // Get the api swagger after an api is selected\n    const getApiSwagger = (apiSelected) => {\n        const { id } = apiSelected;\n        const promisedAPI = apiRestClient.getSwagger(id);\n        promisedAPI\n            .then((response) => {\n                if (response.obj.paths !== undefined) {\n                    addPropsToSelectedApiPaths(response.obj.paths, id);\n                    setSelectedApi(apiSelected);\n                }\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') console.log(error);\n                const { status } = error;\n                if (status === 404) {\n                    setNotFound(true);\n                } else if (status === 401) {\n                    doRedirectToLogin();\n                }\n            });\n    };\n    const handleSearchTextChange = (event) => {\n        const apiPromise = filterAPIs(event.target.value);\n        apiPromise\n            .then((response) => {\n                const {\n                    body: { list },\n                } = response;\n                const filteredList = list.filter((theApi) => theApi.status !== 'PROTOTYPED');\n                if (filteredList.length > 0) {\n                    setSelectedApi(list[0]);\n                }\n                setAllApis(filteredList);\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') console.log(error);\n                const { status } = error;\n                if (status === 404) {\n                    setNotFound(true);\n                } else if (status === 401) {\n                    doRedirectToLogin();\n                }\n            });\n        setSearchText(event.target.value);\n        setFromSearch(event.target.value);\n    };\n    const updateResourceTree = (resourceToAdd, action, inputApiResources = null) => {\n        let updateStateHere = false;\n        let newApiResources = null;\n        if (!inputApiResources) {\n            // If a copy of the state variable is not passed from the calling method we\n            // have to make a copy inside here before doing modifications to that\n            newApiResources = cloneDeep(apiResources);\n            updateStateHere = true;\n        } else {\n            newApiResources = inputApiResources;\n        }\n        const {\n            target, verb, apiId, name, version,\n        } = resourceToAdd;\n        const newResource = {\n            id: null,\n            target,\n            verb: verb.toUpperCase(),\n            authType: null,\n            throttlingPolicy: null,\n            scopes: [],\n        };\n        let apiFound = false;\n\n        // Loop copy of apiResources object\n        Object.keys(newApiResources).map((key, indexA) => {\n            const apiResource = newApiResources[key];\n\n            // Check if the the api slected from UI is same as the operation api id trying to remove.\n            if (apiResource && apiId === apiResource.apiId) {\n                apiFound = true;\n                let operationFound = false;\n                Object.keys(apiResource.operations).map((innerKey, indexB) => {\n                    const operation = apiResource.operations[innerKey];\n                    if (\n                        operation\n                        && operation.target === target\n                        && operation.verb.toLowerCase() === verb.toLowerCase()\n                    ) {\n                        // Operation is already there\n                        operationFound = true;\n                        if (action === 'remove') {\n                            if (apiResource.operations.length > 1) {\n                                apiResource.operations.splice(indexB, 1);\n                            } else {\n                                newApiResources.splice(indexA, 1);\n                            }\n                        }\n                    }\n                });\n                // Operation not added .. so we need to add that\n                if (!operationFound && action === 'add') {\n                    apiResource.operations.push(newResource);\n                }\n            }\n        });\n\n        if (!apiFound) {\n            // Add api object\n            newApiResources.push({\n                name,\n                apiId,\n                operations: [newResource],\n                version,\n            });\n        }\n        // When we are adding the resources in a loop we do not care about the return but we simply set the state here.\n        if (updateStateHere) {\n            setApiResources(newApiResources);\n            // We need to call this in order to set other properties\n            if (apiId === selectedApi.id) {\n                addPropsToSelectedApiPaths(cloneDeep(selectedApiPaths), apiId, newApiResources);\n            }\n        }\n        return newApiResources;\n    };\n\n    const updateCheckBox = (key, innerKey) => {\n        // we need to copy the object from the state and modify it before set it to the state\n        const prevSelectedApiPaths = { ...selectedApiPaths };\n\n        // Now we inverse the checked value\n        prevSelectedApiPaths[key][innerKey].checked = !prevSelectedApiPaths[key][innerKey].checked;\n\n        // Then we set state\n        setSelectedApiPaths(prevSelectedApiPaths);\n    };\n    const addSelectedResourcesToTree = (addAll = false) => {\n        /* Add checked field to each resource object */\n        const newApiResources = cloneDeep(apiResources);\n        Object.keys(selectedApiPaths).map((key) => {\n            const methodObj = selectedApiPaths[key];\n            Object.keys(methodObj).map((innerKey) => {\n                // We are setting the check property at this level because we need to\n                // add resources for each verb ( post, get, put etc.. )\n                if ((methodObj[innerKey].checked || addAll) && isValidHttpVerb(innerKey)) {\n                    // We need to add this to apiResources array\n                    updateResourceTree(\n                        {\n                            target: key,\n                            verb: innerKey,\n                            apiId: selectedApi.id,\n                            name: selectedApi.name,\n                            version: selectedApi.version,\n                        },\n                        'add',\n                        newApiResources,\n                    );\n                }\n            });\n        });\n        setApiResources(newApiResources);\n        addPropsToSelectedApiPaths(cloneDeep(selectedApiPaths), selectedApi.id, newApiResources);\n    };\n    useEffect(() => {\n        // Get all apis\n        const apiPromise = filterAPIs();\n        apiPromise\n            .then((response) => {\n                const {\n                    body: { list },\n                } = response;\n                const filteredList = list.filter((theApi) => theApi.lifeCycleStatus !== 'PROTOTYPED' &&\n                    theApi.lifeCycleStatus !== 'RETIRED' && theApi.lifeCycleStatus !== 'DEPRECATED' &&\n                    theApi.gatewayType === 'wso2/synapse'\n                );\n\n                setAllApis(filteredList);\n                if (filteredList.length > 0) {\n                    setSelectedApi(filteredList[0]);\n                    getApiSwagger(filteredList[0]);\n                }\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') console.log(error);\n                const { status } = error;\n                if (status === 404) {\n                    setNotFound(true);\n                } else if (status === 401) {\n                    doRedirectToLogin();\n                }\n            });\n    }, []);\n    if (notFound) {\n        return <ResourceNotFound message={resourceNotFountMessage} />;\n    }\n    return (\n        <Root>\n            {allApis.length === 0 && !fromSearch ? (\n                <Grid container>\n                    <Typography className={classes.messageWrapper}>\n                        <FormattedMessage\n                            id='Apis.Details.ProductResources.ProductResourcesWorkspace.ApisnotFound'\n                            defaultMessage='No REST APIs are created yet'\n                        />\n                    </Typography>\n                </Grid>\n            ) : (\n                <>\n                    {!isStateCreate && (\n                        <Grid container>\n                            <>\n                                <Grid item xs={8} className={classes.leftMost}>\n                                    <Typography>\n                                        <FormattedMessage\n                                            id='Apis.Details.ProductResources.ProductResourcesWorkspace.find.and.select'\n                                            defaultMessage='Find and select resources for the API Product'\n                                        />\n                                    </Typography>\n                                </Grid>\n                                <Grid item xs={4} className={classes.rightMost}>\n                                    <Typography>\n                                        <FormattedMessage\n                                            id='Apis.Details.ProductResources.ProductResourcesWorkspace.selected'\n                                            defaultMessage='Selected resources of API Product'\n                                        />\n                                    </Typography>\n                                </Grid>\n                            </>\n                        </Grid>\n                    )}\n                    <Grid container>\n                        {/* ************************************************ */}\n                        {/* 1st column API search and select column          */}\n                        {/* ************************************************ */}\n                        <Grid item xs={3}>\n                            <div className={classes.colTitle}>\n                                <Typography>\n                                    <FormattedMessage\n                                        id='Apis.Details.ProductResources.ProductResourcesWorkspace.select.an.api'\n                                        defaultMessage='Select an API'\n                                    />\n                                </Typography>\n                            </div>\n                            <Paper>\n                                <div className={classes.searchWrapper}>\n                                    <TextField\n                                        id='outlined-full-width'\n                                        label={(\n                                            <FormattedMessage\n                                                id={'Apis.Details.ProductResources.ProductResourcesWorkspace.filter.'\n                                                    + 'an.api.label'}\n                                                defaultMessage='API'\n                                            />\n                                        )}\n                                        style={{ margin: 8 }}\n                                        placeholder={intl.formatMessage({\n                                            id: 'Apis.Details.ProductResources.ProductResourcesWorkspace.filter.'\n                                                + 'an.api.placeholder',\n                                            defaultMessage: 'Filter APIs',\n                                        })}\n                                        helperText={intl.formatMessage({\n                                            id: 'Apis.Details.ProductResources.ProductResourcesWorkspace.filter.'\n                                                + 'an.api.helper.text',\n                                            defaultMessage: 'Filter by name',\n                                        })}\n                                        onChange={handleSearchTextChange}\n                                        value={searchText}\n                                        fullWidth\n                                        margin='normal'\n                                        variant='outlined'\n                                        InputLabelProps={{\n                                            shrink: true,\n                                        }}\n                                    />\n                                </div>\n                                <div className={classes.apiWrapper}>\n                                    <List dense component='nav'>\n                                        {allApis.map((apiObj) => {\n                                            const labelId = `checkbox-list-label-${apiObj.id}`;\n\n                                            return (\n                                                <ListItem\n                                                    key={apiObj.id}\n                                                    role={undefined}\n                                                    dense\n                                                    button\n                                                    className={\n                                                        selectedApi\n                                                        && apiObj.id === selectedApi.id\n                                                        && classes.selectedApi\n                                                    }\n                                                >\n                                                    <ListItemText\n                                                        id={labelId}\n                                                        primary={apiObj.name}\n                                                        secondary={`${apiObj.version} - ${apiObj.context}`}\n                                                        onClick={() => getApiSwagger(apiObj)}\n                                                    />\n                                                </ListItem>\n                                            );\n                                        })}\n                                    </List>\n                                </div>\n                            </Paper>\n                        </Grid>\n                        {/* ************************************************ */}\n                        {/* 2nd column Resource Selection                    */}\n                        {/* ************************************************ */}\n                        <Grid item xs={5}>\n                            <Paper className={classes.paper}>\n                                <div className={classes.colTitle}>\n                                    <Typography>\n                                        <FormattedMessage\n                                            id='Apis.Details.ProductResources.ProductResourcesEdit.api.resources'\n                                            defaultMessage='Select API Resources'\n                                        />\n                                    </Typography>\n                                </div>\n                                {selectedApi && (\n                                    <Typography variant='h5' component='h2' className={classes.selectedTitle}>\n                                        {selectedApi.name}\n                                    </Typography>\n                                )}\n                                <div className={classes.tootBar}>\n                                    <Button\n                                        onClick={() => addSelectedResourcesToTree()}\n                                        onKeyDown={() => addSelectedResourcesToTree()}\n                                        id='add-selected-resources'\n                                    >\n                                        <Typography variant='body2'>\n                                            <FormattedMessage\n                                                id={'Apis.Details.ProductResources.ProductResourcesWorkspace.'\n                                                    + 'toolbar.add.selected'}\n                                                defaultMessage='Add Selected'\n                                            />\n                                        </Typography>\n                                        <Icon>fast_forward</Icon>\n                                    </Button>\n                                    <VerticalDivider />\n                                    <Button\n                                        onClick={() => addSelectedResourcesToTree(true)}\n                                        onKeyDown={() => addSelectedResourcesToTree(true)}\n                                        id='add-all-resources-btn'\n                                    >\n                                        <Typography variant='body2'>\n                                            <FormattedMessage\n                                                id={'Apis.Details.ProductResources.ProductResourcesWorkspace.' \n                                                    + 'toolbar.add.all'}\n                                                defaultMessage='Add All'\n                                            />\n                                        </Typography>\n                                        <Icon>fast_forward</Icon>\n                                    </Button>\n                                </div>\n                                <div className={classes.ResourceWrapper}>\n                                    <div className='frame'>\n                                        <List dense id='resource-wrapper'>\n                                            {Object.keys(selectedApiPaths).map((key) => {\n                                                const path = selectedApiPaths[key];\n                                                const labelId = `checkbox-list-label_${key}`;\n                                                return Object.keys(path).map((innerKey) => {\n                                                    const methodObj = path[innerKey];\n                                                    return CONSTS.HTTP_METHODS.includes(innerKey) && (\n                                                        <ListItem\n                                                            key={`${innerKey} - ${key}`}\n                                                            role={undefined}\n                                                            dense\n                                                        >\n                                                            <ListItemIcon style={{ minWidth: 35 }}>\n                                                                <Checkbox\n                                                                    edge='start'\n                                                                    checked={methodObj.checked}\n                                                                    tabIndex={-1}\n                                                                    disableRipple\n                                                                    onChange={() => updateCheckBox(key, innerKey)}\n                                                                    color='primary'\n                                                                    disabled={methodObj.allreadyAdded}\n                                                                    inputProps={\n                                                                        {\n                                                                            'aria-label': 'Select API resource',\n                                                                        }\n                                                                    }\n                                                                />\n                                                            </ListItemIcon>\n                                                            <ListItemText\n                                                                id={labelId + innerKey}\n                                                                primary={(\n                                                                    <div>\n                                                                        <MethodView\n                                                                            method={innerKey}\n                                                                            className={classes.methodView}\n                                                                        />\n                                                                        <span>{key}</span>\n                                                                    </div>\n                                                                )}\n                                                                secondary={\n                                                                    methodObj['x-auth-type']\n                                                                && methodObj['x-throttling-tier']\n                                                                && `${methodObj['x-auth-type']} - ${\n                                                                    methodObj['x-throttling-tier']\n                                                                }`\n                                                                }\n                                                                onClick={() => updateResourceTree(\n                                                                    {\n                                                                        target: key,\n                                                                        verb: innerKey,\n                                                                        apiId: selectedApi.id,\n                                                                        name: selectedApi.name,\n                                                                        version: selectedApi.version,\n                                                                    },\n                                                                    'add',\n                                                                )}\n                                                                className={classes.middleText}\n                                                            />\n                                                            <ListItemSecondaryAction>\n                                                                {methodObj.allreadyAdded && (\n                                                                    <Icon className={classes.inactiveIcon}>\n                                                                        chevron_right\n                                                                    </Icon>\n                                                                )}\n                                                                {!methodObj.allreadyAdded && (\n                                                                    <IconButton\n                                                                        edge='end'\n                                                                        aria-label='comments'\n                                                                        onClick={() => updateResourceTree(\n                                                                            {\n                                                                                target: key,\n                                                                                verb: innerKey,\n                                                                                apiId: selectedApi.id,\n                                                                                name: selectedApi.name,\n                                                                                version: selectedApi.version,\n                                                                            },\n                                                                            'add',\n                                                                        )}\n                                                                        size='large'>\n                                                                        <Icon>chevron_right</Icon>\n                                                                    </IconButton>\n                                                                )}\n                                                            </ListItemSecondaryAction>\n                                                        </ListItem>\n                                                    );\n                                                });\n                                            })}\n                                        </List>\n                                    </div>\n                                </div>\n                            </Paper>\n                        </Grid>\n                        {/* ************************************************ */}\n                        {/* Third column with  selected resources            */}\n                        {/* ************************************************ */}\n                        <Grid item xs={4}>\n                            <Paper className={classes.paper}>\n                                <div className={classes.colTitle} />\n                                {api.name && (\n                                    <>\n                                        <Typography variant='h5' component='h2' className={classes.selectedTitle}>\n                                            {api.name}\n                                        </Typography>\n                                    </>\n                                )}\n                                <div className={classes.ResourceWrapper}>\n                                    <div className='frame rightFrame'>\n                                        {allApis.length > 0 && apiResources && apiResources.length === 0 && (\n                                            <div className={classes.messageWrapper}>\n                                                <Typography component='p'>\n                                                    <FormattedMessage\n                                                        id={'Apis.Details.ProductResources.ProductResourcesWorkspace.'\n                                                            + 'empty.title'}\n                                                        defaultMessage='Use the left side panel to add resources'\n                                                    />\n                                                </Typography>\n                                            </div>\n                                        )}\n                                        {apiResources\n                                        && apiResources.length > 0\n                                        && Object.keys(apiResources).map((key) => {\n                                            const apiResource = apiResources[key];\n                                            return (\n                                                <div key={apiResource.name}>\n                                                    <div className={classes.treeItemMain}>\n                                                        <Typography component='p'>\n                                                            {apiResource.name}\n                                                            {' - '}\n                                                            {apiResource.version}\n                                                        </Typography>\n                                                    </div>\n                                                    <div className={classes.treeItemMainWrapper}>\n                                                        {Object.keys(apiResource.operations).map((innerKey) => {\n                                                            const operation = apiResource.operations[innerKey];\n                                                            const { target, verb } = operation;\n                                                            return (\n                                                                <div\n                                                                    key={`${apiResource.apiId}_${verb}_${target}`}\n                                                                    className={classes.treeItem}\n                                                                >\n                                                                    <MethodView\n                                                                        method={verb}\n                                                                        className={classes.methodView}\n                                                                    />\n                                                                    <Typography variant='body2'>{target}</Typography>\n                                                                    <hr className={classes.hr} />\n                                                                    <IconButton\n                                                                        onClick={() => updateResourceTree(\n                                                                            {\n                                                                                target,\n                                                                                verb,\n                                                                                apiId: apiResource.apiId,\n                                                                                name: apiResource.name,\n                                                                                version: apiResource.version,\n                                                                            },\n                                                                            'remove',\n                                                                        )}\n                                                                        aria-label={\n                                                                            'delete resource ' + apiResource.name\n                                                                        }\n                                                                        size='large'>\n                                                                        <Icon>\n                                                                            delete\n                                                                        </Icon>\n                                                                    </IconButton>\n                                                                </div>\n                                                            );\n                                                        })}\n                                                    </div>\n                                                </div>\n                                            );\n                                        })}\n                                    </div>\n                                </div>\n                            </Paper>\n                        </Grid>\n                    </Grid>\n                </>\n            )}\n        </Root>\n    );\n}\nProductResourcesEdit.propTypes = {\n    apiResources: PropTypes.instanceOf(Array).isRequired,\n    setApiResources: PropTypes.func.isRequired,\n    isStateCreate: PropTypes.isRequired,\n    api: PropTypes.isRequired,\n    resourceNotFountMessage: PropTypes.string.isRequired,\n};\nexport default ProductResourcesEdit;\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDropzone } from 'react-dropzone';\nimport { useTheme } from '@mui/material/styles';\n\n/**\n *\n * Convert raw byte values to human readable format\n * @param {Number} bytes number of bytes\n * @param {boolean} [si=false]\n * @returns {String} Human readable string format\n */\nexport function humanFileSize(bytesParam, si = false) {\n    let bytes = bytesParam; // To prevent `no-param-reassign` eslint rule violation\n    const thresh = si ? 1000 : 1024;\n    if (Math.abs(bytes) < thresh) {\n        return bytes + ' B';\n    }\n    const units = si\n        ? ['kB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n        : ['KiB', 'MiB', 'GiB', 'TiB', 'PiB', 'EiB', 'ZiB', 'YiB'];\n    let u = -1;\n    do {\n        bytes /= thresh;\n        ++u;\n    } while (Math.abs(bytes) >= thresh && u < units.length - 1);\n    return bytes.toFixed(1) + ' ' + units[u];\n}\n\nconst baseStyle = {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: '100px 20px',\n    borderWidth: 2,\n    borderRadius: 2,\n    borderColor: '#eeeeee',\n    borderStyle: 'dashed',\n    backgroundColor: '#fafafa',\n    color: '#bdbdbd',\n    outline: 'none',\n    transition: 'border .24s ease-in-out',\n};\n\nconst activeStyle = {\n    borderColor: '#2196f3',\n};\n\nconst acceptStyle = {\n    borderColor: '#00e676',\n};\n\nconst rejectStyle = {\n    borderColor: '#ff1744',\n};\n\n/**\n *\n * Provide a class friendly Dropzone wrapper using hooks.\n * @export\n * @returns\n */\nexport default function DropZoneLocal(props) {\n    const {\n        message, onDrop, error, children, accept, ariaLabel,\n    } = props;\n    const dropZoneObject = useDropzone({ onDrop });\n    const {\n        getRootProps, getInputProps, isDragActive, isDragAccept, isDragReject,\n    } = dropZoneObject;\n\n    const style = useMemo(\n        () => ({\n            ...baseStyle,\n            ...(isDragActive ? activeStyle : {}),\n            ...(isDragAccept ? acceptStyle : {}),\n            ...(isDragReject ? rejectStyle : {}),\n        }),\n        [isDragActive, isDragReject, error],\n    );\n    const theme = useTheme();\n\n    const containerStyles = {\n        fontFamily: theme.typography.fontFamily,\n        textAlign: 'center',\n    };\n\n    return (\n        <section className='container' style={containerStyles}>\n            <div {...getRootProps({ style })}>\n                <input\n                    // In accordance with https://www.w3.org/TR/WCAG20-TECHS/ARIA14.html\n                    aria-label={ariaLabel}\n                    {...getInputProps()}\n                    multiple={false}\n                    accept={accept}\n                />\n                {children || message}\n            </div>\n        </section>\n    );\n}\nDropZoneLocal.defaultProps = {\n    message: \"Drag 'n' drop some files here, or click to select files\",\n    onDrop: () => {},\n    showFilesList: true,\n    children: null,\n    error: false,\n    accept: '*',\n};\nDropZoneLocal.propTypes = {\n    message: PropTypes.string,\n    onDrop: PropTypes.func,\n    accept: PropTypes.string,\n    showFilesList: PropTypes.bool,\n    children: PropTypes.oneOfType([PropTypes.element, PropTypes.arrayOf(PropTypes.shape({}))]),\n    error: PropTypes.oneOfType([PropTypes.bool, PropTypes.shape({})]),\n};\n","/**\n * Copyright (c) 2019, WSO2 Inc. (http://wso2.com) All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport API from 'AppData/api';\n\nimport APIClientFactory from './APIClientFactory';\nimport Utils from './Utils';\nimport Resource from './Resource';\n\n/**\n * An abstract representation of a Scopes\n */\nclass Wsdl extends Resource {\n    /**\n     * Validate a WSDL file or an archive\n     *\n     * @static\n     * @param {*} file WSDL file or archive\n     * @returns {*} WSDL validation response\n     * @memberof Wsdl\n     */\n    static validateFileOrArchive(file) {\n        const apiClient = new APIClientFactory().getAPIClient(Utils.getCurrentEnvironment(), Utils.CONST.API_CLIENT)\n            .client;\n        const requestBody = {\n            requestBody: {\n                file,\n            },\n        };\n        return apiClient.then((client) => {\n            return client.apis.Validation.validateWSDLDefinition(null, requestBody);\n        });\n    }\n\n    /**\n     * Validate a WSDL URL\n     *\n     * @static\n     * @param {*} url WSDL URL\n     * @returns {*} WSDL validation response\n     * @memberof Wsdl\n     */\n    static validateUrl(url) {\n        const apiClient = new APIClientFactory().getAPIClient(Utils.getCurrentEnvironment(), Utils.CONST.API_CLIENT)\n            .client;\n        return apiClient.then((client) => {\n            return client.apis.Validation.validateWSDLDefinition(\n                {},\n                {\n                    requestBody: { url },\n                },\n            );\n        });\n    }\n\n    /**\n     * Importing a WSDL and creating an API by a .wsdl file or a WSDL archive zip file\n     *\n     * @static\n     * @param {*} url WSDL url\n     * @param {*} additionalProperties additional properties of the API eg: name, version, context\n     * @param {*} implementationType SOAPTOREST or SOAP\n     * @returns {API} API object which was created\n     * @memberof Wsdl\n     */\n    static importByUrl(url, additionalProperties, implementationType = 'SOAP') {\n        const apiClient = new APIClientFactory().getAPIClient(Utils.getCurrentEnvironment(), Utils.CONST.API_CLIENT)\n            .client;\n        return apiClient.then((client) => {\n            const promisedResponse = client.apis.APIs.importWSDLDefinition(\n                {},\n                {\n                    requestBody: {\n                        url,\n                        additionalProperties: JSON.stringify(additionalProperties),\n                        implementationType,\n                    },\n                },\n            );\n            return promisedResponse.then((response) => new API(response.body));\n        });\n    }\n\n    /**\n     * Importing a WSDL and creating an API by a .wsdl file or a WSDL archive zip file\n     *\n     * @static\n     * @param {*} file WSDL file or archive\n     * @param {*} additionalProperties additional properties of the API eg: name, version, context\n     * @param {*} implementationType SOAPTOREST or SOAP\n     * @returns {API} API object which was created\n     * @memberof Wsdl\n     */\n    static importByFileOrArchive(file, additionalProperties, implementationType = 'SOAP') {\n        const apiClient = new APIClientFactory().getAPIClient(Utils.getCurrentEnvironment(), Utils.CONST.API_CLIENT)\n            .client;\n        return apiClient.then((client) => {\n            const promisedResponse = client.apis.APIs.importWSDLDefinition(\n                null,\n                {\n                    requestBody: {\n                        file,\n                        additionalProperties: JSON.stringify(additionalProperties),\n                        implementationType,\n                    },\n                },\n            );\n\n            return promisedResponse.then((response) => new API(response.body));\n        });\n    }\n}\n\nexport default Wsdl;\n","/* eslint-disable */\n/*\n * Copyright (c) 2022, WSO2 Inc. (http://www.wso2.com). All Rights Reserved.\n *\n * This software is the property of WSO2 Inc. and its suppliers, if any.\n * Dissemination of any information or reproduction of any material contained\n * herein is strictly forbidden, unless permitted by WSO2 in accordance with\n * the WSO2 Commercial License available at http://wso2.com/licenses.\n * For specific language governing the permissions and limitations under\n * this license, please see the license as well as any agreement youve\n * entered into with WSO2 governing the purchase of this software and any\n * associated services.\n */\n\nimport React, { useEffect, useState } from 'react';\nimport { styled } from '@mui/material/styles';\nimport {\n    ISpectralDiagnostic,\n} from '@stoplight/spectral-core';\nimport { oas } from '@stoplight/spectral-rulesets';\nimport { FormattedMessage } from 'react-intl';\nimport Box from '@mui/material/Box';\nimport { spectralSeverityMap, spectralSeverityNames } from \"./Linting\"\nimport { Grid, Tooltip, Typography } from '@mui/material';\nimport { ToggleButton, ToggleButtonGroup } from '@mui/lab';\nconst PREFIX = 'APILintingSummary';\n\nconst classes = {\n    activeButton: `${PREFIX}-activeButton`\n};\n\nconst StyledBox = styled(Box)((\n    {\n        theme\n    }\n) => ({\n    [`& .${classes.activeButton}`]: {\n        \"&:selected\": {\n            backgroundColor: theme.palette.background.default,\n        }\n    }\n}));\n\n// TODO tmkasun: Possible to extend AsyncAPI rule set as well\nconst defaultRuleSet = { extends: [oas], rules: {} };\ntype APILintingProps = {\n    linterResults: ISpectralDiagnostic[],\n    handleChange: Function,\n};\n\nexport const APILintingSummary = (props: APILintingProps) => {\n    const { linterResults, handleChange } = props;\n\n    const [selectedSeverity, setSelectedSeverity] = useState(null);\n    const severityCounts: { [key: number]: number } = {};\n    \n    if (linterResults) {\n        linterResults.forEach(({ severity }) => {\n            severityCounts[severity] = severityCounts[severity] + 1 || 1;\n        });\n    }\n    \n    return (\n        <StyledBox ml={3}>\n            {linterResults === null && (\n                <FormattedMessage\n                    id=\"Apis.Details.APIDefinition.Linting.APILintingSummary.loading\"\n                    defaultMessage=\"Linting . . .\"\n                />\n            )}\n            {linterResults && (\n                <Tooltip title={\n                    Object.entries(spectralSeverityNames).map(([severity, name]) => {\n                        return `${name}:${severityCounts[Number(severity)]||0}${(Number(severity) !== 3) ? \", \": \"\"}` || '-';\n                    })\n                }>\n                    <ToggleButtonGroup\n                        exclusive\n                        value={selectedSeverity}\n                        size=\"small\"\n                        onChange={(event, value) => { \n                            setSelectedSeverity(value);\n                            handleChange(event, value) }}>\n                        {Object.entries(spectralSeverityMap).map(([severity, component]) => (\n                            <ToggleButton\n                                key={Math.random()}\n                                value={String(severity)}\n                            >\n                                <Box ml={1} display=\"flex\">\n                                    {component}\n                                    <Grid item>\n                                        <Box maxWidth='2rem'>\n                                            <Typography noWrap>\n                                                &nbsp;{severityCounts[Number(severity)] || 0}\n                                            </Typography>\n                                        </Box>\n                                    </Grid>\n                                </Box>\n                            </ToggleButton>\n                        ))}\n                    </ToggleButtonGroup>\n                </Tooltip>\n            )}\n        </StyledBox>\n    );\n};\nexport default APILintingSummary;\n","/*\n * Copyright (c) 2022, WSO2 Inc. (http://www.wso2.com). All Rights Reserved.\n *\n * This software is the property of WSO2 Inc. and its suppliers, if any.\n * Dissemination of any information or reproduction of any material contained\n * herein is strictly forbidden, unless permitted by WSO2 in accordance with\n * the WSO2 Commercial License available at http://wso2.com/licenses.\n * For specific language governing the permissions and limitations under\n * this license, please see the license as well as any agreement youve\n * entered into with WSO2 governing the purchase of this software and any\n * associated services.\n */\n\nimport React from 'react';\nimport API from 'AppData/api.js';\nimport {\n    Spectral,\n    ISpectralDiagnostic,\n} from '@stoplight/spectral-core';\nimport *  as spectralFunc from \"@stoplight/spectral-functions\";\nimport * as spectralFormats from \"@stoplight/spectral-formats\";\nimport { oas } from '@stoplight/spectral-rulesets';\nimport { green, orange } from '@mui/material/colors';\nimport WarningIcon from '@mui/icons-material/Warning';\nimport ErrorIcon from '@mui/icons-material/Error';\nimport InfoIcon from '@mui/icons-material/Info';\nimport HelpOutlineIcon from '@mui/icons-material/HelpOutline';\nimport Alert from 'AppComponents/Shared/Alert';\nimport { FormattedMessage } from 'react-intl';\n\n/** @type DiagnosticSeverity \n * \n * \nSomething not allowed by the rules of a language or other means.\n    Error = 0,\nSomething suspicious but allowed.\n    Warning = 1,\nSomething to inform about but not a problem.\n    Information = 2,\nSomething to hint to a better way of doing it, like proposing a refactoring.\n    Hint = 3\n*/\n\nconst spectralFunctions: { [key: string]: any } = {\n    \"alphabetical\": spectralFunc.alphabetical,\n    \"casing\": spectralFunc.casing,\n    \"defined\": spectralFunc.defined,\n    \"enumeration\": spectralFunc.enumeration,\n    \"falsy\": spectralFunc.falsy,\n    \"length\": spectralFunc.length,\n    \"pattern\": spectralFunc.pattern,\n    \"truthy\": spectralFunc.truthy,\n    \"undefined\": spectralFunc.undefined,\n    \"unreferencedReusableObject\": spectralFunc.unreferencedReusableObject,\n    \"xor\": spectralFunc.xor,\n    \"schema\": spectralFunc.schema,\n}\n\nconst spectralFormatsList: { [key: string]: any } = {\n    \"oas2\": spectralFormats.oas2,\n    \"oas3\": spectralFormats.oas3,\n    \"oas3_0\": spectralFormats.oas3_0,\n    \"oas3_1\": spectralFormats.oas3_1,\n    \"aas2\": spectralFormats.aas2,\n    \"aas2_0\": spectralFormats.aas2_0,\n    \"aas2_1\": spectralFormats.aas2_1,\n    \"aas2_2\": spectralFormats.aas2_2,\n    \"aas2_3\": spectralFormats.aas2_3,\n    \"aas2_4\": spectralFormats.aas2_4,\n    \"aas2_5\": spectralFormats.aas2_5,\n    \"aas2_6\": spectralFormats.aas2_6,\n}\n\nexport const spectralSeverityMap: { [key: number]: JSX.Element } = {\n    0: <ErrorIcon color=\"error\" />,\n    1: <WarningIcon style={{ color: orange[500] }} />,\n    2: <InfoIcon color=\"primary\" />,\n    3: <HelpOutlineIcon style={{ color: green[500] }} />,\n};\n\nexport const spectralSeverityNames: { [key: number]: string } = {\n    0: \"Errors\",\n    1: \"Warnings\",\n    2: \"Info\",\n    3: \"Hints\"\n};\n\nexport async function getLinterResultsFromContent(\n    swagger: string | undefined,\n    apiId?: string,\n    apiType?: string\n) {\n    let validationResults: ISpectralDiagnostic[] = [];\n    if (swagger) {\n        // Validate againt default ruleset by Spectral\n        let defaultRuleSet = { extends: [oas], rules: {} };\n        const linter = new Spectral();\n        linter.setRuleset(defaultRuleSet);\n        try {\n            await linter.run(swagger).then((results) => {\n                if (results) {\n                    validationResults = validationResults.concat(results);\n                }\n            });\n        } catch (err) {\n            console.error(\"OpenAPI linter default ruleset validation failed\", err);\n            Alert.error(\n                <FormattedMessage\n                    id='Apis.Details.APIDefinition.Linting.Linting.default.ruleset.validation.failed'\n                    defaultMessage='OpenAPI linter default ruleset validation failed'\n                />\n            );\n        }\n\n        let params = {};\n        if (apiId) {\n            params = { apiId: apiId };\n        } else if (apiType) {\n            params = { apiType: apiType };\n        } else {\n            params = { apiType: 'HTTP' };\n        }\n\n        // Validate against custom rulesets defined in tenant config\n        const customRulesets: string[] = await API.getLinterCustomRules(params).then((LinterCustomRulesets: string[]) => {\n            return LinterCustomRulesets;\n        }).catch((error: any) => {\n            console.log(\"Error retrieving custom linter rulesets\", error);\n            Alert.error(\n                <FormattedMessage\n                    id='Apis.Details.APIDefinition.Linting.Linting.error.retrieving.custom.rules'\n                    defaultMessage='Error retrieving custom linter rulesets'\n                />);\n            return [];\n        });\n\n        // Process each custom ruleset\n        if (customRulesets && customRulesets.length > 0) {\n            for (const rulesetString of customRulesets) {\n                try {\n                    // Parse JSON to JS object to support spectral\n                    const parsedCustomRuleset = JSON.parse(\n                        JSON.stringify(JSON.parse(rulesetString)),\n                        function (key, value) {\n                            if (key === \"function\") {\n                                return spectralFunctions[value];\n                            } else if (key === \"formats\") {\n                                return value.map((element: string) => {\n                                    return spectralFormatsList[element];\n                                });\n                            } else {\n                                return value;\n                            }\n                        }\n                    );\n\n                    linter.setRuleset(parsedCustomRuleset);\n\n                    const results = await linter.run(swagger);\n                    if (results) {\n                        validationResults = validationResults.concat(results);\n                    }\n                } catch (error) {\n                    if (error instanceof Error) {\n                        console.error(\"OpenAPI linter custom ruleset validation failed\\n\", error, error.stack);\n                    }\n                    Alert.error(\n                        <FormattedMessage\n                            id='Apis.Details.APIDefinition.Linting.Linting.custom.ruleset.validation.failed'\n                            defaultMessage='OpenAPI linter custom ruleset validation failed'\n                        />\n                    );\n                }\n            }\n        }\n\n        // Sort linter results order based on severity\n        validationResults = validationResults.sort(function compare(a, b) {\n            if (a.severity < b.severity) {\n                return -1;\n            }\n            if (a.severity > b.severity) {\n                return 1;\n            }\n            return 0;\n        });\n    }\n    return validationResults;\n}\n"],"names":["classes","mandatoryStar","concat","Root","styled","_ref","theme","_defineProperty","color","palette","error","main","ProvideAsyncAPI","props","apiInputs","inputsDispatcher","onValidate","isFileInput","inputType","inputValue","_useState2","_slicedToArray","useState","isValid","setValidity","_useState4","isValidating","setIsValidating","_useState6","validationErrors","setValidationErrors","_useState8","gatewayVendor","setGatewayVendor","intl","useIntl","onDrop","files","file","pop","validFile","API","validateAsyncAPIByFile","then","response","_response$body","body","isValidFile","info","errors","action","value","_objectSpread","message","formatMessage","id","defaultMessage","catch","console","finally","validateURL","state","APIValidation","url","required","validate","validateAsyncAPIByUrl","returnContent","_response$body2","isValidURL","content","useEffect","INPUT_TYPES","FILE","URL","isInvalidURL","Boolean","urlStateEndAdornment","React","InputAdornment","position","CircularProgress","undefined","ErrorOutlineIcon","fontSize","CheckIcon","Grid","container","item","xs","sx","mb","FormControl","component","FormLabel","className","FormattedMessage","RadioGroup","onChange","event","target","FormControlLabel","control","Radio","label","md","Banner","onClose","disableActions","dense","paperProps","elevation","type","List","ListItem","key","path","ListItemAvatar","Avatar","InsertDriveFile","ListItemText","primary","humanFileSize","size","ListItemSecondaryAction","IconButton","edge","onClick","DeleteIcon","DropZoneLocal","accept","values","break","Button","variant","mt","TextField","autoFocus","placeholder","fullWidth","margin","_ref3","InputLabelProps","shrink","InputProps","onBlur","_ref4","endAdornment","helperText","Chip","icon","CheckCircleSharpIcon","style","defaultProps","propTypes","PropTypes","isRequired","ProvideGraphQL","isURLInput","isEndpointInput","ENDPOINT","validateGraphQLFile","graphQLInfo","debouncedValidateURLOrEndpoint","useCallback","debounce","newURL","validateGraphQL","useIntrospection","errorMessage","disabled","ariaLabel","_ref5","_ref6","ValidationResults","isLinting","linterResults","onLinterLineSelect","expandValidationErrors","setExpandValidationErrors","expandLinterResults","setExpandLinterResults","linterSelectedSeverity","setLinterSelectedSeverity","ListItemIcon","length","Accordion","A","expanded","AccordionSummary","expandIcon","ExpandMore","direction","justifyContent","alignItems","Typography","fontWeight","AccordionDetails","map","Box","description","pt","APILintingSummary","handleChange","stopPropagation","padding","LinterUI","filter","severity","Number","severityMap","handleRowClick","line","ProvideOpenAPI","setLinterResults","_useState10","setIsLinting","lint","getLinterResultsFromContent","results","reset","validateURLDebounced","validateOpenAPIByUrl","formattedContent","definition","result","JSON","parse","_typeof","err","log","hasJSONStructure","stringify","YAML","validateOpenAPIByFile","endsWith","read","FileReader","readAsText","onloadend","_read$result","toString","ProvideWSDL","isGenerateRESTAPI","isError","isCreateMode","mode","handleWSDLValidationResponse","isWSDLValid","success","handleWSDLValidationErrorResponse","dropBoxControlLabel","spacing","arguments","Wsdl","validateFileOrArchive","validateUrl","PREFIX","tableCell","headerTableCell","tableRow","tableWrapper","headerTableRow","StyledPaper","Paper","border","background","paper","backgroundColor","hover","cursor","width","display","_React$useState2","page","setPage","_React$useState4","rowsPerPage","setRowsPerPage","columns","minWidth","align","rows","index","range","start","code","overflow","TableContainer","maxHeight","Table","stickyHeader","TableHead","TableRow","column","TableCell","TableBody","slice","row","format","TablePagination","rowsPerPageOptions","count","onPageChange","newPage","onRowsPerPageChange","DEFAULT_API_SECURITY_OAUTH2","API_SECURITY_BASIC_AUTH","API_SECURITY_API_KEY","API_SECURITY_MUTUAL_SSL","API_SECURITY_OAUTH_BASIC_AUTH_API_KEY_MANDATORY","API_SECURITY_MUTUAL_SSL_MANDATORY","API_SECURITY_OAUTH_BASIC_AUTH_API_KEY_OPTIONAL","API_SECURITY_MUTUAL_SSL_OPTIONAL","API_SECURITY_KEY_TYPE_PRODUCTION","API_SECURITY_KEY_TYPE_SANDBOX","ALL_AUDIENCES_ALLOWED","MethodView","Configurations","useTheme","method","chipColor","custom","resourceChipColors","toLowerCase","chipTextColor","getContrastText","height","searchWrapper","apiWrapper","ResourceWrapper","SelectedResourceWrapper","leftMost","rightMost","colTitle","treeItemMain","treeItemMainWrapper","treeItem","hr","methodView","middleText","selectedApi","selectedTitle","buttonWrapper","selectedApiDescription","messageWrapper","tootBar","inactiveIcon","_ref2","marginTop","borderRadius","overflowY","marginLeft","marginRight","grey","common","white","overflowX","minHeight","paddingLeft","flex","textDecorate","ProductResourcesEdit","apiResources","setApiResources","isStateCreate","api","resourceNotFountMessage","allApis","setAllApis","notFound","setNotFound","searchText","setSearchText","selectedApiPaths","setSelectedApiPaths","setSelectedApi","_useState12","fromSearch","setFromSearch","apiRestClient","filterAPIs","text","composeQuery","trim","composeQueryJSON","queryString","limit","offset","search","all","query","isValidHttpVerb","innerKey","addPropsToSelectedApiPaths","paths","apiId","latestApiResources","Object","keys","methodObj","checked","verb","resourceFound","resourcekey","apiResource","operations","operationKey","operation","allreadyAdded","getApiSwagger","apiSelected","getSwagger","obj","status","doRedirectToLogin","updateResourceTree","resourceToAdd","inputApiResources","updateStateHere","newApiResources","cloneDeep","name","version","newResource","toUpperCase","authType","throttlingPolicy","scopes","apiFound","indexA","operationFound","indexB","splice","push","addSelectedResourcesToTree","addAll","filteredList","list","theApi","lifeCycleStatus","gatewayType","ResourceNotFound","apiObj","labelId","role","button","secondary","context","onKeyDown","Icon","VerticalDivider","CONSTS","HTTP_METHODS","includes","Checkbox","tabIndex","disableRipple","prevSelectedApiPaths","updateCheckBox","inputProps","Array","bytesParam","si","bytes","thresh","Math","abs","units","u","toFixed","baseStyle","flexDirection","borderWidth","borderColor","borderStyle","outline","transition","activeStyle","acceptStyle","rejectStyle","children","dropZoneObject","useDropzone","getRootProps","getInputProps","isDragActive","isDragAccept","isDragReject","useMemo","containerStyles","fontFamily","typography","textAlign","_extends","multiple","showFilesList","_Resource","_classCallCheck","_callSuper","_inherits","apiClient","APIClientFactory","getAPIClient","Utils","getCurrentEnvironment","CONST","API_CLIENT","client","requestBody","apis","Validation","validateWSDLDefinition","additionalProperties","implementationType","APIs","importWSDLDefinition","Resource","StyledBox","default","selectedSeverity","setSelectedSeverity","severityCounts","forEach","ml","title","entries","exclusive","String","maxWidth","noWrap","random","spectralFunctions","spectralFormatsList","spectralSeverityMap","spectralSeverityNames","swagger","apiType","validationResults","defaultRuleSet","extends","rules","linter","Spectral","setRuleset","run","params","customRulesets","getLinterCustomRules","LinterCustomRulesets","rulesetString","parsedCustomRuleset","element","Error","stack","sort","a","b"],"sourceRoot":""}