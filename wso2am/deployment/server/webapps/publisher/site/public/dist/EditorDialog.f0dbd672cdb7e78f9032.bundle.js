(this.webpackChunk_wso2apim_publisher=this.webpackChunk_wso2apim_publisher||[]).push([[576],{64031:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_});var r=n(96540),i=n(11848),o=n(99020),a=n(5556),l=n.n(a),c=n(33551),s=n(69067),u=n(61914),p=n(58065),d=n(58807),f=n(82299),g=n(19455),h=n(33755),y=n(97648),m=n.n(y),v=n(46350),b=n(75148),w=n(22754);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,k(r.key),r)}}function M(e,t,n){return t=C(t),function(e,t){if(t&&("object"==E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,A()?Reflect.construct(t,n||[],C(e).constructor):t.apply(e,n))}function A(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(A=function(){return!!e})()}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function P(e,t){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},P(e,t)}function D(e,t,n){return(t=k(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){var t=function(e,t){if("object"!=E(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==E(t)?t:t+""}var O="SwaggerEditorDrawer",S={editorPane:"".concat(O,"-editorPane"),editorRoot:"".concat(O,"-editorRoot"),glyphMargin:"".concat(O,"-glyphMargin"),noGlyphMargin:"".concat(O,"-noGlyphMargin"),topMargin:"".concat(O,"-topMargin")},j=(0,i.Ay)("div")((function(e){var t=e.theme;return D(D(D(D(D({},"& .".concat(S.editorPane),{width:"calc(50% - ".concat(t.spacing(1),")"),height:"100%",overflow:"auto"}),"& .".concat(S.editorRoot),{height:"100%",marginTop:t.spacing(-1),marginLeft:t.spacing(-1)}),"& .".concat(S.glyphMargin),{background:h.A[900],width:"5px !important"}),"& .".concat(S.noGlyphMargin),{background:"none"}),"& .".concat(S.topMargin),{paddingTop:"10px"})})),N=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=M(this,t,[e])).onContentChange=n.onContentChange.bind(n),n.editorDidMount=n.editorDidMount.bind(n),n.editor=null,n.monaco=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(t,e),n=t,i=[{key:"componentDidUpdate",value:function(e){for(var t=this.props.linterResults,n=m()(e.linterResults,t,"range.start.line"),r=0;r<n.length;r++){var i=n[r].range.start.line;this.editor.deltaDecorations([{range:new this.monaco.Range(i,1,i,1),options:{isWholeLine:!1,glyphMarginClassName:S.glyphMargin}}],[{range:new this.monaco.Range(i,1,i,1),options:{isWholeLine:!1,glyphMarginClassName:S.noGlyphMargin}}])}}},{key:"handleRowClick",value:function(e){var t=this.editor.getModel().getLineLastNonWhitespaceColumn(e);this.editor.revealLinesInCenter(e,e,0),this.editor.setPosition({column:t,lineNumber:e}),this.editor.focus(),this.editor.deltaDecorations([],[{range:new this.monaco.Range(e,1,e,1),options:{isWholeLine:!1,glyphMarginClassName:S.glyphMargin}}])}},{key:"onContentChange",value:function(e){(0,this.props.onEditContent)(e)}},{key:"editorDidMount",value:function(e,t){var n=this.props.linterSelectedLine;this.editor=e,this.monaco=t,n&&this.handleRowClick(n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.language,i=t.swagger,a=t.errors,l=t.setErrors,h=t.isSwaggerUI,y=t.linterResults,m=t.severityMap,E=t.linterSelectedSeverity;return r.createElement(j,null,r.createElement(o.Ay,{container:!0,spacing:2,className:S.editorRoot},r.createElement(o.Ay,{item:!0,className:S.editorPane},r.createElement(d.KE,{language:n,width:"100%",height:"calc(100vh - 51px)",theme:"vs-dark",value:i,onChange:this.onContentChange,options:{glyphMargin:!0},onMount:this.editorDidMount})),r.createElement(o.Ay,{item:!0,className:S.editorPane},a&&a.length>0&&r.createElement(s.A,{mr:2},r.createElement(u.A,{type:"warning",height:"100%"},r.createElement(s.A,null,r.createElement(s.A,{onClick:l,position:"absolute",right:"0",top:"0"},r.createElement(g.A,{"area-label":"close",size:"large"},r.createElement(f.A,null))),r.createElement(c.A,{variant:"h5",component:"h3",className:S.head},r.createElement(p.A,{id:"Apis.Details.APIDefinition.SwaggerEditorDrawer.title",defaultMessage:[{type:0,value:"Failed to Validate OpenAPI File"}]})),a.map((function(e){return r.createElement(c.A,{component:"p",className:S.content},e.description)}))))),h&&r.createElement(v.default,{spec:i}),!h&&y.length>0&&r.createElement("div",{"data-testid":"testid-linter-ui"},r.createElement(b.A,{linterResults:y,severityMap:m,handleRowClick:function(t){e.handleRowClick(t)}})),!h&&0===y.length&&r.createElement("div",{className:S.topMargin},r.createElement(s.A,{alignSelf:"center",justifySelf:"center",flexDirection:"column"},r.createElement(c.A,{variant:"h4"},r.createElement(p.A,{id:"Apis.Details.APIDefinition.SwaggerEditorDrawer.linter.goodupdate.content",defaultMessage:[{type:0,value:"No linting issues found in the definition"}]})),r.createElement(c.A,{variant:"h6"},r.createElement(p.A,{id:"Apis.Details.APIDefinition.SwaggerEditorDrawer.linter.no.resultsupdate.content",defaultMessage:[{type:0,value:"No Linter Results"},{type:1,value:"type"},{type:0,value:" found"}],values:{type:E?" (".concat(w.Ov[E],")"):""}})))))))}}],i&&R(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(r.Component);N.propTypes={classes:l().shape({}).isRequired,language:l().string.isRequired,swagger:l().string.isRequired,onEditContent:l().func.isRequired,errors:l().shape([]).isRequired,setErrors:l().func.isRequired};const _=N},46350:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var r=n(96540),i=n(5556),o=n.n(i),a=n(78583),l=(n(38871),function(){return{wrapComponents:{info:function(){return function(){return null}},authorizeBtn:function(){return function(){return null}}}}}),c=function(){return{statePlugins:{spec:{wrapSelectors:{allowTryItOutFor:function(){return function(){return!1}}}}}}},s=function(e){var t={spec:e.spec,url:e.url,validatorUrl:null,docExpansion:"list",defaultModelsExpandDepth:-1,plugins:[l,c]};return r.createElement(a.A,t)};s.propTypes={accessTokenProvider:o().func.isRequired,authorizationHeader:o().string.isRequired,api:o().shape({context:o().string.isRequired}).isRequired,url:o().string.isRequired};const u=s},97648:(e,t,n)=>{var r=n(83915),i=n(38358),o=n(15389),a=n(69302),l=n(83693),c=n(68090),s=a((function(e,t){var n=c(t);return l(n)&&(n=void 0),l(e)?r(e,i(t,1,l,!0),o(n,2)):[]}));e.exports=s}}]);
//# sourceMappingURL=EditorDialog.f0dbd672cdb7e78f9032.bundle.js.map