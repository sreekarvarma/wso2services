(this.webpackChunk_wso2apim_devportal=this.webpackChunk_wso2apim_devportal||[]).push([[1272],{41723:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>B});var n=a(96540),i=a(11848),s=a(84798),r=a(14977),o=a(98587),l=a(58168),c=a(54533),d=a(64111),p=a(3541),g=a(27553),m=a(17245);function h(e){return(0,m.Ay)("MuiCardActions",e)}(0,g.A)("MuiCardActions",["root","spacing"]);var u=a(74848);const A=["disableSpacing","className"],b=(0,i.Ay)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,!a.disableSpacing&&t.spacing]}})((({ownerState:e})=>(0,l.A)({display:"flex",alignItems:"center",padding:8},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}}))),S=n.forwardRef((function(e,t){const a=(0,p.A)({props:e,name:"MuiCardActions"}),{disableSpacing:n=!1,className:i}=a,s=(0,o.A)(a,A),r=(0,l.A)({},a,{disableSpacing:n}),g=(e=>{const{classes:t,disableSpacing:a}=e,n={root:["root",!a&&"spacing"]};return(0,d.A)(n,h,t)})(r);return(0,u.jsx)(b,(0,l.A)({className:(0,c.A)(g.root,i),ownerState:r,ref:t},s))})),k=S;var f=a(87393),w=a(92728),v=a(71543),y=a(99020),E=a(5419),C=a.n(E),D=a(1043),L=a(33551),R=a(58065),x=a(38798),M=a(84712),$=a(61914),j=a(32997),U=a(30198),N=a(44675),_=a(51989);function I(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const K="Sdk",T={genericMessageWrapper:`${K}-genericMessageWrapper`,titleSub:`${K}-titleSub`,gridRoot:`${K}-gridRoot`,titleWrappper:`${K}-titleWrappper`,cardTitle:`${K}-cardTitle`,cardRoot:`${K}-cardRoot`},W=(0,i.Ay)("div")((e=>{let{theme:t}=e;return{[`& .${T.genericMessageWrapper}`]:{margin:t.spacing(2)},[`& .${T.titleSub}`]:{marginLeft:t.spacing(3),paddingTop:t.spacing(2),paddingBottom:t.spacing(2),color:t.palette.getContrastText(t.palette.background.default)},[`& .${T.gridRoot}`]:{marginLeft:t.spacing(2)},[`& .${T.titleWrappper}`]:{display:"flex",alignItems:"center","& h4":{marginRight:t.spacing(1)}},[`& .${T.cardTitle}`]:{background:t.palette.grey[50]},[`& .${T.cardRoot}`]:{background:t.custom.apiDetailPages.sdkBackground}}}));class P extends n.Component{constructor(e){super(e),I(this,"handleClick",((e,t)=>{const a=this.api_uuid,n=t;this.getSdkForApi(a,n)})),I(this,"handleChange",(e=>{const{sdkLanguages:t}=this.state;let a=t;a=a.filter((t=>-1!==t.toLowerCase().search(e.target.value.toLowerCase()))),this.setState({items:a})})),I(this,"addDefaultSrc",(e=>{e.target.src=U.app.context+"/site/public/images/sdks/default.svg"})),this.state={sdkLanguages:null,items:null};const{match:t,apiId:a}=this.props;this.api_uuid=t?t.params.apiUuid:a,this.filter_threshold=5,this.getSdkForApi=this.getSdkForApi.bind(this),this.handleClick=this.handleClick.bind(this),this.handleChange=this.handleChange.bind(this),this.addDefaultSrc=this.addDefaultSrc.bind(this)}componentDidMount(){const e=new _.A;null!=j.A.getUser()&&e.getSdkLanguages().then((e=>{0!==e.obj.length?(this.setState({sdkLanguages:e.obj}),this.setState({items:e.obj})):this.setState({sdkLanguages:!1})})).catch((e=>{console.log(e),M.A.error(e)}))}getSdkForApi(e,t){(new _.A).getSdk(e,t).then((e=>{const t=e.headers["content-disposition"].match(/filename="(.+)"/)[1],a=e.data;C()(a,t)})).catch((e=>{console.log(e),M.A.error(e)}))}render(){const e=this.state.items,{onlyIcons:t,intl:a,theme:i}=this.props,{custom:{apiDetailPages:{onlyShowSdks:o}}}=i,l=e&&e.length>0&&o&&o.length>0?e.filter((e=>o.includes(e.toLowerCase()))):e;return t?l&&n.createElement(W,null,l.map(((e,t)=>t<3&&n.createElement(y.Ay,{item:!0,xs:4,key:e},n.createElement(s.A,{onClick:t=>this.handleClick(t,e),onKeyDown:t=>this.handleClick(t,e),style:{cursor:"pointer"},"aria-label":"Download "+e+" SDK",id:"download-sdk-btn"},n.createElement("img",{alt:e,src:U.app.context+"/site/public/images/sdks/"+String(e)+".svg",style:{width:80,height:80,margin:10}})))))):n.createElement(W,null,n.createElement("div",{className:T.titleWrappper},n.createElement(L.A,{variant:"h4",component:"h2",className:T.titleSub},n.createElement(R.A,{id:"Apis.Details.Sdk.title",defaultMessage:"Software Development Kits (SDKs)"})),l&&this.state.sdkLanguages.length>=this.filter_threshold&&n.createElement(D.A,{variant:"outlined",id:"search",label:a.formatMessage({defaultMessage:"Search SDK",id:"Apis.Details.Sdk.search.sdk"}),type:"text",margin:"normal",name:"searchSdk",onChange:this.handleChange})),l?n.createElement(y.Ay,{container:!0,spacing:0,className:T.gridRoot},n.createElement(y.Ay,{item:!0,xs:12,sm:6,md:9,lg:9,xl:10},n.createElement(y.Ay,{container:!0,justifyContent:"flex-start",spacing:4},l.map((e=>n.createElement(y.Ay,{key:e,item:!0},n.createElement("div",{style:{width:"auto",textAlign:"center",margin:"10px"}},n.createElement(r.A,{className:T.cardRoot},n.createElement("div",null,e.toString().toUpperCase()),n.createElement(v.A,null),n.createElement(f.A,{title:e.toString().toUpperCase(),src:U.app.context+"/site/public/images/sdks/"+String(e)+".svg",classes:{root:T.cardTitle}},n.createElement("img",{alt:e,onError:this.addDefaultSrc,src:`${U.app.context}/site/public/images/sdks/${e}.svg`,style:{width:"100px",height:"100px",margin:"30px"}})),n.createElement(k,null,n.createElement(y.Ay,{container:!0,justifyContent:"center"},n.createElement(s.A,{color:"secondary",onClick:t=>this.handleClick(t,e),"aria-label":"Download "+e+" SDK",id:"download-sdk-btn"},n.createElement(w.A,null,"arrow_downward"),n.createElement(R.A,{id:"Apis.Details.Sdk.download.btn",defaultMessage:"Download"})))))))))))):n.createElement("div",{className:T.genericMessageWrapper},n.createElement($.A,{type:"info",className:T.dialogContainer},n.createElement(L.A,{variant:"h5",component:"h3"},n.createElement(R.A,{id:"Apis.Details.Sdk.no.sdks",defaultMessage:"No SDKs"})),n.createElement(L.A,{component:"p"},n.createElement(R.A,{id:"Apis.Details.Sdk.no.sdks.content",defaultMessage:"No SDKs available for this API"})))))}}const B=(0,x.Ay)((function(e){const{match:t,apiId:a,onlyIcons:i,intl:s}=e,r=(0,N.A)();return n.createElement(P,{match:t,apiId:a,onlyIcons:i,intl:s,theme:r})}))},5419:e=>{e.exports=function(e,t,a,n){var i=new Blob(void 0!==n?[n,e]:[e],{type:a||"application/octet-stream"});if(void 0!==window.navigator.msSaveBlob)window.navigator.msSaveBlob(i,t);else{var s=window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(i):window.webkitURL.createObjectURL(i),r=document.createElement("a");r.style.display="none",r.href=s,r.setAttribute("download",t),void 0===r.download&&r.setAttribute("target","_blank"),document.body.appendChild(r),r.click(),setTimeout((function(){document.body.removeChild(r),window.URL.revokeObjectURL(s)}),200)}}}}]);
//# sourceMappingURL=APISdk.7f6bbd563ff522a396b7.bundle.js.map