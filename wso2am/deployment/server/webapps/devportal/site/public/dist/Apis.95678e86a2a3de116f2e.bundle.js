(this.webpackChunk_wso2apim_devportal=this.webpackChunk_wso2apim_devportal||[]).push([[7012,2808],{56828:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Zn});var n=a(96540),i=a(56347),r=a(11848),o=a(5556),s=a.n(o),l=a(33551),c=a(58065),p=a(19455),d=a(92728),u=a(46942),m=a.n(u),g=a(12058),h=a(68738),f=a(51989),b=a(44675),y=a(34339),A=a(34717),E=a(15001),v=a(54625);const w="ApiBreadcrumbs",x={root:`${w}-root`,link:`${w}-link`,linkNotActive:`${w}-linkNotActive`,icon:`${w}-icon`,selectedTagText:`${w}-selectedTagText`,apiGroup:`${w}-apiGroup`},C=(0,r.Ay)(y.A)((e=>{let{theme:t}=e;return{[`&.${x.root}`]:{padding:t.spacing(1,3)},[`& .${x.link}`]:{display:"flex",alignItems:"center"},[`& .${x.linkNotActive}`]:{display:"flex",alignItems:"center",cursor:"default"},[`& .${x.icon}`]:{marginRight:t.spacing(.5),width:20,height:20},[`& .${x.selectedTagText}`]:{textIndent:4},[`& .${x.apiGroup}`]:{color:t.palette.grey[800]}}}));function T(e){const t=(0,b.A)(),{selectedTag:a}=e;return n.createElement(C,{elevation:0,className:x.root},n.createElement(A.A,{"aria-label":"breadcrumb"},n.createElement(v.N_,{to:t.custom.tagWise.active&&"page"===t.custom.tagWise.style?"/api-groups":"/apis",className:x.apiGroup},n.createElement(E.A,{color:"inherit",className:x.link,underline:"hover"},n.createElement(d.A,{className:x.icon},"dynamic_feed"),n.createElement(c.A,{defaultMessage:"API Groups",id:"Apis.Listing.ApiBreadcrumbs.apigroups.main"}))),a&&n.createElement(E.A,{color:"inherit",className:x.linkNotActive,underline:"hover"},n.createElement(g.A,{width:16,height:16,icon:"api"}),n.createElement("span",{className:x.selectedTagText},a))))}var S=a(48750),M=a(22843),$=a(21064),k=a(72363),I=a(32413),P=a(38798),D=a(70182),R=a.n(D),O=a(67193),W=a.n(O),L=a(86663),N=a(46656),B=a.n(N),j=a(69933),q=a(28842),z=a(18679),V=a(84712),H=a(42158),U=a(53784),F=a(10573),_=a(14977),G=a(37636),K=a(87393);const Y="DocThumbLegacy",J={root:`${Y}-root`,media:`${Y}-media`,content:`${Y}-content`,actions:`${Y}-actions`,header:`${Y}-header`,info:`${Y}-info`,apiName:`${Y}-apiName`,version:`${Y}-version`,subtitle:`${Y}-subtitle`},Z=(0,r.Ay)(_.A)((e=>{let{theme:t}=e;return{[`&.${J.root}`]:{width:t.custom.thumbnail.width,backgroundColor:"#f5f5f5",minHeight:330,margin:t.spacing(2),cursor:"pointer",transition:"background-color 0.3s ease","&:hover":{backgroundColor:t.palette.grey[300]}},[`& .${J.media}`]:{height:200},[`& .${J.content}`]:{paddingBottom:t.spacing(1)},[`& .${J.actions}`]:{display:"flex",justifyContent:"space-between",padding:t.spacing(1)},[`& .${J.header}`]:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},[`& .${J.info}`]:{display:"flex",justifyContent:"space-between"},[`& .${J.apiName}`]:{flex:1},[`& .${J.version}`]:{flex:1,textAlign:"right"},[`& .${J.subtitle}`]:{color:t.palette.grey[600],fontSize:"0.75rem"}}})),Q=e=>{let{doc:t}=e;const[a]=(0,n.useState)({category:null,selectedIcon:null,color:null,backgroundIndex:null,imageObj:null}),r=(0,b.A)(),o=(0,i.W6)(),s=`/apis/${t.apiUUID}/documents/${t.id}/details`,{category:p,selectedIcon:d,color:u,backgroundIndex:m}=a,{name:g,sourceType:h,apiName:f,apiVersion:y}=t;return(0,n.useEffect)((()=>()=>{a.imageObj&&window.URL.revokeObjectURL(a.imageObj)}),[a.imageObj]),n.createElement(Z,{className:J.root,onClick:()=>{o.push(s)}},r.custom.thumbnail.defaultApiImage?n.createElement(K.A,{className:J.media,image:r.custom.thumbnail.defaultApiImage,title:"Document Image"}):n.createElement(U.A,{width:r.custom.thumbnail.width,height:140,api:t,fixedIcon:{key:d,color:u,backgroundIndex:m,category:p,doc:t}}),n.createElement(G.A,{className:J.content},n.createElement(l.A,{variant:"h5",component:"div",className:J.header,title:g},g),n.createElement(l.A,{variant:"caption"},n.createElement(c.A,{defaultMessage:"Source Type: ",id:"Apis.Listing.DocThumb.sourceType"}),h),n.createElement("div",{className:J.info},n.createElement(l.A,{variant:"subtitle1",className:J.apiName},f),n.createElement(l.A,{variant:"subtitle1",className:J.version},y)),n.createElement("div",{className:J.info},n.createElement(l.A,{className:J.subtitle},n.createElement(c.A,{defaultMessage:"API Name",id:"Apis.Listing.DocThumb.apiName"})),n.createElement(l.A,{className:J.subtitle,style:{textAlign:"right"}},n.createElement(c.A,{defaultMessage:"API Version",id:"Apis.Listing.DocThumb.apiVersion"})))))};Q.propTypes={doc:s().shape({name:s().string,sourceType:s().string,apiName:s().string,apiVersion:s().string,id:s().string,apiUUID:s().string}).isRequired};const X=Q,ee="DefinitionThumb",te={root:`${ee}-root`,media:`${ee}-media`,content:`${ee}-content`,actions:`${ee}-actions`,header:`${ee}-header`,info:`${ee}-info`,apiName:`${ee}-apiName`,version:`${ee}-version`,subtitle:`${ee}-subtitle`},ae=(0,r.Ay)(_.A)((e=>{let{theme:t}=e;return{[`&.${te.root}`]:{width:t.custom.thumbnail.width,backgroundColor:"#f5f5f5",minHeight:330,margin:t.spacing(2),cursor:"pointer",display:"flex",flexDirection:"column",transition:"background-color 0.3s ease","&:hover":{backgroundColor:t.palette.grey[300]}},[`& .${te.media}`]:{height:200},[`& .${te.content}`]:{flexGrow:1,paddingBottom:t.spacing(1)},[`& .${te.actions}`]:{display:"flex",justifyContent:"space-between",padding:t.spacing(1)},[`& .${te.header}`]:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",wordBreak:"break-word"},[`& .${te.info}`]:{display:"flex",justifyContent:"space-between"},[`& .${te.apiName}`]:{flex:1},[`& .${te.version}`]:{flex:1,textAlign:"right"},[`& .${te.subtitle}`]:{color:t.palette.grey[600],fontSize:"0.75rem"}}})),ne=e=>{let{def:t}=e;const[a]=(0,n.useState)({category:null,selectedIcon:null,color:null,backgroundIndex:null,imageObj:null}),r=(0,b.A)(),o=(0,i.W6)(),s=`/apis/${t.apiUUID}/overview`,{name:p,apiName:d,apiVersion:u}=t,{category:m,selectedIcon:g,color:h,backgroundIndex:f}=a;return(0,n.useEffect)((()=>()=>{a.imageObj&&window.URL.revokeObjectURL(a.imageObj)}),[a.imageObj]),n.createElement(ae,{className:te.root,onClick:()=>{o.push(s)}},r.custom.thumbnail.defaultApiImage?n.createElement(K.A,{className:te.media,image:r.custom.thumbnail.defaultApiImage,title:"API Definition Image"}):n.createElement(U.A,{width:r.custom.thumbnail.width,height:140,api:t,fixedIcon:{key:g,color:h,backgroundIndex:f,category:m,def:t}}),n.createElement(G.A,{className:te.content},n.createElement(l.A,{variant:"h5",component:"div",className:te.header,title:p},p),n.createElement("div",{className:te.info},n.createElement(l.A,{variant:"subtitle1",className:te.apiName},d),n.createElement(l.A,{variant:"subtitle1",className:te.version},u)),n.createElement("div",{className:te.info},n.createElement(l.A,{className:te.subtitle},n.createElement(c.A,{defaultMessage:"API Name",id:"Apis.Listing.DefThumb.apiName"})),n.createElement(l.A,{className:te.subtitle,style:{textAlign:"right"}},n.createElement(c.A,{defaultMessage:"API Version",id:"Apis.Listing.DefThumb.apiVersion"})))))};ne.propTypes={def:s().shape({id:s().string,name:s().string,apiName:s().string,apiVersion:s().string,apiContext:s().string,apiUUID:s().string,apiProvider:s().string,apiType:s().string}).isRequired};const ie=ne;var re=a(53036),oe=a(31076);function se(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const le="ApiTableViewLegacy-apiNameLink",ce=(0,r.Ay)(S.A)((e=>{let{theme:t}=e;return{[`& .${le}`]:{display:"flex",alignItems:"center","& span":{marginLeft:t.spacing(1)},color:t.palette.getContrastText(t.custom.listView.tableBodyEvenBackgrund),"& .material-icons":{marginTop:5,color:`${t.custom.thumbnail.iconColor} !important`,fontSize:`${t.custom.thumbnail.listViewIconSize}px !important`}}}}));class pe extends n.Component{constructor(e){super(e),se(this,"getMuiTheme",(()=>{const{gridView:e,theme:t}=this.props;let a={};const n={overrides:{MUIDataTable:{root:{backgroundColor:"transparent",marginLeft:40,marginBottom:20,width:"100%"},paper:{boxShadow:"none",backgroundColor:"transparent",width:"100%"},tableRoot:{border:"solid 1px #fff","& a":{display:"flex",alignItems:"center"},"& a > div":{paddingRight:10},"& td":{whiteSpace:"nowrap",lineHeight:1},"& tr:nth-child(even)":{backgroundColor:t.custom.listView.tableBodyEvenBackgrund,"& td":{color:t.palette.getContrastText(t.custom.listView.tableBodyEvenBackgrund)}},"& tr:nth-child(odd)":{backgroundColor:t.custom.listView.tableBodyOddBackgrund,"& td":{color:t.palette.getContrastText(t.custom.listView.tableBodyOddBackgrund)}},"& th":{backgroundColor:t.custom.listView.tableHeadBackground,color:t.palette.getContrastText(t.custom.listView.tableHeadBackground)}}},MUIDataTablePagination:{root:{color:t.palette.getContrastText(t.palette.background.default)}},MuiMenuItem:{root:{color:t.palette.getContrastText(t.palette.background.default)}},MUIDataTableToolbar:{root:{"& svg":{color:t.palette.getContrastText(t.palette.background.default)}}}}};e&&(a={overrides:{MUIDataTable:{tableRoot:{display:"block",border:"none","& tbody":{display:"flex",flexWrap:"wrap",marginLeft:0},"& thead":{display:"none"},"& tr:nth-child(odd),& tr:nth-child(even)":{display:"block",marginRight:5,marginBottom:5,backgroundColor:"transparent"},"& td":{display:"block",backgroundColor:"transparent"}},paper:{boxShadow:"none",backgroundColor:"transparent"}},MUIDataTableBodyCell:{root:{backgroundColor:"transparent",width:"100%"}}}});const i=R()({},H.A,B(),{custom:W()(t.custom)}),r=R()({},n,i,a);return(0,M.A)((0,$.A)(r))})),se(this,"getData",(()=>{const{intl:e}=this.props;this.setState({loading:!0}),this.xhrRequest().then((e=>{const{body:t}=e,{list:a,pagination:n}=t,{total:i}=n;this.count=i,this.setState({data:a})})).catch((t=>{const{response:a}=t,{setTenantDomain:n}=this.props;a&&901300===a.body.code?(n("INVALID"),V.A.error(e.formatMessage({defaultMessage:"Invalid tenant domain",id:"Apis.Listing.ApiTableView.invalid.tenant.domain"}))):V.A.error(e.formatMessage({defaultMessage:"Error While Loading APIs",id:"Apis.Listing.ApiTableView.error.loading"}))})).finally((()=>{this.setState({loading:!1})}))})),se(this,"xhrRequest",(()=>{const{query:e,selectedTag:t}=this.props,{page:a,rowsPerPage:n}=this,i=new f.A,r=new URLSearchParams(e).get("query");if(e&&null!==r){const t=L.parse(e);return t.limit=this.rowsPerPage,t.offset=a*n,i.search(t)}return t?i.getAllAPIs({query:"tag:"+t,limit:this.rowsPerPage,offset:a*n}):i.getAllAPIs({limit:this.rowsPerPage,offset:a*n})})),se(this,"changePage",(e=>{const{intl:t}=this.props;this.page=e,this.setState({loading:!0}),this.xhrRequest().then((e=>{const{body:t}=e,{list:a}=t;this.setState({data:a})})).catch((()=>{V.A.error(t.formatMessage({defaultMessage:"Error While Loading APIs",id:"Apis.Listing.ApiTableView.error.loading"}))})).finally((()=>{this.setState({loading:!1})}))})),this.state={data:null,loading:!0},this.page=0,this.count=100,this.rowsPerPage=localStorage.getItem("portal.numberOfRows")||10,this.pageType=null}componentDidMount(){this.apiType=this.context.apiType,this.getData()}componentDidUpdate(e){const{query:t,selectedTag:a}=this.props;this.apiType===this.context.apiType&&t===e.query&&e.selectedTag===a||(this.page=0,this.apiType=this.context.apiType,this.getData())}render(){var e=this;const{intl:t,gridView:a,theme:i}=this.props,{custom:{social:{showRating:r}}}=i,{loading:o}=this.state,s=[{name:"id",options:{display:"excluded",filter:!1}},{name:"name",options:{customBodyRender:function(t,a,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;if(a.rowData){const e=r.state.data[a.rowIndex];return n.createElement(U.A,{api:e,width:30,height:30})}return n.createElement("span",null)},sort:!1,filter:!1,display:"excluded"}},{name:"name",label:t.formatMessage({id:"Apis.Listing.ApiTableView.name",defaultMessage:"Name"}),options:{customBodyRender:function(t,a,r){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;if(a.rowData){const e=o.state.data[a.rowIndex],t=a.rowData[2],r=a.rowData[0];if(e){if("DOC"===e.type)return n.createElement(v.N_,{to:"/apis/"+e.apiUUID+"/documents",className:le},n.createElement(d.A,null,"library_books"),n.createElement("span",null," ",n.createElement(c.A,{id:"Apis.Listing.TableView.TableView.doc.flag",defaultMessage:"[Doc] "})," ",t));if("DEFINITION"===e.type)return n.createElement(v.N_,{to:"/apis/"+r+"/overview",className:le},n.createElement(d.A,null,"code"),n.createElement("span",null," ",n.createElement(c.A,{id:"Apis.Listing.TableView.TableView.def.flag",defaultMessage:"[Def] "})," ",t));const a=i.palette.getContrastText(i.custom.listView.tableBodyEvenBackgrund);return n.createElement(v.N_,{to:"/apis/"+r+"/overview",className:le},n.createElement(g.A,{width:16,height:16,icon:"api",strokeColor:a}),n.createElement("span",null,t))}}return n.createElement("span",null)},sort:!1,filter:!1}},{name:"version",label:t.formatMessage({id:"Apis.Listing.ApiTableView.version",defaultMessage:"Version"}),options:{sort:!1}},{name:"context",label:t.formatMessage({id:"Apis.Listing.ApiTableView.context",defaultMessage:"Context"}),options:{sort:!1}},{name:"provider",label:t.formatMessage({id:"Apis.Listing.ApiTableView.provider",defaultMessage:"Provider/Business Owner"}),options:{sort:!1,customBodyRender:(e,t)=>t.rowData?t.rowData[9]&&t.rowData[9].businessOwner?n.createElement(n.Fragment,null,n.createElement("div",null,t.rowData[9].businessOwner),n.createElement(l.A,{variant:"caption"},n.createElement(c.A,{defaultMessage:"(Business Owner)",id:"Apis.Listing.ApiTableView.business.owner.caption"}))):n.createElement(n.Fragment,null,e&&n.createElement(n.Fragment,null,n.createElement("div",null,e),n.createElement(l.A,{variant:"caption"},n.createElement(c.A,{defaultMessage:"(Provider)",id:"Apis.Listing.ApiTableView.provider.caption"})))):n.createElement("span",null)}},{name:"type",label:t.formatMessage({id:"Apis.Listing.ApiTableView.type",defaultMessage:"Type"}),options:{sort:!1}},{name:"rating",label:t.formatMessage({id:"Apis.Listing.ApiTableView.rating",defaultMessage:"Rating"}),options:{customBodyRender:function(t,a,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;if(a.rowData){const e=r.state.data[a.rowIndex];if(e&&"DOC"!==e.type&&"DEFINITION"!==e.type){const e=a.rowData[0],t=a.rowData[8];return n.createElement(j.A,{apiRating:t,apiId:e,isEditable:!1,showSummary:!1})}}return n.createElement("span",null)},sort:!1,display:r?"true":"excluded"}},{name:"avgRating",options:{display:"excluded",filter:!1}},{name:"businessInformation",options:{display:"excluded",filter:!1}}],{page:p,count:u,rowsPerPage:m}=this,{data:h}=this.state,f={filterType:"dropdown",responsive:"stacked",serverSide:!0,search:!1,count:u,page:p,onTableChange:(e,t)=>{"changePage"===e&&this.changePage(t.page)},selectableRows:"none",rowsPerPage:m,onChangeRowsPerPage:e=>{const{page:t,count:a}=this;t*e>a&&(this.page=0),this.rowsPerPage=e,localStorage.setItem("portal.numberOfRows",e),this.getData()},textLabels:{pagination:{rowsPerPage:t.formatMessage({id:"Apis.Listing.ApiTableView.items.per.page",defaultMessage:"Items per page"})},toolbar:{downloadCsv:t.formatMessage({id:"Apis.Listing.ApiTableView.download.csv",defaultMessage:"Download CSV"}),print:t.formatMessage({id:"Apis.Listing.ApiTableView.print",defaultMessage:"Print"}),viewColumns:t.formatMessage({id:"Apis.Listing.ApiTableView.view.columns",defaultMessage:"View Columns"})}}};return a?(f.customRowRender=function(t,a,r){const o=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e).state.data[a];return o?"DOC"===o.type?n.createElement("tr",{key:r},n.createElement("td",null,n.createElement(X,{doc:o}))):"DEFINITION"===o.type?n.createElement("tr",{key:r},n.createElement("td",null,n.createElement(ie,{def:o}))):n.createElement("tr",{key:r},n.createElement("td",null,n.createElement(F.A,{api:o,customHeight:i.custom.thumbnail.height,customWidth:i.custom.thumbnail.width}))):n.createElement("span",null)},f.title=!1,f.filter=!1,f.print=!1,f.download=!1,f.viewColumns=!1,f.customToolbar=!1):f.filter=!1,0===p&&this.count<=m&&10===m?f.pagination=!1:f.pagination=!0,o?n.createElement(z.A,null):h&&0===h.length||!h?n.createElement(oe.A,null):n.createElement(ce,{injectFirst:!0},n.createElement(k.A,{theme:this.getMuiTheme()},n.createElement(I.Ay,{title:"",data:h,columns:s,options:f})))}}pe.contextType=re._;const de=(0,q.A)((0,P.Ay)((function(e){const{query:t,selectedTag:a,gridView:i,intl:r,setTenantDomain:o}=e,s=(0,b.A)();return n.createElement(pe,{query:t,selectedTag:a,gridView:i,intl:r,setTenantDomain:o,theme:s})})));var ue=a(91854),me=a(49799),ge=a(68881),he=a(57873),fe=a(82241),be=a(56655);const ye="APICategoryThumb",Ae={textWrapper:`${ye}-textWrapper`,listItemText:`${ye}-listItemText`},Ee=(0,r.Ay)(v.N_)((e=>{let{theme:t}=e;return{[`&.${Ae.textWrapper}`]:{color:t.custom.tagCloud.leftMenu.color,"& .material-icons":{color:t.custom.tagCloud.leftMenu.color}},[`& .${Ae.listItemText}`]:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}}));function ve(e){const{category:t,path:a}=e,i=a+":"+t.name;let r=t.description;return r.length>50&&(r=r.substring(0,50)+"..."),n.createElement(Ee,{to:i,className:Ae.textWrapper},n.createElement(be.A,{placement:"right",title:t.description.length<=50?"":t.description},n.createElement(ge.Ay,{button:!0,alignItems:"flex-start"},n.createElement(he.A,{className:"category-listing-icon"},n.createElement(d.A,null,"label")),n.createElement(fe.A,{primary:t.name,secondary:r,classes:{primary:m()(Ae.listItemText,"category-listing-primary"),secondary:"category-listing-secondary"}}))))}ve.propTypes={classes:s().shape({}).isRequired,category:s().shape({}).isRequired,path:s().shape({}).isRequired};const we=ve,xe="CategoryListingCategories",Ce={mainTitle:`${xe}-mainTitle`,mainTitleWrapper:`${xe}-mainTitleWrapper`,listContentWrapper:`${xe}-listContentWrapper`,textWrapper:`${xe}-textWrapper`,tagWiseThumbWrapper:`${xe}-tagWiseThumbWrapper`,filterTitle:`${xe}-filterTitle`},Te=(0,r.Ay)("div")((e=>{let{theme:t}=e;return{[`&.${Ce.mainTitle}`]:{paddingTop:0},[`& .${Ce.mainTitleWrapper}`]:{flexGrow:1},[`& .${Ce.listContentWrapper}`]:{padding:`0 ${t.spacing(3)}`},[`& .${Ce.textWrapper}`]:{color:t.custom.tagCloud.leftMenu.color,"& .material-icons":{color:t.custom.tagCloud.leftMenu.color}},[`& .${Ce.tagWiseThumbWrapper}`]:{display:"flex"},[`& .${Ce.filterTitle}`]:{fontWeight:200,paddingLeft:t.spacing(2),background:t.custom.tagCloud.leftMenu.titleBackground,color:t.palette.getContrastText(t.custom.tagCloud.leftMenu.titleBackground),height:t.custom.infoBar.height,alignItems:"center",display:"flex"}}}));function Se(e){const t=(0,b.A)(),{custom:{tagWise:{style:a}}}=t,{allCategories:i}=e;return i&&i.length>0?n.createElement(Te,{className:m()(Ce.mainTitle,"category-listing-categories-empty")},n.createElement(l.A,{variant:"h6",gutterBottom:!0,className:m()(Ce.filterTitle,"api-cat-title")},n.createElement(c.A,{defaultMessage:"API Categories",id:"Apis.Listing.CategoryListingCategories.title"})),n.createElement(me.A,{component:"nav","aria-label":"main mailbox folders",className:"category-listing-categories"},Object.keys(i).map((e=>n.createElement(we,{key:e,category:i[e],path:"/apis?offset=0&query=api-category",style:a}))))):n.createElement(Te,{className:m()(Ce.mainTitle,"category-listing-categories-empty")},n.createElement(l.A,{variant:"subtitle1",gutterBottom:!0,align:"center"},n.createElement(c.A,{defaultMessage:"Categories cannot be found",id:"Apis.Listing.CategoryListingCategories.categoriesNotFound"})))}Se.propTypes={classes:s().shape({}).isRequired,theme:s().shape({}).isRequired,allTags:s().shape({}).isRequired,allCategories:s().shape({}).isRequired};const Me=Se;var $e=a(30754);const ke="ApiTagCloud",Ie={clickablePointer:`${ke}-clickablePointer`,filterTitle:`${ke}-filterTitle`},Pe=(0,r.Ay)("div")((e=>{let{theme:t}=e;return{[`& .${Ie.clickablePointer}`]:{cursor:"pointer",padding:t.spacing(1)},[`& .${Ie.filterTitle}`]:{fontWeight:200,paddingLeft:t.spacing(2),background:t.custom.tagCloud.leftMenu.titleBackground,color:t.palette.getContrastText(t.custom.tagCloud.leftMenu.titleBackground),height:t.custom.infoBar.height,alignItems:"center",display:"flex"},"& .tag-cloud-tag":{overflow:"hidden",textOverflow:"ellipsis",display:"inline-block",maxWidth:"-webkit-fill-available"}}}));function De(e){const t=(0,b.A)(),{custom:{tagWise:{key:a,active:r},tagCloud:{colorOptions:o}}}=t,s=(0,i.W6)(),{allTags:p}=e;let d=null;return 0!==p.count&&(d=r?p.filter((e=>-1===e.value.search(a))):p),d&&n.createElement(Pe,null,n.createElement(l.A,{variant:"h6",gutterBottom:!0,className:m()(Ie.filterTitle,"apis-listing-tags-title")},n.createElement(c.A,{defaultMessage:"Tags",id:"Apis.Listing.ApiTagCloud.title"})),n.createElement($e.S,{minSize:14,maxSize:25,colorOptions:o,tags:d,shuffle:!1,className:Ie.clickablePointer,onClick:e=>(e=>{const t=`/apis?offset=0&query=tag:${e.value}`;s.push(t)})(e)}))}De.propTypes={classes:s().shape({}).isRequired,tag:s().shape({}).isRequired,allTags:s().shape({}).isRequired};const Re=De;var Oe=a(69554),We=a(98544),Le=a.n(We);const Ne="RecommendedApiThumbLegacy",Be={card:`${Ne}-card`,apiDetails:`${Ne}-apiDetails`,suppressLinkStyles:`${Ne}-suppressLinkStyles`,row:`${Ne}-row`,thumbBy:`${Ne}-thumbBy`,media:`${Ne}-media`,thumbContent:`${Ne}-thumbContent`,thumbLeft:`${Ne}-thumbLeft`,thumbRight:`${Ne}-thumbRight`,thumbInfo:`${Ne}-thumbInfo`,thumbHeader:`${Ne}-thumbHeader`,contextBox:`${Ne}-contextBox`,thumbWrapper:`${Ne}-thumbWrapper`,deleteIcon:`${Ne}-deleteIcon`,textWrapper:`${Ne}-textWrapper`,imageWrapper:`${Ne}-imageWrapper`,imageOverlap:`${Ne}-imageOverlap`,chipWrapper:`${Ne}-chipWrapper`,ratingWrapper:`${Ne}-ratingWrapper`},je=(0,r.Ay)(_.A)((e=>{let{theme:t}=e;return{[`&.${Be.card}`]:{margin:1.5*t.spacing.unit,maxWidth:t.custom.thumbnail.width,transition:"box-shadow 0.3s ease-in-out"},[`& .${Be.apiDetails}`]:{background:t.custom.thumbnail.contentBackgroundColor,padding:t.spacing(),color:t.palette.getContrastText(t.custom.thumbnail.contentBackgroundColor),"& a":{color:t.palette.getContrastText(t.custom.thumbnail.contentBackgroundColor)}},[`& .${Be.suppressLinkStyles}`]:{textDecoration:"none",color:t.palette.text.disabled},[`& .${Be.row}`]:{display:"inline-block"},[`& .${Be.thumbBy}`]:{"padding-left":"5px"},[`& .${Be.media}`]:{objectFit:"cover"},[`& .${Be.thumbContent}`]:{width:t.custom.thumbnail.width-t.spacing(2)},[`& .${Be.thumbLeft}`]:{alignSelf:"flex-start",flex:1,width:"25%","padding-left":"5px","padding-right":"65px"},[`& .${Be.thumbRight}`]:{alignSelf:"flex-end"},[`& .${Be.thumbInfo}`]:{display:"flex"},[`& .${Be.thumbHeader}`]:{width:t.custom.thumbnail.width-t.spacing.unit,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",margin:0,"padding-left":"5px"},[`& .${Be.contextBox}`]:{width:parseInt((t.custom.thumbnail.width-t.spacing.unit)/2,10),whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",margin:0,display:"inline-block",lineHeight:"1em","padding-top":5,"padding-right":5,"padding-bottom":1.5,textAlign:"left"},[`& .${Be.thumbWrapper}`]:{position:"relative",paddingTop:20,marginRight:2*t.spacing.unit},[`& .${Be.deleteIcon}`]:{fill:"red"},[`& .${Be.textWrapper}`]:{color:t.palette.text.secondary,textDecoration:"none"},[`& .${Be.imageWrapper}`]:{color:t.custom.thumbnail.iconColor,width:t.custom.thumbnail.width,display:"flex",alignItems:"center",justifyContent:"center"},[`& .${Be.imageOverlap}`]:{position:"absolute",bottom:1},[`& .${Be.chipWrapper}`]:{marginTop:"15px"},[`& .${Be.ratingWrapper}`]:{marginTop:"20px"}}})),qe=window.URL||window.webkitURL;class ze extends n.Component{constructor(e){super(e),this.state={category:Le().categories[0].name,selectedIcon:null,color:null,backgroundIndex:null,imageObj:null,isHover:!1},this.toggleMouseOver=this.toggleMouseOver.bind(this)}componentDidMount(){const{api:e}=this.props;(new f.A).getAPIThumbnail(e.id).then((e=>{if(e&&e.data)if("application/json"===e.headers["content-type"]){const t=JSON.parse(e.data);this.setState({selectedIcon:t.key,category:t.category,color:t.color,backgroundIndex:t.backgroundIndex})}else if(e&&e.data.size>0){const t=qe.createObjectURL(e.data);this.setState({imageObj:t})}}))}componentWillUnmount(){this.state.thumbnail&&qe.revokeObjectURL(this.state.imageObj)}getPathPrefix(){return"/apis/"}toggleMouseOver(e){this.setState({isHover:"mouseover"===e.type})}render(){const{imageObj:e,selectedIcon:t,color:a,backgroundIndex:i,category:r,isHover:o}=this.state,s=this.getPathPrefix()+this.props.api.id,{api:c,theme:p,customWidth:d,customHeight:u,showInfo:g}=this.props,{thumbnail:h}=p.custom,{name:f}=c,b=d||h.width,y=u||140,A=h.defaultApiImage;let E;return E=e?n.createElement("img",{height:y,width:b,src:e,alt:"API Thumbnail",className:Be.media}):n.createElement(U.A,{width:b,height:y,api:c,fixedIcon:{key:t,color:a,backgroundIndex:i,category:r,api:c}}),n.createElement(je,{onMouseOver:this.toggleMouseOver,onFocus:this.toggleMouseOver,onMouseOut:this.toggleMouseOver,onBlur:this.toggleMouseOver,raised:o,className:m()("image-thumbnail",Be.card)},n.createElement(K.A,null,n.createElement(v.N_,{to:s,className:Be.suppressLinkStyles},!A&&E,A&&n.createElement("img",{src:A,alt:"img"}))),g&&n.createElement(G.A,{classes:{root:Be.apiDetails}},n.createElement(v.N_,{to:s,className:Be.textWrapper},n.createElement(l.A,{className:Be.thumbHeader,variant:"h5",gutterBottom:!0,onClick:this.handleRedirectToAPIOverview,title:f},f)),n.createElement("div",{className:Be.thumbInfo},n.createElement("div",{className:Be.thumbLeft},n.createElement(l.A,{variant:"subtitle1",gutterBottom:!0,align:"left",className:m()("api-thumb-rating",Be.ratingWrapper)},n.createElement(j.A,{apiRating:c.avgRating,apiId:c.id,isEditable:!1,showSummary:!1}))),n.createElement("div",{className:Be.thumbRight},n.createElement(l.A,{variant:"subtitle1",gutterBottom:!0,align:"right",className:Be.chipWrapper},("GRAPHQL"===c.type||"GRAPHQL"===c.transportType)&&n.createElement(Oe.A,{label:void 0===c.transportType?c.type:c.transportType,color:"primary"}))))))}}ze.defaultProps={customWidth:null,customHeight:null,showInfo:!0},ze.propTypes={classes:s().shape({}).isRequired,theme:s().shape({}).isRequired,customWidth:s().number,customHeight:s().number,showInfo:s().bool},ze.contextType=re._;const Ve=function(e){const{api:t}=e,a=(0,b.A)();return n.createElement(ze,{api:t,theme:a})};function He(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Ue="RecommendationsLegacy",Fe={rowImageOverride:`${Ue}-rowImageOverride`,apiNameLink:`${Ue}-apiNameLink`},_e=(0,r.Ay)(S.A)((e=>{let{theme:t}=e;return{[`& .${Fe.rowImageOverride}`]:{"& .material-icons":{marginTop:5,color:`${t.custom.thumbnail.iconColor} !important`,fontSize:`${t.custom.thumbnail.listViewIconSize}px !important`}},[`& .${Fe.apiNameLink}`]:{display:"flex",alignItems:"center","& span":{marginLeft:t.spacing(1)},color:t.palette.getContrastText(t.custom.listView.tableBodyEvenBackgrund)}}}));class Ge extends n.Component{constructor(e){super(e),He(this,"getMuiTheme",(()=>{const{gridView:e,theme:t}=this.props;let a={},n={overrides:{MUIDataTable:{root:{backgroundColor:"transparent",marginLeft:40,marginBottom:20,width:"100%"},paper:{boxShadow:"none",backgroundColor:"transparent",width:"100%"},tableRoot:{border:"solid 1px #fff","& a":{display:"flex",alignItems:"center"},"& a > div":{paddingRight:10},"& td":{whiteSpace:"nowrap"},"& tr:nth-child(even)":{backgroundColor:t.custom.listView.tableBodyEvenBackgrund,"& td":{color:t.palette.getContrastText(t.custom.listView.tableBodyEvenBackgrund)}},"& tr:nth-child(odd)":{backgroundColor:t.custom.listView.tableBodyOddBackgrund,"& td":{color:t.palette.getContrastText(t.custom.listView.tableBodyOddBackgrund)}},"& th":{backgroundColor:t.custom.listView.tableHeadBackground,color:t.palette.getContrastText(t.custom.listView.tableHeadBackground)}}},MUIDataTableBodyCell:{root:{backgroundColor:"transparent",width:"100%"}}}};return e&&(a={overrides:{MUIDataTable:{tableRoot:{display:"block","& tbody":{display:"flex",flexWrap:"wrap",marginLeft:0},"& thead":{display:"none"}},paper:{boxShadow:"none",backgroundColor:"transparent"}}}}),n=Object.assign(n,a,B()),(0,M.A)((0,$.A)(n))})),He(this,"getData",(()=>{const{intl:e}=this.props;this.xhrRequest().then((e=>{const{body:t}=e,{list:a}=t;this.setState({data:a})})).catch((t=>{const{response:a}=t,{setTenantDomain:n}=this.props;a&&901300===a.body.code?(n("INVALID"),V.A.error(e.formatMessage({defaultMessage:"Invalid tenant domain",id:"Apis.Listing.Recommendations.invalid.tenant.domain"}))):V.A.error(e.formatMessage({defaultMessage:"Error While Loading APIs",id:"Apis.Listing.Recommendations.error.loading"}))})).finally((()=>{this.setState({loading:!1})}))})),He(this,"xhrRequest",(()=>(new f.A).getApiRecommendations())),this.state={data:null,loading:!0}}componentDidMount(){this.getData()}componentDidUpdate(e){const{query:t,selectedTag:a}=this.props;t===e.query&&e.selectedTag===a||this.getData()}render(){var e=this;const{intl:t,gridView:a}=this.props,{loading:i}=this.state,r=[{name:"id",options:{display:"excluded",filter:!1}},{name:"name",options:{customBodyRender:function(t,a,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;if(a.rowData){const e=r.state.data[a.rowIndex];return n.createElement(U.A,{api:e,width:30,height:30})}return n.createElement("span",null)},sort:!1,filter:!1,display:"excluded"}},{name:"name",label:t.formatMessage({id:"Apis.Listing.Recommendations.name",defaultMessage:"Name"}),options:{customBodyRender:function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(t.rowData){const e=a.state.data[t.rowIndex],i=t.rowData[2],r=t.rowData[0];if(e)return n.createElement(v.N_,{to:"/apis/"+r+"/overview",className:Fe.apiNameLink},n.createElement(g.A,{width:16,height:16,icon:"api",strokeColor:"#444444"}),n.createElement("span",null,i))}return n.createElement("span",null)},sort:!1,filter:!1}},{name:"rating",label:t.formatMessage({defaultMessage:"Rating",id:"Apis.Listing.Recommendations.rating"}),options:{customBodyRender:function(t,a,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;if(a.rowData){const e=r.state.data[a.rowIndex];if(e){if("DOC"!==e.type){const e=a.rowData[0],t=a.rowData[8];return n.createElement(j.A,{apiRating:t,apiId:e,isEditable:!1,showSummary:!1})}return n.createElement("span",null)}return n.createElement("span",null)}return n.createElement("span",null)},sort:!1}},{name:"avgRating",options:{display:"excluded",filter:!1}}],{data:o}=this.state,s={filterType:"dropdown",responsive:"stacked",serverSide:!0,search:!1};return a?(s.customRowRender=function(t,a,i){const r=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e).state.data[a];return r?n.createElement("tr",{key:i},n.createElement("td",null,n.createElement(Ve,{api:r}))):n.createElement("span",null)},s.title=!0,s.filter=!1,s.print=!1,s.download=!1,s.viewColumns=!1,s.customToolbar=!1,s.rowsPerPageOptions=!1,s.pagination=!1):s.filter=!1,i?n.createElement(z.A,null):o&&0===o.length||!o?null:n.createElement(_e,{injectFirst:!0},n.createElement(k.A,{theme:this.getMuiTheme()},n.createElement(I.Ay,{title:"Recommended APIs for you",data:o,columns:r,options:s})))}}Ge.contextType=re._;const Ke=(0,q.A)((0,P.Ay)((function(e){const{query:t,selectedTag:a,gridView:i,intl:r,setTenantDomain:o}=e,s=(0,b.A)();return n.createElement(Ge,{query:t,selectedTag:a,gridView:i,intl:r,setTenantDomain:o,theme:s})})));var Ye=a(32997);function Je(){return Je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Je.apply(null,arguments)}function Ze(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Qe="CommonListingLegacy",Xe={rightIcon:`${Qe}-rightIcon`,button:`${Qe}-button`,buttonRight:`${Qe}-buttonRight`,ListingWrapper:`${Qe}-ListingWrapper`,appBar:`${Qe}-appBar`,mainIconWrapper:`${Qe}-mainIconWrapper`,mainTitle:`${Qe}-mainTitle`,mainTitleWrapper:`${Qe}-mainTitleWrapper`,listContentWrapper:`${Qe}-listContentWrapper`,iconDefault:`${Qe}-iconDefault`,iconSelected:`${Qe}-iconSelected`,content:`${Qe}-content`,contentWithTags:`${Qe}-contentWithTags`,contentWithoutTags:`${Qe}-contentWithoutTags`,contentWithTagsHidden:`${Qe}-contentWithTagsHidden`,LeftMenu:`${Qe}-LeftMenu`,LeftMenuForSlider:`${Qe}-LeftMenuForSlider`,sliderButton:`${Qe}-sliderButton`,rotatedText:`${Qe}-rotatedText`,recommendationsBar:`${Qe}-recommendationsBar`,apiListingWrapper:`${Qe}-apiListingWrapper`},et=(0,r.Ay)("div")((e=>{let{theme:t}=e;return{[`& .${Xe.rightIcon}`]:{marginLeft:t.spacing(1)},[`& .${Xe.button}`]:{margin:t.spacing(1),marginBottom:0},[`& .${Xe.buttonRight}`]:{alignSelf:"flex-end",display:"flex"},[`& .${Xe.ListingWrapper}`]:{paddingTop:10,paddingLeft:35,maxWidth:t.custom.contentAreaWidth},[`& .${Xe.appBar}`]:{height:70,background:t.custom.infoBar.background,color:t.palette.getContrastText(t.custom.infoBar.background),borderBottom:"solid 1px "+t.palette.grey.A200,display:"flex",alignItems:"center",justifyContent:"center"},[`& .${Xe.mainIconWrapper}`]:{paddingTop:13,paddingLeft:20,paddingRight:20},[`& .${Xe.mainTitle}`]:{paddingTop:10},[`& .${Xe.mainTitleWrapper}`]:{flexGrow:1},[`& .${Xe.listContentWrapper}`]:{padding:`0 ${t.spacing(3)}`,display:"flex",marginLeft:-40},[`& .${Xe.iconDefault}`]:{color:t.palette.getContrastText(t.custom.infoBar.background)},[`& .${Xe.iconSelected}`]:{color:t.custom.infoBar.listGridSelectedColor},[`& .${Xe.content}`]:{flexGrow:1,display:"flex",flex:1,flexDirection:"column",paddingBottom:t.spacing(3)},[`& .${Xe.contentWithTags}`]:{marginLeft:t.custom.tagCloud.leftMenu.width},[`& .${Xe.contentWithoutTags}`]:{marginLeft:-4},[`& .${Xe.contentWithTagsHidden}`]:{marginLeft:t.custom.tagCloud.leftMenu.sliderWidth},[`& .${Xe.LeftMenu}`]:{backgroundColor:t.custom.tagCloud.leftMenu.background,color:t.custom.tagCloud.leftMenu.color,textAlign:"left",fontFamily:t.typography.fontFamily,position:"absolute",bottom:0,paddingLeft:0,width:t.custom.tagCloud.leftMenu.width,top:0,left:0,overflowY:"auto"},[`& .${Xe.LeftMenuForSlider}`]:{backgroundColor:t.custom.tagCloud.leftMenu.background,color:t.custom.tagCloud.leftMenu.color,textAlign:"left",fontFamily:t.typography.fontFamily,position:"absolute",bottom:0,paddingLeft:0,width:t.custom.tagCloud.leftMenu.sliderWidth,top:0,left:0,overflowY:"auto",display:"flex"},[`& .${Xe.sliderButton}`]:{fontWeight:200,background:t.custom.tagCloud.leftMenu.sliderBackground,color:t.palette.getContrastText(t.custom.tagCloud.leftMenu.sliderBackground),height:t.custom.infoBar.height,alignItems:"center",display:"flex",position:"absolute",right:0,cursor:"pointer"},[`& .${Xe.rotatedText}`]:{transform:"rotate(270deg)",transformOrigin:"left bottom 0",position:"absolute",whiteSpace:"nowrap",top:4*t.custom.infoBar.height,marginLeft:23,cursor:"pointer"},[`& .${Xe.recommendationsBar}`]:{height:60,background:t.custom.infoBar.background,color:t.palette.getContrastText(t.custom.infoBar.background),borderBottom:"solid 1px "+t.palette.grey.A200,display:"flex",alignItems:"center",justifyContent:"center"},[`&.${Xe.apiListingWrapper}`]:{width:"100%"}}}));class tt extends n.Component{constructor(e){super(e),Ze(this,"setListType",(e=>{localStorage.setItem("portal.listType",e),this.setState({listType:e})})),Ze(this,"toggleLeftMenu",(()=>{this.setState((e=>({showLeftMenu:!e.showLeftMenu})))})),Ze(this,"isMonetizationEnabled",(()=>{const e=this.context.settings.monetizationEnabled;this.setState({isMonetizationEnabled:e})})),Ze(this,"isRecommendationEnabled",(()=>{const e=this.context.settings.recommendationEnabled;this.setState({isRecommendationEnabled:e})}));let{defaultApiView:t}=e.theme.custom;this.showToggle=!0,"object"==typeof t&&t.length>0?(1===t.length&&(this.showToggle=!1),t=t[0]):t=localStorage.getItem("portal.listType")||t,this.state={listType:t,allTags:null,showLeftMenu:!1,isMonetizationEnabled:!1,isRecommendationEnabled:!1}}componentDidMount(){const e=new f.A;e.getAllTags(-1).then((e=>{this.setState({allTags:e.body.list})})).catch((e=>{console.log(e)})),e.apiCategories().then((e=>{this.setState({allCategories:e.body.list})})).catch((e=>{console.log(e)})),this.isMonetizationEnabled(),this.isRecommendationEnabled()}render(){const{theme:e,location:{search:t}}=this.props,a=Ye.A.getUser(),{custom:{tagWise:{key:i,active:r},tagCloud:{active:o}}}=e,{listType:s,allTags:u,showLeftMenu:h,isMonetizationEnabled:f,allCategories:b,isRecommendationEnabled:y}=this.state,A=e.palette.getContrastText(e.custom.infoBar.background),E=new URLSearchParams(t).get("query");let v=null;if(t&&null!==E&&r&&i){const e=E.split(":");if(e.length>1&&-1!==e[1].search(i)){const t=e[1].split(i);t.length>0&&(v=t[0])}else e.length>1&&"tag"===e[0]&&(v=e[1])}const w=u&&u.length>0&&(o||r),x=b&&b.length>0;return n.createElement(et,{className:m()(Xe.apiListingWrapper,"api-listing-wrapper")},(x||w)&&h&&n.createElement("div",{className:m()(Xe.LeftMenu,"api-listing-left-menu")},n.createElement("div",{className:m()(Xe.sliderButton,"api-listing-slider-btn"),onClick:this.toggleLeftMenu,onKeyDown:this.toggleLeftMenu},n.createElement(d.A,null,"keyboard_arrow_left")),x&&n.createElement(Me,{allCategories:b}),w&&r&&n.createElement(ue.A,{allTags:u}),w&&o&&n.createElement(Re,{allTags:u})),(x||w)&&!h&&n.createElement("div",{className:m()(Xe.LeftMenuForSlider,"api-listing-left-menu-hidden")},n.createElement("div",{className:m()(Xe.sliderButton,"api-listing-slider-btn"),onClick:this.toggleLeftMenu,onKeyDown:this.toggleLeftMenu},n.createElement(d.A,null,"keyboard_arrow_right")),n.createElement("div",{className:m()(Xe.rotatedText,"api-listing-title-section-hidden"),onClick:this.toggleLeftMenu,onKeyDown:this.toggleLeftMenu},n.createElement(c.A,{defaultMessage:"Tags / API Categories",id:"Apis.Listing.Listing.ApiTagCloud.title"}))),n.createElement("div",{className:m()(Xe.content,{[Xe.contentWithoutTags]:!(w||x)||!h},{[Xe.contentWithTagsHidden]:(w||x)&&!h},{[Xe.contentWithTags]:(w||x)&&h},"content-section"),id:"commonListing"},n.createElement("div",{className:Xe.appBar,id:"commonListingAppBar"},n.createElement("div",{className:m()(Xe.mainIconWrapper,"main-icon-wrapper")},n.createElement(g.A,{strokeColor:A,width:42,height:42,icon:"api"})),n.createElement("div",{className:Xe.mainTitleWrapper,id:"mainTitleWrapper"},n.createElement(l.A,{variant:"h4",component:"h1",className:Xe.mainTitle},n.createElement(c.A,{defaultMessage:"APIs",id:"Apis.Listing.Listing.apis.main"}))),this.showToggle&&n.createElement("div",{className:Xe.buttonRight,id:"listGridWrapper"},n.createElement(p.A,{"aria-label":"Change to list view",className:Xe.button,onClick:()=>this.setListType("list"),disabled:"list"===s,size:"large"},n.createElement(d.A,{className:m()({[Xe.iconSelected]:"list"===s},{[Xe.iconDefault]:"grid"===s})},"list")),n.createElement(p.A,{"aria-label":"Change to grid view",className:Xe.button,onClick:()=>this.setListType("grid"),disabled:"grid"===s,size:"large"},n.createElement(d.A,{className:m()({[Xe.iconSelected]:"grid"===s},{[Xe.iconDefault]:"list"===s})},"grid_on")))),r&&u&&u.length>0&&n.createElement(T,{selectedTag:v}),n.createElement("div",{className:Xe.listContentWrapper},"grid"===s&&n.createElement(re._.Provider,{value:{isMonetizationEnabled:f}},n.createElement(de,{gridView:!0,query:t})),"list"===s&&n.createElement(re._.Provider,{value:{isMonetizationEnabled:f}},n.createElement(de,{gridView:!1,query:t}))),y&&a&&n.createElement("div",null,r&&u&&u.length>0&&n.createElement(T,{selectedTag:v}),n.createElement("div",{className:Xe.listContentWrapper},"grid"===s&&n.createElement(re._.Provider,{value:{isRecommendationEnabled:y}},n.createElement(Ke,{gridView:!0,query:t})),"list"===s&&n.createElement(re._.Provider,{value:{isRecommendationEnabled:y}},n.createElement(Ke,{gridView:!0,query:t}))))))}}tt.contextType=h.Ay,tt.propTypes={classes:s().shape({}).isRequired,theme:s().shape({}).isRequired,location:s().shape({search:s().string})},tt.defaultProps={location:s().shape({search:""})};const at=function(e){const t=(0,b.A)();return n.createElement(tt,Je({},e,{theme:t}))};var nt=a(13778),it=a(25858),rt=a(61566),ot=a(6442),st=a(99020),lt=a(1043),ct=a(71543),pt=a(69067),dt=a(7824),ut=a(81385),mt=a(57555),gt=a(84798),ht=a(97834),ft=a(25348);const bt=e=>n.createElement(ht.A,{maxWidth:"md"},n.createElement(pt.A,{padding:4},n.createElement(y.A,{elevation:0},n.createElement(pt.A,{padding:4},n.createElement(st.Ay,{container:!0,alignItems:"center",justifyContent:"center",style:{height:"100%"}},n.createElement(st.Ay,{item:!0,xs:12,md:6},n.createElement(l.A,{variant:"h5",gutterBottom:!0},n.createElement(c.A,{id:"Base.Errors.SubscriptionNotFound.default_title",defaultMessage:"Solace Info Page is not displayed without subscriptions to the API. Please Subscribed to the API"})),n.createElement(l.A,{variant:"subtitle1",gutterBottom:!0},n.createElement(c.A,{id:"Base.Errors.ResourceNotfound.default_body",defaultMessage:"The page you are looking for is not available"}),n.createElement("span",{style:{color:"green"}}," ",e.response?e.response.statusText:""," ")),n.createElement(pt.A,{py:5},n.createElement(pt.A,{pb:2},n.createElement(l.A,{variant:"subtitle1"},n.createElement(c.A,{id:"Base.Errors.ResourceNotFound.more.links",defaultMessage:"You may check the links below"}))),n.createElement(v.N_,{to:"/apis/",style:{marginRight:8}},n.createElement(gt.A,{variant:"contained",color:"primary"},n.createElement(c.A,{id:"Base.Errors.ResourceNotFound.api.list",defaultMessage:"API List"}))),n.createElement(v.N_,{to:"/applications/"},n.createElement(gt.A,{variant:"contained",color:"primary"},n.createElement(c.A,{id:"Base.Errors.ResourceNotFound.applications",defaultMessage:"Applications"}))))),n.createElement(st.Ay,{item:!0,xs:12,md:6},n.createElement(ft.A,{style:{fontSize:400,fill:"#ccc"}})))))));var yt=a(8843);function At(e){const{verb:t}=e,a=(0,b.A)(),i=a.custom.resourceChipColors[t.toLowerCase()];return n.createElement(gt.A,{disableFocusRipple:!0,variant:"outlined",className:{backgroundColor:"#ffffff",borderColor:i,color:i,width:a.spacing(2)},size:"small"},t.toUpperCase())}const Et="SolaceTopicsInfo",vt={root:`${Et}-root`,table:`${Et}-table`,centerItems:`${Et}-centerItems`,leftCol:`${Et}-leftCol`,iconAligner:`${Et}-iconAligner`,iconTextWrapper:`${Et}-iconTextWrapper`,iconEven:`${Et}-iconEven`,iconOdd:`${Et}-iconOdd`,heading:`${Et}-heading`,heading1:`${Et}-heading1`,emptyBox:`${Et}-emptyBox`,summaryRoot:`${Et}-summaryRoot`,actionPanel:`${Et}-actionPanel`,Paper:`${Et}-Paper`,Box2:`${Et}-Box2`,Box3:`${Et}-Box3`,list:`${Et}-list`,urlPaper:`${Et}-urlPaper`,input:`${Et}-input`,avatar:`${Et}-avatar`,iconStyle:`${Et}-iconStyle`},wt=(0,r.Ay)("div")((e=>{let{theme:t}=e;return{[`& .${vt.root}`]:{padding:t.spacing(3,2),"& td, & th":{color:t.palette.getContrastText(t.custom.infoBar.background)},"& option":{padding:"5px 0px 5px 0px"},background:t.custom.infoBar.background},[`& .${vt.table}`]:{minWidth:"100%"},[`& .${vt.centerItems}`]:{margin:"auto"},[`& .${vt.leftCol}`]:{width:200},[`& .${vt.iconAligner}`]:{display:"flex",justifyContent:"flex-start",alignItems:"center"},[`& .${vt.iconTextWrapper}`]:{display:"inline-block",paddingLeft:20},[`& .${vt.iconEven}`]:{color:t.custom.infoBar.iconOddColor,width:t.spacing(3)},[`& .${vt.iconOdd}`]:{color:t.custom.infoBar.iconOddColor,width:t.spacing(3)},[`& .${vt.heading}`]:{color:t.palette.getContrastText(t.palette.background.paper),paddingLeft:t.spacing(1)},[`& .${vt.heading1}`]:{marginRight:20},[`& .${vt.emptyBox}`]:{background:"#ffffff55",color:t.palette.getContrastText(t.palette.background.paper),border:"solid 1px #fff",padding:t.spacing(2),width:"100%"},[`& .${vt.summaryRoot}`]:{display:"flex",alignItems:"center"},[`& .${vt.actionPanel}`]:{justifyContent:"flex-start"},[`& .${vt.Paper}`]:{marginTop:t.spacing(2),padding:t.spacing(2)},[`& .${vt.Box2}`]:{marginTop:t.spacing(2),padding:t.spacing(2),height:"100%"},[`& .${vt.Box3}`]:{padding:"2px 4px",display:"flex",alignItems:"center",width:"100%",border:`solid 1px ${t.palette.grey[300]}`,"& .MuiInputBase-root:before,  .MuiInputBase-root:hover":{borderBottom:"none !important",color:t.palette.primary.main},"& .MuiSelect-select":{color:t.palette.primary.main,paddingLeft:t.spacing()},"& .MuiInputBase-input":{color:t.palette.primary.main},"& .material-icons":{fontSize:16,color:`${t.palette.grey[700]} !important`},borderRadius:10,marginRight:t.spacing()},[`& .${vt.list}`]:{width:"100%",maxWidth:800,backgroundColor:t.palette.background.paper,position:"relative",overflow:"auto",maxHeight:175},[`& .${vt.urlPaper}`]:{padding:"2px 4px",display:"flex",alignItems:"center",width:"100%",border:`solid 1px ${t.palette.grey[300]}`,"& .MuiInputBase-root:before,  .MuiInputBase-root:hover":{borderBottom:"none !important",color:t.palette.primary.main},"& .MuiSelect-select":{color:t.palette.primary.main,paddingLeft:t.spacing()},"& .MuiInputBase-input":{color:t.palette.primary.main},"& .material-icons":{fontSize:16,color:`${t.palette.grey[700]} !important`},borderRadius:10,marginRight:t.spacing()},[`& .${vt.input}`]:{marginLeft:t.spacing(1),flex:1},[`& .${vt.avatar}`]:{width:30,height:30,background:"transparent",border:`solid 1px ${t.palette.grey[300]}`},[`& .${vt.iconStyle}`]:{cursor:"pointer",margin:"-10px 0",padding:"0 0 0 5px","& .material-icons":{fontSize:18,color:"#9c9c9c"}}}}));function xt(){const{apiUuid:e}=(0,i.g)(),[t,a]=(0,n.useState)(null),[r,o]=(0,n.useState)(null),[s,u]=(0,n.useState)(null),[m,g]=(0,n.useState)(null),[h,b]=(0,n.useState)(null),[y,A]=(0,n.useState)(null),[E,v]=(0,n.useState)(null),[w,x]=(0,n.useState)(null),[C,T]=(0,n.useState)(!1),[S,M]=(0,n.useState)(!1),[$,k]=(0,n.useState)(!1),[I,P]=(0,n.useState)(null),[D,R]=(0,n.useState)(null),[O,W]=(0,n.useState)(null),L=(0,ot.A)(),N=()=>{k(!0),setTimeout((function(){k(!1)}),2e3)};function B(e,t){const a=[];e.publishTopics.map((e=>(t.map((t=>(e.toString().includes(t)&&a.push(e),null))),null))),R(a);const n=[];e.subscribeTopics.map((e=>(t.map((t=>(e.toString().includes(t)&&n.push(e),null))),null))),W(n)}if((0,n.useEffect)((()=>{const t=new f.A,n=t.getAllTopics(e),i=[];n.then((e=>(e.obj.list.map((e=>{const t=e.name.split("{")[0];return i.push(t),null})),P(i),null))),t.getSubscriptionAdditionalInfo(e).then((e=>{x(e.body.list);const t=e.body.list[0];null!=t&&(a(t.applicationName),null!==t.solaceDeployedEnvironments&&(g(t.solaceDeployedEnvironments),o(t.solaceDeployedEnvironments[0]),A(t.solaceDeployedEnvironments[0].solaceURLs),u(t.solaceDeployedEnvironments[0].solaceURLs[0].protocol),b(t.solaceDeployedEnvironments[0].solaceURLs[0].endpointURL),"mqtt"===t.solaceDeployedEnvironments[0].solaceURLs[0].protocol?(v(t.solaceDeployedEnvironments[0].SolaceTopicsObject.mqttSyntax),B(t.solaceDeployedEnvironments[0].SolaceTopicsObject.mqttSyntax,i)):(v(t.solaceDeployedEnvironments[0].SolaceTopicsObject.defaultSyntax),B(t.solaceDeployedEnvironments[0].SolaceTopicsObject.defaultSyntax,i))))})).catch((e=>{console.log(e);const{status:t}=e;T(404===t)}))}),[e]),C)return n.createElement(yt.A,null);function j(e,t){"mqtt"===e?(v(t.SolaceTopicsObject.mqttSyntax),B(t.SolaceTopicsObject.mqttSyntax,I)):(v(t.SolaceTopicsObject.defaultSyntax),B(t.SolaceTopicsObject.defaultSyntax,I))}return w?n.createElement(wt,null,!t&&n.createElement(bt,null),r&&E&&I&&w&&n.createElement("div",{className:vt.root},n.createElement(l.A,{id:"itest-api-details-bushiness-plans-head",variant:"h5"},n.createElement(c.A,{id:"solace.application.available.topics.heading",defaultMessage:"Available Topics"})),n.createElement(l.A,{variant:"caption",gutterBottom:!0},n.createElement(c.A,{id:"solace.application.available.topics.subheading",defaultMessage:"Topics permitted to access from solace applications"})),n.createElement(pt.A,{mt:2}),n.createElement(st.Ay,{container:!0,spacing:2},n.createElement(st.Ay,{item:!0,xs:12,md:4},n.createElement(lt.A,{select:!0,fullWidth:!0,onChange:e=>{let t;a(e.target.value),w.map((a=>(a.applicationName===e.target.value&&(t=a),null)));const n=t.solaceDeployedEnvironments[0];let i;g(t.solaceDeployedEnvironments),u(n.solaceURLs[0].protocol),n.solaceURLs.map((e=>(e.protocol===n.solaceURLs[0].protocol&&(b(e.endpointURL),i=e.protocol),null))),j(i,n)},value:t,variant:"outlined",label:"Application",helperText:n.createElement(c.A,{defaultMessage:"Subscribed applications",id:"Apis.Details.SolaceTopicsInfo.SelectAppPanel.select.subscribed. application"}),SelectProps:{native:!0}},w.map((e=>n.createElement("option",{key:e,value:e.applicationName},e.applicationName))))),n.createElement(st.Ay,{item:!0,xs:12,md:4},n.createElement(lt.A,{select:!0,fullWidth:!0,onChange:e=>{let t,a;o(e.target.value),m.map((a=>(a.environmentDisplayName===e.target.value&&(t=a),null))),u(t.solaceURLs[0].protocol),A(t.solaceURLs),t.solaceURLs.map((e=>(e.protocol===t.solaceURLs[0].protocol&&(b(e.endpointURL),a=e.protocol),null))),j(a,t)},value:r.environmentDisplayName,variant:"outlined",label:"Environment Name",helperText:n.createElement(c.A,{defaultMessage:"Deployed Environments",id:"Apis.Details.SolaceTopicsInfo.SelectAppPanel.select. deployed.environment"}),SelectProps:{native:!0}},m.map((e=>n.createElement("option",{key:e,value:e.environmentDisplayName},e.environmentDisplayName))))),n.createElement(st.Ay,{item:!0,xs:12,md:4},n.createElement(lt.A,{select:!0,fullWidth:!0,onChange:e=>{let t,a;u(e.target.value),m.map((e=>(e.environmentDisplayName===r.environmentDisplayName&&(t=e),null))),y.map((t=>(t.protocol===e.target.value&&(b(t.endpointURL),a=t.protocol),null))),j(a,t)},value:s,variant:"outlined",label:"Protocol",helperText:n.createElement(c.A,{defaultMessage:"Available Protocols",id:"Apis.Details.SolaceTopicsInfo.SelectAppPanel.select. environment.protocol"}),SelectProps:{native:!0}},y.map((e=>n.createElement("option",{key:e.protocol,value:e.protocol},(0,mt.mf)(e.protocol))))))),n.createElement(pt.A,{pt:2},n.createElement(ct.A,null)),n.createElement(pt.A,{pt:5,pb:5},n.createElement(st.Ay,{container:!0},n.createElement(st.Ay,{xs:12,md:7,item:!0,style:{display:"flex",alignItems:"center",justifyContent:"center"}},n.createElement(pt.A,{id:"gateway-envirounment",component:"form",className:vt.Box3},n.createElement(pt.A,{mr:3},n.createElement(Oe.A,{label:(0,mt.mf)(s),color:"primary",style:{width:"70px"}})),n.createElement(dt.Ay,{className:vt.input,inputProps:{"aria-label":"api url"},value:h}),n.createElement(ut.A,{className:vt.avatar,sizes:30},n.createElement(be.A,{title:S?L.formatMessage({defaultMessage:"Copied",id:"Apis.Details.Environments.copied"}):L.formatMessage({defaultMessage:"Copy to clipboard",id:"Apis.Details.Environments.copy.to.clipboard"}),interactive:!0,placement:"right",className:vt.iconStyle},n.createElement(p.A,{"aria-label":"Copy the API URL to clipboard",size:"large",onClick:()=>{navigator.clipboard.writeText(h).then((M(!0),void setTimeout((function(){M(!1)}),2e3)))}},n.createElement(d.A,{color:"secondary"},"file_copy")))))))),n.createElement(st.Ay,{container:!0},n.createElement(st.Ay,{item:!0,xs:6},n.createElement(pt.A,{className:vt.Box2},n.createElement(l.A,{id:"itest-api-details-bushiness-plans-head",variant:"h6"},n.createElement(c.A,{id:"solace.application.topics.publish",defaultMessage:"Publish Topics"})),n.createElement(pt.A,{p:1},D&&D.length>0?D.map((e=>n.createElement(pt.A,{pt:2},n.createElement(pt.A,{id:"gateway-envirounment",component:"form",className:vt.Box3},n.createElement(st.Ay,{item:!0},n.createElement(At,{verb:"PUB"})),n.createElement(dt.Ay,{className:vt.input,inputProps:{"aria-label":"api url"},value:e}),n.createElement(ut.A,{className:vt.avatar,sizes:30},n.createElement(be.A,{title:$?L.formatMessage({defaultMessage:"Copied",id:"Apis.Details.PubTopic.copied"}):L.formatMessage({defaultMessage:"Copy to clipboard",id:"Apis.Details.PubTopic.copy.to.clipboard"}),interactive:!0,placement:"right",className:vt.iconStyle},n.createElement(p.A,{"aria-label":"Copy the API URL to clipboard",size:"large",onClick:()=>{navigator.clipboard.writeText(e).then(N())}},n.createElement(d.A,{color:"secondary"},"file_copy")))))))):n.createElement(pt.A,{pt:2},n.createElement(l.A,{id:"itest-api-details-bushiness-plans-head",variant:"h7"},n.createElement(c.A,{id:"solace.application.topics.publish.empty",defaultMessage:"No Publish Topics to Display."})))))),n.createElement(st.Ay,{item:!0,xs:6},n.createElement(pt.A,{className:vt.Box2},n.createElement(l.A,{id:"itest-api-details-bushiness-plans-head",variant:"h6"},n.createElement(c.A,{id:"solace.application.topics.subscribe",defaultMessage:"Subscribe Topics"})),n.createElement(pt.A,{p:1},O&&O.length>0?O.map((e=>n.createElement(pt.A,{pt:2},n.createElement(pt.A,{id:"gateway-envirounment",component:"form",className:vt.Box3},n.createElement(st.Ay,{item:!0},n.createElement(At,{verb:"SUB"})),n.createElement(dt.Ay,{className:vt.input,inputProps:{"aria-label":"api url"},value:e}),n.createElement(ut.A,{className:vt.avatar,sizes:30},n.createElement(be.A,{title:$?L.formatMessage({defaultMessage:"Copied",id:"Apis.Details.SubTopic.copied"}):L.formatMessage({defaultMessage:"Copy to clipboard",id:"Apis.Details.SubTopic.copy.to.clipboard"}),interactive:!0,placement:"right",className:vt.iconStyle},n.createElement(p.A,{"aria-label":"Copy the API URL to clipboard",size:"large",onClick:()=>{navigator.clipboard.writeText(e).then(N())}},n.createElement(d.A,{color:"secondary"},"file_copy")))))))):n.createElement(pt.A,{pt:2},n.createElement(l.A,{id:"itest-api-details-bushiness-plans-head",variant:"h7"},n.createElement(c.A,{id:"solace.application.topics.subscribe.empty",defaultMessage:"No Subscribe Topics to Display."}))))))))):n.createElement(z.A,null)}xt.propTypes={classes:s().shape({}).isRequired,intl:s().shape({}).isRequired};const Ct=xt;var Tt=a(68154),St=a(30198),Mt=a.n(St),$t=a(62861),kt=a(1710),It=a(48719),Pt=a(16576),Dt=a(72048),Rt=a(415),Ot=a(5159),Wt=a(65323),Lt=a(58727),Nt=a(60111);const Bt="Breadcrumb-root",jt=(0,r.Ay)("div")((e=>{let{theme:t}=e;return{[`&.${Bt}`]:{paddingTop:t.spacing(),paddingBottom:t.spacing(),paddingLeft:t.spacing(3),background:t.custom.infoBar.background||"#ffffff",color:t.palette.getContrastText(t.custom.infoBar.background||"#ffffff"),borderBottom:"solid 1px "+t.palette.grey.A200,"& > * + *":{marginTop:t.spacing(2)}}}}));function qt(e){const{api:t}=(0,n.useContext)(re._),{breadcrumbDocument:a}=e,r=(0,i.W6)(),o=(0,ot.A)(),s=[{route:"overview",text:o.formatMessage({defaultMessage:"Overview",id:"Apis.Details.Breadcrumb.overview"})},{route:"credentials",text:o.formatMessage({defaultMessage:"Subscriptions",id:"Apis.Details.Breadcrumb.subscriptions"})},{route:"api-console",text:o.formatMessage({defaultMessage:"API Console",id:"Apis.Details.Breadcrumb.try.out.api-console"})},{route:"api-chat",text:o.formatMessage({defaultMessage:"API Chat",id:"Apis.Details.Breadcrumb.try.out.api-chat"})},{route:"comments",text:o.formatMessage({defaultMessage:"Comments",id:"Apis.Details.Breadcrumb.comments"})},{route:"documents",text:o.formatMessage({defaultMessage:"Documents",id:"Apis.Details.Breadcrumb.documents"})},{route:"sdk",text:o.formatMessage({defaultMessage:"SDKs",id:"Apis.Details.Breadcrumb.sdks"})}],[p,d]=(0,n.useState)(s[0]),u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e||(e=window.location);const{pathname:t}=e;for(let e=0;e<s.length;e++){const a=new RegExp("/"+s[e].route+"$","g"),n=new RegExp("/"+s[e].route+"/","g");(t.match(a)||t.match(n))&&d(s[e])}};return(0,n.useEffect)((()=>{u()}),[]),r.listen((e=>{u(e)})),(0,n.useEffect)((()=>{u()}),[a]),n.createElement(jt,{className:Bt},n.createElement(pt.A,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(l.A,{color:"textPrimary",component:"h1",variant:"h6"},p.text),n.createElement(Nt.A,{height:15}),n.createElement(A.A,{separator:n.createElement(Lt.A,{fontSize:"small"}),"aria-label":"breadcrumb"},n.createElement(E.A,{color:"textPrimary",to:"/apis/"+t.id+"/overview",component:v.N_,underline:"hover"},t.name),("api-console"===p.route||"api-chat"===p.route)&&n.createElement(l.A,{color:"textPrimary"},n.createElement(c.A,{id:"Apis.Details.Breadcrumb.route.try.out",defaultMessage:"Try Out"})),"documents"===p.route&&document&&n.createElement(E.A,{color:"textPrimary",to:"/apis/"+t.id+"/documents/default",component:v.N_,underline:"hover"},p.text),"documents"===p.route&&!document&&n.createElement(l.A,{color:"textPrimary"},p.text),"documents"===p.route&&document&&n.createElement(l.A,{color:"textPrimary","data-testid":"breadcrumbDocument"},a),"documents"!==p.route&&n.createElement(l.A,{color:"textPrimary"},p.text))))}var zt=a(85877),Vt=a(39738),Ht=a(82997),Ut=a(47363),Ft=a(58156),_t=a(61914);function Gt(){return Gt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Gt.apply(null,arguments)}const Kt={mt:2,mr:1},Yt={pl:2},Jt=e=>{const{currentStep:t,handleCurrentStep:a,handleReset:r,nextActive:o}=e,{api:s,updateSubscriptionData:l}=(0,n.useContext)(re._),p=(0,i.W6)();return n.createElement(pt.A,Gt({display:"flex"},Yt),t<4&&n.createElement(pt.A,Kt,n.createElement(gt.A,{onClick:()=>{l(p.push("credentials"))},variant:"text",color:"grey"},n.createElement(c.A,{id:"Apis.Details.Credentials.Wizard.Wizard.Cancel",defaultMessage:"CANCEL"}))),t>=4&&n.createElement(pt.A,Kt,n.createElement(gt.A,Gt({onClick:()=>{p.push(`/apis/${s.id}/api-console`)}},Kt,{variant:"outlined"}),n.createElement(c.A,{id:"Apis.Details.Credentials.Wizard.Wizard.test",defaultMessage:"Test"}))),t>=4&&n.createElement(pt.A,Kt,n.createElement(gt.A,{variant:"outlined",onClick:r},n.createElement(c.A,{id:"Apis.Details.Credentials.Wizard.Wizard.rest",defaultMessage:"Reset"}))),n.createElement(pt.A,Kt,n.createElement(gt.A,{variant:"contained",color:"primary",onClick:a,disabled:!o,id:"wizard-next-"+t+"-btn"},4===t?n.createElement(c.A,{id:"Apis.Details.Credentials.Wizard.Wizard.finish",defaultMessage:"Finish"}):n.createElement(c.A,{id:"Apis.Details.Credentials.Wizard.Wizard.next",defaultMessage:"Next"}))))};Jt.defaultProps={nextActive:!0},Jt.propTypes={currentStep:s().func.isRequired,handleCurrentStep:s().func.isRequired,handleReset:s().func.isRequired,nextActive:s().bool};const Zt=Jt;function Qt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Xt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(a),!0).forEach((function(t){ea(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Qt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ea(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const ta="CreateAppStep",aa={appCreateFormWrapper:`${ta}-appCreateFormWrapper`,warningIcon:`${ta}-warningIcon`},na=(0,r.Ay)("div")((e=>{let{theme:t}=e;return{[`&.${aa.appCreateFormWrapper}`]:{paddingLeft:t.spacing(2)},[`& .${aa.warningIcon}`]:{color:"#ff9a00",fontSize:43,marginRight:10}}})),ia=(0,P.Ay)((e=>{const[t,a]=(0,n.useState)([]),[i,r]=(0,n.useState)({name:"",throttlingPolicy:"",description:"",tokenType:"JWT",groups:null,attributes:{}}),[o,s]=(0,n.useState)(!0),[l,p]=(0,n.useState)(null),[d,u]=(0,n.useState)(null),{currentStep:m,setCreatedApp:g,incrementStep:h,intl:b,setStepStatus:y,stepStatuses:A}=e,{api:E}=(0,n.useContext)(re._);return(0,n.useEffect)((()=>{const e=new f.A,t=e.getAllTiers("application"),n=e.getAllApplicationAttributes(),o=e.getKeyManagers();Promise.all([t,n,o]).then((e=>{const[t,n,o]=e,s=t.body.list.map((e=>e.name)),l=Xt({},i);s.length>0&&([l.throttlingPolicy]=s);const c=[];n.body.list.map((e=>c.push(e))),n.length>0&&(l.attributes=c.filter((e=>!e.hidden)));const d=[];let m;o.body.list.map((e=>d.push(e))),d.length>0&&(m=0!==d.filter((e=>"Resident Key Manager"===e.name&&e.enabled)).length),u(m),r(l),a(s),p(c)})).catch((e=>{const{status:t}=e;404===t&&V.A.error(b.formatMessage({id:"Apis.Details.Credentials.Wizard.CreateAppStep.error.404",defaultMessage:"Resource not found"}))}))}),[]),d?n.createElement(na,{className:aa.appCreateFormWrapper},n.createElement(pt.A,{px:2,display:"flex",justifyContent:"flex-start"},n.createElement(st.Ay,{item:!0,xs:10,md:6},n.createElement(Ft.A,{throttlingPolicyList:t,applicationRequest:i,updateApplicationRequest:r,validateName:e=>e&&""!==e.trim()?(s({isNameValid:!0}),Promise.resolve(!0)):(s({isNameValid:!1}),Promise.reject(new Error(b.formatMessage({defaultMessage:"Application name is required",id:"Apis.Details.Credentials.Wizard.CreateAppStep.application.name.is.required"})))),isNameValid:o,allAppAttributes:l,handleAttributesChange:e=>t=>{const a=W()(i);a.attributes[e]=t.target.value,r(a)},isRequiredAttribute:e=>{if(l)for(let t=0;t<l.length;t++)if(l[t].attribute===e)return"true"===l[t].required;return!1},getAttributeValue:e=>i.attributes[e],handleDeleteChip:(e,t,a)=>{const n=Xt({},i);let o=a||[];o=o.filter((t=>t!==e)),n.groups=o,r(n)},handleAddChip:(e,t)=>{const a=Xt({},i);let n=t||[];n=n.slice(),n.push(e),a.groups=n,r(a)}}))),n.createElement(Zt,{classes:aa,currentStep:m,handleCurrentStep:()=>{const e=new f.A;i.name&&""!==i.name.trim()?e.createApplication(i).then((e=>{const t=e.body;if("APPROVED"===t.status){const e={value:t.applicationId,label:t.name};console.log("Application created successfully."),g(e),h(),y(A.PROCEED)}else y(A.BLOCKED)})).catch((e=>{const{response:t}=e;if(t&&t.body){const e=t.body.description||b.formatMessage({defaultMessage:"Error while creating the application",id:"Apis.Details.Credentials.Wizard.CreateAppStep.error.while.creating.the.application"});V.A.error(e)}else V.A.error(e.message);console.error("Error while creating the application")})):V.A.error(b.formatMessage({defaultMessage:"Application name is required",id:"Apis.Details.Credentials.Wizard.CreateAppStep.application.name.is.required"}))}})):n.createElement(pt.A,{mb:1,ml:4},n.createElement(_t.A,{type:"warning"},n.createElement(c.A,{id:"Apis.Details.Credentials.Wizard.CreateAppStep.default.km.msg",defaultMessage:"Wizard is only accessible via the Resident Key Manager.But the Resident Key Manager is disabled at the moment."})),n.createElement(pt.A,{mt:2},n.createElement(v.N_,{to:`/apis/${E.id}/credentials`},n.createElement(gt.A,{variant:"contained"},n.createElement(c.A,{id:"Apis.Details.Credentials.Wizard.CreateAppStep.cancel",defaultMessage:"Cancel"})))))}));var ra=a(59623);function oa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function sa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?oa(Object(a),!0).forEach((function(t){la(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oa(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function la(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const ca=(0,P.Ay)((e=>{const[t,a]=(0,n.useState)({applicationId:"",apiId:"",throttlingPolicy:""}),{api:i}=(0,n.useContext)(re._),[r,o]=(0,n.useState)(null),[s]=(0,n.useState)(i.tiers),{currentStep:l,createdApp:c,incrementStep:p,intl:d,setStepStatus:u,stepStatuses:m,classes:g}=e;return(0,n.useEffect)((()=>{const e=sa(sa({},t),{},{apiId:i.id});if(s){const[t]=s;e.throttlingPolicy=t.tierName}c&&(e.applicationId=c.value),a(e),o(c)}),[c]),n.createElement(pt.A,{component:"div"},n.createElement(ra.A,{throttlingPolicyList:s,applicationsAvailable:[r],subscriptionRequest:t,updateSubscriptionRequest:a}),n.createElement(Zt,{classes:g,currentStep:l,handleCurrentStep:()=>{(new f.A).subscribe(t.apiId,t.applicationId,t.throttlingPolicy).then((e=>{"UNBLOCKED"===e.body.status?(console.log("Subscription created successfully with ID : "+e.body.subscriptionId),V.A.info(d.formatMessage({defaultMessage:"Subscribed successfully",id:"Apis.Details.Credentials.Wizard.SubscribeToAppStep.subscribed.successfully"})),p(),u(m.PROCEED)):u(m.BLOCKED)})).catch((e=>{console.log("Error while creating the subscription."),console.error(e)}))}}))}));var pa=a(61523),da=a(36575),ua=a(70691),ma=a(23049),ga=a(6347),ha=a(46252);const fa=["children","value","index"];function ba(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ya(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ba(Object(a),!0).forEach((function(t){Aa(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ba(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Aa(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ea(){return Ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ea.apply(null,arguments)}const va="generateKeysStep",wa={keyConfigWrapper:`${va}-keyConfigWrapper`,radioWrapper:`${va}-radioWrapper`,paper:`${va}-paper`,subTitle:`${va}-subTitle`,tabPanel:`${va}-tabPanel`,hr:`${va}-hr`,muiFormGroupRoot:`${va}-muiFormGroupRoot`,table:`${va}-table`,leftCol:`${va}-leftCol`,iconAligner:`${va}-iconAligner`},xa=(0,r.Ay)("div")((e=>{let{theme:t}=e;return{[`& .${wa.keyConfigWrapper}`]:{paddingLeft:t.spacing(4),flexDirection:"column"},[`& .${wa.radioWrapper}`]:{flexDirection:"row"},[`& .${wa.paper}`]:{background:"none",marginBottom:t.spacing(2),marginTop:t.spacing(2)},[`& .${wa.subTitle}`]:{fontWeight:400},[`& .${wa.tabPanel}`]:{"& .MuiBox-root":{padding:0}},[`& .${wa.hr}`]:{border:"solid 1px #efefef"},[`& .${wa.muiFormGroupRoot}`]:{flexDirection:"row"},[`& .${wa.table}`]:{minWidth:"100%","& td, & th":{padding:t.spacing()}},[`& .${wa.leftCol}`]:{width:200},[`& .${wa.iconAligner}`]:{display:"flex",justifyContent:"flex-start",alignItems:"center"}}}));function Ca(e){const{children:t,value:a,index:i}=e,r=function(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||{}.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}(e,fa);return n.createElement("div",Ea({role:"tabpanel",hidden:a!==i,id:`nav-tabpanel-${i}`,"aria-labelledby":`nav-tab-${i}`},r),a===i&&n.createElement(xa,null,t))}Ca.defaultProps={children:n.createElement("div",null)},Ca.propTypes={children:s().node,index:s().number.isRequired,value:s().number.isRequired};var Ta=a(19112),Sa=a(72267);function Ma(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function $a(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ma(Object(a),!0).forEach((function(t){ka(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ma(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ka(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Ia="generateAccessTokenStep",Pa={tokenWrapper:`${Ia}-tokenWrapper`,title:`${Ia}-title`},Da=(0,r.Ay)("div")((e=>{let{theme:t}=e;return{[`& .${Pa.tokenWrapper}`]:{paddingLeft:t.spacing(3),width:"90%"},[`& .${Pa.title}`]:{paddingLeft:t.spacing(2)}}}));var Ra=a(37738);function Oa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Wa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Oa(Object(a),!0).forEach((function(t){La(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Oa(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function La(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Na={tokenWrapper:"copyAccessTokenStep-tokenWrapper"},Ba=(0,r.Ay)("div")((e=>{let{theme:t}=e;return{[`&.${Na.tokenWrapper}`]:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),width:"90%"}}}));function ja(){return ja=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ja.apply(null,arguments)}function qa(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const za="Wizard",Va={paper:`${za}-paper`,titleSub:`${za}-titleSub`,boxWrapper:`${za}-boxWrapper`},Ha=(0,r.Ay)("div")((e=>{let{theme:t}=e;return{[`& .${Va.paper}`]:{marginLeft:t.spacing(3)},[`& .${Va.titleSub}`]:{marginLeft:t.spacing(3),paddingTop:t.spacing(2),paddingBottom:t.spacing(2),color:t.palette.getContrastText(t.palette.background.default)},[`& .${Va.boxWrapper}`]:{"& h5, & label, & td, & li, & div, & input, & p.MuiFormHelperText-root":{color:t.palette.getContrastText(t.palette.background.paper)},"& .MuiButton-containedPrimary span.MuiButton-label":{color:t.palette.getContrastText(t.palette.primary.main)}}}})),Ua=[ia,ca,e=>{const t=(0,ot.A)(),[a,i]=(0,n.useState)(!0),[r,o]=(0,n.useState)(null),[s,p]=(0,n.useState)({keyType:"SANDBOX",supportedGrantTypes:[],callbackUrl:"",additionalProperties:{},keyManager:""}),{currentStep:d,createdApp:u,incrementStep:m,setCreatedKeyType:g,setStepStatus:h,stepStatuses:b,setCreatedSelectedTab:y}=e;return(0,n.useEffect)((()=>{(new f.A).getKeyManagers().then((e=>{const a=[];let n;if(e.body.list.map((e=>a.push(e))),a.length>0){const e=a.filter((e=>"Resident Key Manager"===e.name));n=e.length>0?e[0]:a[0]}const r=n.availableGrantTypes.filter((e=>"urn:ietf:params:oauth:grant-type:token-exchange"!==e));o(ya(ya({},n),{},{availableGrantTypes:r}));try{const e=ya({},s);e.keyManager=n.id,e.supportedGrantTypes=n.availableGrantTypes,(n.availableGrantTypes.includes("implicit")||n.availableGrantTypes.includes("authorization_code"))&&(e.callbackUrl="http://localhost"),n.availableGrantTypes.includes("client_credentials")||i(!1),p(e)}catch(e){V.A.error(t.formatMessage({id:"Apis.Details.Credentials.Wizard.GenerateKeysStep.error.keymanager",defaultMessage:"Error while selecting the key manager"}))}})).catch((e=>{}))}),[]),n.createElement(xa,null,n.createElement(pt.A,{component:"div",marginLeft:4},n.createElement(st.Ay,{container:!0,spacing:2},r&&n.createElement(n.Fragment,null,n.createElement(st.Ay,{item:!0,xs:12,md:20,lg:3},n.createElement(l.A,{color:"inherit",variant:"subtitle2",component:"div"},n.createElement(c.A,{defaultMessage:"Key Configuration",id:"Apis.Details.Credentials.Wizard.GenerateKeysStep.key.configuration"})),n.createElement(l.A,{color:"inherit",variant:"caption",component:"p"},n.createElement(ga.A,null,n.createElement(c.A,{defaultMessage:"These configurations are set for the purpose of the wizard.You have more control over them when you go to the application view. ",id:"Apis.Details.Credentials.Wizard.GenerateKeysStep.key.configuration.help"})))),n.createElement(st.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(pa.A,{className:wa.table},n.createElement(da.A,null,n.createElement(ma.A,null,n.createElement(ua.A,{component:"th",scope:"row",className:wa.leftCol},n.createElement(c.A,{id:"Apis.Details.Credentials.Wizard.GenerateKeysStep.config.km.name",defaultMessage:"Key Manager"})),n.createElement(ua.A,null,n.createElement("div",null,r.displayName||r.name),n.createElement(l.A,{variant:"caption",component:"div"},r.description))),n.createElement(ma.A,null,n.createElement(ua.A,{component:"th",scope:"row",className:wa.leftCol},n.createElement(c.A,{id:"Apis.Details.Credentials.Wizard.GenerateKeysStep.list.environment",defaultMessage:"Environment"})),n.createElement(ua.A,null,"Sandbox")),n.createElement(ma.A,null,n.createElement(ua.A,{component:"th",scope:"row",className:wa.leftCol},n.createElement(c.A,{id:"Apis.Details.Credentials.Wizard.GenerateKeysStep.list.tokenEndpoint",defaultMessage:"Token Endpoint"})),n.createElement(ua.A,null,r.tokenEndpoint)),n.createElement(ma.A,null,n.createElement(ua.A,{component:"th",scope:"row",className:wa.leftCol},n.createElement(c.A,{id:"Apis.Details.Credentials.Wizard.GenerateKeysStep.list.revokeEndpoint",defaultMessage:"Revoke Endpoint"})),n.createElement(ua.A,null,r.revokeEndpoint)),n.createElement(ma.A,null,n.createElement(ua.A,{component:"th",scope:"row",className:wa.leftCol},n.createElement(c.A,{id:"Apis.Details.Credentials.Wizard.GenerateKeysStep.list.userInfoEndpoint",defaultMessage:"User Info Endpoint"})),n.createElement(ua.A,null,r.userInfoEndpoint)),n.createElement(ma.A,null,n.createElement(ua.A,{component:"th",scope:"row",className:wa.leftCol},n.createElement(c.A,{id:"Apis.Details.Credentials.Wizard.GenerateKeysStep.list.grantTypes",defaultMessage:"Grant Types"})),n.createElement(ua.A,null,r.availableGrantTypes.map((e=>n.createElement("span",null,Mt().grantTypes[e]||e,","," ")))))))))),n.createElement(st.Ay,{container:!0,spacing:2},n.createElement(st.Ay,{item:!0,xs:12},n.createElement(pt.A,{component:"span",m:1},n.createElement(Zt,{classes:wa,currentStep:d,handleCurrentStep:()=>{ha.A.get(u.value).then((e=>e.generateKeys(s.keyType,s.supportedGrantTypes.filter((e=>"urn:ietf:params:oauth:grant-type:token-exchange"!==e)),s.callbackUrl,s.additionalProperties,s.keyManager))).then((e=>{"CREATED"===e.keyState||"REJECTED"===e.keyState?h(b.BLOCKED):(m(),g(s.keyType),y("Resident Key Manager"),h(b.PROCEED),console.log("Keys generated successfully with ID : "+e))})).catch((e=>{const{status:a}=e;404===a&&V.A.error(t.formatMessage({id:"Apis.Details.Credentials.Wizard.GenerateKeysStep.error.404",defaultMessage:"Resource not found."}))}))},nextActive:a}))))))},e=>{const t=(0,ot.A)(),[a,i]=(0,n.useState)("PRODUCTION"),[r,o]=(0,n.useState)("Resident Key Manager"),[s,c]=(0,n.useState)([]),[p,d]=(0,n.useState)({timeout:3600,scopesSelected:[],keyType:""}),{currentStep:u,createdApp:m,setCreatedToken:g,incrementStep:h,createdKeyType:f,createdSelectedTab:b}=e;(0,n.useEffect)((()=>{const e=$a($a({},p),{},{keyType:f});i(f),o(b),d(e)}),[f,b]),(0,n.useEffect)((()=>{ha.A.get(m.value).then((e=>{e.getKeys().then((()=>{const t=e.subscriptionScopes.map((e=>e.key));c(t)}))})).catch((e=>{const{status:a}=e;404===a&&V.A.error(t.formatMessage({id:"Apis.Details.Credentials.Wizard.GenerateAccessTokenStep.error.404",defaultMessage:"Resource not found"}))}))}),[]);const y=(0,Sa.YK)({dataInfo:{id:"Apis.Details.Credentials.Wizard.GenerateAccessTokenStep",defaultMessage:"Generate Access Token for {keyType} environment"}});return n.createElement(Da,null,n.createElement("div",{className:Pa.tokenWrapper},n.createElement(l.A,{variant:"subtitle1",component:"div",className:Pa.title},t.formatMessage(y.dataInfo,{keyType:a})),n.createElement(Ta.A,{updateAccessTokenRequest:d,accessTokenRequest:p,subscriptionScopes:s}),n.createElement(Zt,{classes:Pa,currentStep:u,handleCurrentStep:()=>{o(b),ha.A.get(m.value).then((e=>e.generateToken(r,p.keyType,p.timeout,p.scopesSelected))).then((e=>{console.log("token generated successfully "+e),g(e),h()})).catch((e=>{const{status:a}=e;404===a&&V.A.error(t.formatMessage({id:"Apis.Details.Credentials.Wizard.GenerateAccessTokenStep.error.404",defaultMessage:"Resource not found"}))}))}})))},e=>{const{currentStep:t,createdToken:a,handleReset:r}=e,o=(0,i.W6)(),{api:s,updateSubscriptionData:l}=(0,n.useContext)(re._);return n.createElement(Ba,{className:Na.tokenWrapper},n.createElement(st.Ay,{md:10},n.createElement(pt.A,{my:1,mx:2},n.createElement(Ra.A,{token:Wa(Wa({},a),{},{isOauth:!0})}))),n.createElement(Zt,{classes:Na,currentStep:t,handleCurrentStep:()=>{l(o.push(`/apis/${s.id}/credentials`))},handleReset:r}))}];class Fa extends n.Component{constructor(e){super(e),qa(this,"setStepStatus",(e=>{this.setState({stepStatus:e})})),qa(this,"setCreatedApp",(e=>{this.setState({createdApp:e})})),qa(this,"setCreatedToken",(e=>{this.setState({createdToken:e})})),qa(this,"setCreatedKeyType",(e=>{this.setState({createdKeyType:e})})),qa(this,"setCreatedSelectedTab",(e=>{this.setState({createdSelectedTab:e})})),qa(this,"handleNext",(()=>{this.setState((e=>{let{currentStep:t}=e;return{currentStep:t+1}}))})),qa(this,"handleReset",(()=>{this.setState({currentStep:0})}));const{intl:t}=this.props;this.steps=[t.formatMessage({defaultMessage:"Create application",id:"Apis.Details.Credentials.Wizard.Wizard.create"}),t.formatMessage({defaultMessage:"Subscribe to new application",id:"Apis.Details.Credentials.Wizard.Wizard.subscribe.to.new.application"}),t.formatMessage({defaultMessage:"Generate Keys",id:"Apis.Details.Credentials.Wizard.Wizard.generate.keys"}),t.formatMessage({defaultMessage:"Generate Access Token",id:"Apis.Details.Credentials.Wizard.Wizard.generate.access.token"}),t.formatMessage({defaultMessage:"Copy Access Token",id:"Apis.Details.Credentials.Wizard.Wizard.copy.access.token"})],this.stepStatuses={PROCEED:"PROCEED",BLOCKED:"BLOCKED"},this.state={currentStep:0,createdApp:null,createdToken:null,redirect:!1,createdKeyType:"",createdSelectedTab:"",stepStatus:"PROCEED"}}render(){const{currentStep:e,stepStatus:t}=this.state,a=Ua[e];return n.createElement(Ha,null,n.createElement(l.A,{variant:"h4",component:"h2",className:Va.titleSub},n.createElement(c.A,{id:"Apis.Details.Credentials.Credentials.api.credentials.generate",defaultMessage:"Subscription & Key Generation Wizard"})),n.createElement(y.A,{elevation:0,className:Va.paper},n.createElement(pt.A,{py:4,mx:"auto",display:"block",width:"96%"},n.createElement(st.Ay,{item:!0,xs:12,md:12},n.createElement(Vt.A,{activeStep:e},this.steps.map((e=>n.createElement(Ht.A,{key:e},n.createElement(Ut.A,null,e))))))),n.createElement(pt.A,{py:1,mx:"auto",display:"block",className:Va.boxWrapper},t===this.stepStatuses.PROCEED&&n.createElement(n.Fragment,null,n.createElement(a,ja({},this.state,{incrementStep:this.handleNext,setStepStatus:this.setStepStatus,stepStatuses:this.stepStatuses,classes:Va,setCreatedApp:this.setCreatedApp,setCreatedKeyType:this.setCreatedKeyType,setCreatedSelectedTab:this.setCreatedSelectedTab,setCreatedToken:this.setCreatedToken,handleReset:this.handleReset})))),n.createElement(pt.A,{py:1,mb:1,mx:"auto",display:"flex"},t===this.stepStatuses.BLOCKED&&n.createElement(pt.A,{pt:2,px:3,display:"flex"},n.createElement(l.A,{variant:"h5",component:"label"},n.createElement(c.A,{id:"Apis.Details.Credentials.Wizard.Wizard.approval.request.for.this.step.has",defaultMessage:"A request to register this step has been sent."}))))))}}Fa.propTypes={classes:s().shape({appBar:s().string,toolbar:s().string,subscribeTitle:s().string,plainContent:s().string,root:s().string,instructions:s().string,button:s().string,wizardContent:s().string}).isRequired,intl:s().func.isRequired,throttlingPolicyList:s().arrayOf(s().string).isRequired};const _a=(0,P.Ay)(Fa);var Ga=a(72705);function Ka(){return Ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ka.apply(null,arguments)}const Ya=(0,n.lazy)((()=>Promise.all([a.e(2543),a.e(1653),a.e(3370),a.e(6641),a.e(7894),a.e(8874),a.e(964)]).then(a.bind(a,66301)))),Ja=(0,n.lazy)((()=>Promise.all([a.e(4557),a.e(3589),a.e(8874),a.e(2921)]).then(a.bind(a,5013)))),Za=(0,n.lazy)((()=>Promise.all([a.e(9062),a.e(8874),a.e(2082)]).then(a.bind(a,32082)))),Qa=(0,n.lazy)((()=>Promise.all([a.e(4557),a.e(1653),a.e(5074),a.e(4680),a.e(8891),a.e(7984)]).then(a.bind(a,82763)))),Xa=(0,n.lazy)((()=>Promise.all([a.e(2543),a.e(1653),a.e(5074),a.e(8816),a.e(6641),a.e(6328),a.e(6729)]).then(a.bind(a,97815)))),en=(0,n.lazy)((()=>Promise.all([a.e(4557),a.e(5902),a.e(1034),a.e(6158),a.e(8917)]).then(a.bind(a,20922)))),tn=(0,n.lazy)((()=>Promise.all([a.e(4557),a.e(8891)]).then(a.bind(a,9694)))),an=(0,n.lazy)((()=>a.e(1272).then(a.bind(a,41723)))),nn=(0,n.lazy)((()=>Promise.all([a.e(2543),a.e(3370),a.e(8816),a.e(5953),a.e(2587)]).then(a.bind(a,26711)))),rn=(0,n.lazy)((()=>Promise.all([a.e(8965),a.e(8874),a.e(6635)]).then(a.bind(a,731)))),on=(0,i.y)((e=>{const{match:t,api:a,setbreadcrumbDocument:r,apiChatEnabled:o}=e,{apiUuid:s}=t.params,l="/apis/"+s+"/overview";let c;return c=a.type===$t.A.API_TYPES.GRAPHQL?n.createElement(i.qh,{path:"/apis/:apiUuid/api-console",component:Ja}):a.type===$t.A.API_TYPES.WS||a.type===$t.A.API_TYPES.WEBSUB||a.type===$t.A.API_TYPES.SSE||a.type===$t.A.API_TYPES.ASYNC?n.createElement(i.qh,{path:"/apis/:apiUuid/api-console",component:Za}):n.createElement(i.qh,{path:"/apis/:apiUuid/api-console",component:Ya}),n.createElement(n.Suspense,{fallback:n.createElement(zt.A,null)},n.createElement(i.dO,null,n.createElement(i.rd,{exact:!0,from:"/apis/:apiUuid",to:l}),n.createElement(i.qh,{path:"/apis/:apiUuid/overview",render:()=>n.createElement(Qa,e)}),n.createElement(i.qh,{path:"/apis/:apiUuid/documents",render:()=>n.createElement(Xa,Ka({},e,{setbreadcrumbDocument:r}))}),n.createElement(i.qh,{path:"/apis/:apiUuid/definition",component:nn}),n.createElement(i.qh,{path:"/apis/:apiUuid/solaceTopicsInfo",component:Ct}),n.createElement(i.qh,{exact:!0,path:"/apis/:apiUuid/credentials/wizard",component:_a}),n.createElement(i.qh,{path:"/apis/:apiUuid/comments",component:tn}),n.createElement(i.qh,{path:"/apis/:apiUuid/credentials",component:en}),c,o&&n.createElement(i.qh,{path:"/apis/:apiUuid/api-chat",component:rn}),n.createElement(i.qh,{path:"/apis/:apiUuid/sdk",component:an}),n.createElement(i.qh,{component:Wt.MI})))})),sn="index",ln={leftMenu:`${sn}-leftMenu`,leftMenuHorizontal:`${sn}-leftMenuHorizontal`,leftMenuVerticalLeft:`${sn}-leftMenuVerticalLeft`,leftMenuVerticalLeftMinView:`${sn}-leftMenuVerticalLeftMinView`,leftMenuVerticalRight:`${sn}-leftMenuVerticalRight`,leftMenuVerticalRightMinView:`${sn}-leftMenuVerticalRightMinView`,leftLInkMain:`${sn}-leftLInkMain`,leftLInkMainText:`${sn}-leftLInkMainText`,detailsContent:`${sn}-detailsContent`,content:`${sn}-content`,contentExpandView:`${sn}-contentExpandView`,shiftLeft:`${sn}-shiftLeft`,contentLoader:`${sn}-contentLoader`,contentLoaderRightMenu:`${sn}-contentLoaderRightMenu`,expandIcon:`${sn}-expandIcon`,expandIconMinView:`${sn}-expandIconMinView`,accordianSummary:`${sn}-accordianSummary`,accordianSummaryMinView:`${sn}-accordianSummaryMinView`,accordionDetails:`${sn}-accordionDetails`,accordionDetailsMinView:`${sn}-accordionDetailsMinView`,leftMenuVerticalRightDrawerIcon:`${sn}-leftMenuVerticalRightDrawerIcon`},cn=(0,r.Ay)("div")((e=>{let{theme:t}=e;const{custom:{leftMenu:{width:a,position:n}}}=t,i="vertical-left"===n?a:0,r="vertical-right"===n?a:0,o="vertical-left"===n?45:0,s="vertical-right"===n?45:0,l="horizontal"===n?t.spacing(3):0;return{width:"100%",[`& .${ln.leftMenu}`]:{backgroundColor:t.custom.leftMenu.background,backgroundImage:`url(${St.app.context}${t.custom.leftMenu.backgroundImage})`,textAlign:"left",fontFamily:t.typography.fontFamily,position:"absolute",bottom:0,paddingLeft:l},[`& .${ln.leftMenuHorizontal}`]:{top:t.custom.infoBar.height,overflowX:"auto",position:"static",display:"flex",left:0},[`& .${ln.leftMenuVerticalLeft}`]:{width:t.custom.leftMenu.width,[t.breakpoints.down("md")]:{width:50},top:0,left:0,overflowY:"auto"},[`& .${ln.leftMenuVerticalLeftMinView}`]:{width:50,top:0,left:0,overflowY:"auto"},[`& .${ln.leftMenuVerticalRight}`]:{width:t.custom.leftMenu.width,[t.breakpoints.down("md")]:{width:50},top:0,right:0,overflowY:"auto"},[`& .${ln.leftMenuVerticalRightMinView}`]:{width:50,top:0,right:0,overflowY:"auto"},[`& .${ln.leftLInkMain}`]:{borderRight:"solid 1px "+t.custom.leftMenu.background,cursor:"pointer",background:t.custom.leftMenu.rootBackground,color:t.palette.getContrastText(t.custom.leftMenu.rootBackground),alignItems:"center",justifyContent:"center",display:"flex",height:t.custom.infoBar.height,textDecoration:"none"},[`& .${ln.leftLInkMainText}`]:{fontSize:18,color:t.palette.grey[500],textDecoration:"none",paddingLeft:t.spacing(2)},[`& .${ln.detailsContent}`]:{display:"flex",flex:1},[`& .${ln.content}`]:{display:"flex",flex:1,flexGrow:1,flexDirection:"column",marginLeft:i,marginRight:r,[t.breakpoints.down("md")]:{marginLeft:0!==i&&50,marginRight:0!==r&&50},paddingBottom:t.spacing(3),overflowX:"hidden"},[`& .${ln.contentExpandView}`]:{display:"flex",flex:1,flexGrow:1,flexDirection:"column",marginLeft:o,marginRight:s,paddingBottom:t.spacing(3),overflowX:"hidden",minHeight:"calc(100vh - 114px)"},[`& .${ln.shiftLeft}`]:{marginLeft:0},[`& .${ln.contentLoader}`]:{paddingTop:t.spacing(3)},[`& .${ln.contentLoaderRightMenu}`]:{paddingRight:t.custom.leftMenu.width},[`& .${ln.expandIcon}`]:{color:"#ffffff",[t.breakpoints.down("md")]:{display:"none"}},[`& .${ln.expandIconMinView}`]:{display:"none"},[`& .${ln.accordianSummary}`]:{padding:"0 12px 0 5px",[t.breakpoints.down("md")]:{padding:0}},[`& .${ln.accordianSummaryMinView}`]:{padding:0},[`& .${ln.accordionDetails}`]:{paddingTop:0,paddingBottom:0,margin:0,[t.breakpoints.down("md")]:{paddingLeft:0,paddingRight:0}},[`& .${ln.accordionDetailsMinView}`]:{paddingLeft:0,paddingRight:0},[`& .${ln.leftMenuVerticalRightDrawerIcon}`]:{transform:"rotate(180deg)"}}}));class pn extends n.Component{constructor(e){super(e),this.updateSubscriptionData=e=>{let t=null,a=null;const n=new f.A;n.getAPIById(this.api_uuid).then((e=>{this.setState({api:e.body})})).catch((e=>{const{status:t,response:a}=e,{setTenantDomain:n,intl:i}=this.props,r=i.formatMessage({defaultMessage:"Invalid tenant domain",id:"Apis.Details.index.invalid.tenant.domain"});a&&901300===a.body.code&&(n("INVALID"),V.A.error(r)),console.error("Error when getting apis",e),404!==t&&403!==t||this.setState({notFound:!0})}));const i=Ye.A.getUser();if(null===i){const e=new Ga.A;this.setState({open:e.isSideBarOpen})}if(null!=i){this.setState({open:i.isSideBarOpen}),t=n.getSubscriptions(this.api_uuid,null);const r=St.app.subscribeApplicationLimit||5e3;t=n.getSubscriptions(this.api_uuid,null,r),a=n.getAllApplications(null,r),Promise.all([t,a]).then((t=>{const[a,n]=t.map((e=>e.obj)),i=a.list.map((e=>({value:e.applicationId,policy:e.throttlingPolicy,status:e.status,subscriptionId:e.subscriptionId,label:e.applicationInfo.name}))),r=i.map((e=>e.value)),o=n.list.filter((e=>!r.includes(e.applicationId)&&"APPROVED"===e.status)).map((e=>({value:e.applicationId,label:e.name})));this.setState({subscribedApplications:i,applicationsAvailable:o},(()=>{e&&e()}))})).catch((e=>{const{status:t}=e;404===t&&this.setState({notFound:!0})}))}},this.state={active:"overview",overviewHiden:!1,updateSubscriptionData:this.updateSubscriptionData,api:null,applications:null,subscribedApplications:[],applicationsAvailable:[],item:1,xo:null,breadcrumbDocument:"",tryOutExpanded:!0,apiChatEnabled:!1},this.setDetailsAPI=this.setDetailsAPI.bind(this),this.api_uuid=this.props.match.params.apiUuid,this.handleDrawerClose=this.handleDrawerClose.bind(this),this.handleDrawerOpen=this.handleDrawerOpen.bind(this),this.setbreadcrumbDocument=this.setbreadcrumbDocument.bind(this)}componentDidMount(){this.updateSubscriptionData(),(new f.A).getSettings().then((e=>{this.setState({apiChatEnabled:e.body.apiChatEnabled})})).catch((e=>{console.error("Error while receiving settings : ",e)}))}componentDidUpdate(e){const{match:{params:{apiUuid:t}}}=e,{match:{params:{apiUuid:a}}}=this.props;t!==a&&(this.api_uuid=a,this.updateSubscriptionData())}setbreadcrumbDocument(e){this.setState({breadcrumbDocument:e})}setDetailsAPI(e){this.setState({api:e})}handleDrawerClose(){this.setState({open:!1});const e=Ye.A.getUser();null!=e&&(e.isSideBarOpen=!1,Ye.A.setUser(e))}handleDrawerOpen(){this.setState({open:!0});const e=Ye.A.getUser();null!==e&&(e.isSideBarOpen=!0,Ye.A.setUser(e))}isAsyncAPI(e){return e&&(e.type===$t.A.API_TYPES.WS||e.type===$t.A.API_TYPES.WEBSUB||e.type===$t.A.API_TYPES.SSE||e.type===$t.A.API_TYPES.ASYNC)}render(){const{theme:e,intl:t}=this.props,a=Ye.A.getUser(),{api:i,notFound:r,open:o,breadcrumbDocument:s,tryOutExpanded:p,apiChatEnabled:d}=this.state,{custom:{leftMenu:{rootIconSize:u,rootIconTextVisible:h,rootIconVisible:f,position:b},apiDetailPages:{showCredentials:y,showComments:A,showTryout:E,showDocuments:w,showSdks:x,showAsyncSpecification:C,showSolaceTopics:T},title:{prefix:S,sufix:M}}}=e,$="body{ font-family: "+e.typography.fontFamily+"}",k="/apis/"+this.api_uuid+"/";if(!i&&r)return n.createElement(Wt.MI,null);const I=new URL(window.location).searchParams.get("widget"),P=this.isAsyncAPI(i),D=i&&i.tiers&&1===i.tiers.length&&i.tiers[0].tierName.includes($t.A.DEFAULT_SUBSCRIPTIONLESS_PLAN);return i?n.createElement(cn,null,n.createElement(re._.Provider,{value:this.state},n.createElement(Tt.m,null,n.createElement("title",null,`${S} ${i.name}${M}`)),n.createElement("style",null,$),!I&&n.createElement("nav",{role:"navigation","aria-label":t.formatMessage({id:"Apis.Details.index.secondary.navigation",defaultMessage:"Secondary Navigation"}),className:m()(ln.leftMenu,{[ln.leftMenuHorizontal]:"horizontal"===b},{[ln.leftMenuVerticalLeft]:"vertical-left"===b&&o,[ln.leftMenuVerticalLeftMinView]:"vertical-left"===b&&!o},{[ln.leftMenuVerticalRight]:"vertical-right"===b&&o,[ln.leftMenuVerticalRightMinView]:"vertical-right"===b&&!o},"left-menu")},f&&n.createElement(v.N_,{to:"/apis",className:ln.leftLInkMain,"aria-label":"ALL APIs"},n.createElement(g.A,{width:u,height:u,icon:"api"}),h&&n.createElement(l.A,{className:ln.leftLInkMainText},n.createElement(c.A,{id:"Apis.Details.index.all.apis",defaultMessage:"ALL APIs"}))),n.createElement(Ot.A,{text:n.createElement(c.A,{id:"Apis.Details.index.overview",defaultMessage:"Overview"}),route:"overview",iconText:"overview",to:k+"overview",open:o,id:"left-menu-overview"}),a&&y&&!D&&("wso2"===i.gatewayVendor||!i.gatewayVendor)&&n.createElement(n.Fragment,null,n.createElement(Ot.A,{text:n.createElement(c.A,{id:"Apis.Details.index.subscriptions",defaultMessage:"Subscriptions"}),route:"credentials",iconText:"credentials",to:k+"credentials",open:o,id:"left-menu-credentials"})),E&&("wso2/apk"!==i.gatewayType||"APIPRODUCT"===i.type&&!i.gatewayVendor)&&n.createElement(n.Fragment,null,n.createElement(kt.A,{id:"left-menu-try-out",expanded:p,elevation:0,style:{backgroundColor:"transparent",margin:0},onChange:(e,t)=>this.setState({tryOutExpanded:t})},n.createElement(It.A,{expandIcon:n.createElement(Dt.A,{className:m()(ln.expandIcon,{[ln.expandIconMinView]:!o})}),style:{maxHeight:43,minHeight:43},className:m()(ln.accordianSummary,{[ln.accordianSummaryMinView]:!o})},n.createElement(Ot.A,{text:n.createElement(c.A,{id:"Apis.Details.index.try.out.",defaultMessage:"Try Out"}),iconText:"test",open:o,id:"left-menu-try-out"})),n.createElement(Pt.A,{className:m()(ln.accordionDetails,{[ln.accordionDetailsMinView]:!o})},n.createElement("div",null,n.createElement(Ot.A,{text:n.createElement(c.A,{id:"Apis.Details.index.try.out.api.console",defaultMessage:"API Console"}),route:"api-console",iconText:"api-console",to:k+"api-console",open:o,id:"left-menu-test"}),i.type!==$t.A.API_TYPES.GRAPHQL&&!P&&d&&("wso2"===i.gatewayVendor||!i.gatewayVendor)&&n.createElement(Ot.A,{text:n.createElement(c.A,{id:"Apis.Details.index.try.out.api.chat",defaultMessage:"API Chat"}),route:"api-chat",Icon:n.createElement(Rt.A,{style:{fontSize:"large",padding:8}}),to:k+"api-chat",open:o,id:"left-menu-api-chat"}))))),T&&"solace"===i.gatewayVendor&&n.createElement(Ot.A,{text:n.createElement(c.A,{id:"Apis.Details.index.solaceTopicsInfo",defaultMessage:"Solace Info"}),route:"solaceTopicsInfo",iconText:"test",to:k+"solaceTopicsInfo",open:o,id:"left-menu-solace-info"}),P&&C&&n.createElement(Ot.A,{text:n.createElement(c.A,{id:"Apis.Details.index.definition",defaultMessage:"Definition"}),route:"definition",iconText:"Definition",to:k+"definition",open:o,id:"left-menu-definition"}),A&&n.createElement(Ot.A,{text:n.createElement(c.A,{id:"Apis.Details.index.comments",defaultMessage:"Comments"}),route:"comments",iconText:"comments",to:k+"comments",open:o,id:"left-menu-comments"}),w&&n.createElement(Ot.A,{text:n.createElement(c.A,{id:"Apis.Details.index.documentation",defaultMessage:"Documents"}),route:"documents",iconText:"docs",to:k+"documents",open:o,id:"left-menu-documents"}),!P&&x&&n.createElement(Ot.A,{text:n.createElement(c.A,{id:"Apis.Details.index.sdk",defaultMessage:"SDKs"}),route:"sdk",iconText:"sdk",to:k+"sdk",open:o,id:"left-menu-sdk"}),o?n.createElement("div",{onClick:this.handleDrawerClose,onKeyDown:this.handleDrawerClose,style:{width:100,paddingLeft:"15px",position:"absolute",bottom:0,cursor:"pointer"}},n.createElement(it.A,{fontSize:"medium",style:{color:"white"},className:m()({[ln.leftMenuVerticalRightDrawerIcon]:"vertical-right"===b})})):n.createElement("div",{onClick:this.handleDrawerOpen,onKeyDown:this.handleDrawerOpen,style:{paddingLeft:"15px",position:"absolute",bottom:0,cursor:"pointer"}},n.createElement(rt.A,{fontSize:"medium",style:{color:"white"},className:m()({[ln.leftMenuVerticalRightDrawerIcon]:"vertical-right"===b})}))),n.createElement("div",{className:m()({[ln.content]:o},{[ln.contentExpandView]:!o})},n.createElement(qt,{breadcrumbDocument:s}),n.createElement("div",{className:m()({[ln.contentLoader]:"horizontal"===b},{[ln.contentLoaderRightMenu]:"vertical-right"===b})},n.createElement(on,{api:i,updateSubscriptionData:this.updateSubscriptionData,setbreadcrumbDocument:this.setbreadcrumbDocument,apiChatEnabled:d}))))):n.createElement("div",{className:"apim-dual-ring"})}}pn.propTypes={classes:s().shape({}).isRequired,theme:s().shape({}).isRequired,match:s().shape({}).isRequired,intl:s().shape({formatMessage:s().func}).isRequired};const dn=(0,q.A)((0,P.Ay)((function(e){const t=(0,b.A)();return n.createElement(pn,Ka({},e,{theme:t}))})));var un=a(94877),mn=a(87992),gn=a(92287),hn=a(39781);function fn(e){const{toggleChatbot:t,handleDisableChatbot:a,chatbotDisabled:i}=e,[r,o]=(0,n.useState)(!1),s=(0,ot.A)();return n.createElement(n.Fragment,null,n.createElement("div",{style:{position:"fixed",bottom:20,right:30},onMouseEnter:()=>{o(!0)},onMouseLeave:()=>{o(!1)}},i?null:n.createElement(be.A,{title:s.formatMessage({id:"Apis.Chat.ChatIcon.tooltip.label",defaultMessage:"Open Chat"}),placement:"left"},n.createElement(mn.A,{color:"primary","aria-label":"chat",onClick:t,style:{boxShadow:"none"}},n.createElement(gn.A,null))),r&&n.createElement(be.A,{title:s.formatMessage({id:"Apis.Chat.ChatIcon.disable.chat.label",defaultMessage:"Disable chat"}),placement:"left"},n.createElement(mn.A,{color:"secondary",variant:"round","aria-label":"close",onClick:()=>{o(!1),a()},style:{position:"absolute",top:-18,right:-18,width:34,height:16,backgroundColor:"transparent",boxShadow:"none"}},n.createElement(hn.default,{fontSize:"medium",style:{fill:"#000",stroke:"#000"}})))))}fn.propTypes={toggleChatbot:s().func.isRequired,handleDisableChatbot:s().func.isRequired,chatbotDisabled:s().bool.isRequired};const bn=fn;var yn=a(36632),An=a(66036),En=(a(9964),a(56434)),vn=a(33066),wn=a(40443),xn=a(25239);function Cn(e){const{onSend:t,loading:a,user:i}=e,[r,o]=(0,n.useState)(""),[s,c]=(0,n.useState)(!1),d=(0,ot.A)(),{settings:{marketplaceAssistantEnabled:u,aiAuthTokenProvided:m}}=(0,h.Mp)(),g=()=>{r&&(t({role:i,content:r}),o(""))};return n.createElement("div",null,n.createElement(lt.A,{placeholder:d.formatMessage({id:"Apis.Chat.ChatInput.placeholder",defaultMessage:"Type a message..."}),value:r,onChange:e=>{let{value:t}=e.target;t.length>500&&(t=t.slice(0,500)),o(t)},onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),a||g()),13===e.keyCode&&e.shiftKey&&(e.preventDefault(),o(`${r}\n`))},fullWidth:!0,multiline:!0,size:"small",maxRows:12,disabled:u&&!m||!u,InputProps:{style:{borderRadius:10,padding:18,paddingRight:4},endAdornment:n.createElement(xn.A,{position:"end"},n.createElement(p.A,{"aria-label":"marketplace-chat-message",onClick:g,disabled:a},n.createElement(wn.A,{color:"primary"})))}}),n.createElement(pt.A,{display:"flex",justifyContent:"flex-end",mt:1,mr:1},n.createElement(l.A,{variant:"caption"},r.length,"/",500)),n.createElement(vn.A,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:s,autoHideDuration:500,onClose:()=>{c(!1)},message:"Please enter a message",sx:{position:"absolute",bottom:0,right:0,transform:"translate(50%, 50%)",marginBottom:"300px"}}))}Cn.propTypes={onSend:s().func.isRequired,loading:s().bool.isRequired,user:s().string.isRequired};const Tn=Cn;var Sn=a(71432);function Mn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function $n(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Mn(Object(a),!0).forEach((function(t){kn(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Mn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function kn(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function In(e){const{message:t}=e,a=(0,n.useRef)(null),i=(0,b.A)(),{colorMap:r,offset:o}=i.custom.thumbnail,s={width:"26px",height:"26px",backgroundColor:"assistant"===t.role?"#10597f":"#6d6d6d",alignItems:"center",justifyContent:"center",display:"flex",margin:"10px 10px 10px 0px",borderRadius:(t.role,"50% 50% 50% 0")},c={textAlign:"left",justifyContent:"flex-start",background:"assistant"===t.role?i.palette.grey[100]:"#fff",color:"black",borderRadius:"8px",overflow:"auto",overflowX:"auto",wordWrap:"break-word",whiteSpace:"pre-wrap",marginLeft:"20px",maxWidth:"84%"};return n.createElement(pt.A,{display:"flex",flexDirection:"column",alignItems:"flex-start"},"assistant"===t.role&&n.createElement(pt.A,{display:"flex-start",alignItems:"center",flexDirection:"column",width:"90%"},n.createElement(pt.A,{display:"flex",alignItems:"center",width:"100%"},n.createElement("div",{style:s},n.createElement(gn.A,{style:{fill:"#fff",stroke:"#fff",fontSize:"small"}})),n.createElement(l.A,{variant:"body1",style:{fontWeight:"500",fontSize:"12pt"}},"Assistant"))),"assistant"!==t.role&&n.createElement(pt.A,{display:"flex",alignItems:"center"},n.createElement("div",{style:s},n.createElement(Sn.A,{style:{fill:"#fff",stroke:"#fff",fontSize:"large"}})),n.createElement(l.A,{variant:"body1",fontWeight:"500",fontSize:"12pt"},t.role.charAt(0).toUpperCase()+t.role.slice(1))),n.createElement(pt.A,{style:$n($n({},c),{},{maxWidth:"84%"}),ref:a,px:2,py:"assistant"===t.role?2:0},n.createElement(l.A,null,t.content)),n.createElement(pt.A,{display:"flex-start",alignItems:"center",flexDirection:"column",width:"90%"},t.apis&&n.createElement(pt.A,{display:"flex",flexDirection:"row",flexWrap:"wrap",marginLeft:"20px",marginRight:"16px",width:"100%"},t.apis.map((e=>{const[t,a]=((e,t,a)=>{let n=t[e.toLowerCase()];if(!n){const a=parseInt(e,10);if(!a)return[null,null];n=t[String.fromCharCode(111+a)]}const{r:i,g:r,b:o}=un.A.hexToRGBHash(n);return[n,un.A.rgbToHex(i-Math.ceil(i*a),r-Math.ceil(a*r),o-Math.ceil(a*o))]})(e.name.substring(0,1),r,o),i=t&&`linear-gradient(to right, ${t}, ${a})`;return n.createElement("a",{key:e.id,href:e.apiPath,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",color:"inherit",width:"33%"}},n.createElement(_.A,{style:{margin:"10px 10px 0 0",width:"97%",height:"70px",background:i}},n.createElement(G.A,{style:{wordWrap:"break-word",alignItems:"center",cursor:"pointer"}},n.createElement(l.A,{variant:"subtitle1",gutterBottom:!0,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",margin:0,color:"#fff",fontWeight:"bold"}},e.name),n.createElement(l.A,{variant:"subtitle1",gutterBottom:!0,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"10px",color:"#fff"}},"Version:",e.version))))})))))}In.propTypes={message:o.PropTypes.shape({role:o.PropTypes.string.isRequired,content:o.PropTypes.string.isRequired,apis:o.PropTypes.arrayOf(o.PropTypes.string)}).isRequired};const Pn=In,Dn=()=>n.createElement("div",{className:"loader"});function Rn(e){const{messages:t,loading:a,onSend:i,user:r}=e,o=(0,ot.A)(),{settings:{aiAuthTokenProvided:s}}=(0,h.Mp)(),p=(0,n.useRef)(null),d=o.formatMessage({id:"Apis.Chat.Chat.Messages.subject.line",defaultMessage:"API Marketplace Assistant is an early feature and can make mistakes. Verify its outputs."});(0,n.useEffect)((()=>{var e;null===(e=p.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[t]);const u=n.createElement(c.A,{id:"Apis.Details.ChatMessages.warning.authTokenMissing",defaultMessage:"You must provide a token to start using the API Marketplace Assistant. To obtain one, follow the steps provided under {marketplaceAssistantDocLink} ",values:{marketplaceAssistantDocLink:n.createElement("a",{id:"marketplace-assistant-doc-link",href:"https://apim.docs.wso2.com/en/4.3.0/consume/discover-apis/marketplace-assistant/",target:"_blank",rel:"noopener noreferrer"},"Search APIs with Marketplace Assistant",n.createElement(En.A,{style:{marginLeft:"2px"},fontSize:"small"}))}});return n.createElement(pt.A,{maxHeight:"100%",display:"flex",flexDirection:"column",marginLeft:"5%"},n.createElement(pt.A,{display:"flex",justifyContent:"center",overflow:"auto"},n.createElement(pt.A,{maxWidth:"1320px",width:"100%"},s?t&&t.map((e=>n.createElement(pt.A,{my:1},n.createElement(Pn,{message:e})))):n.createElement(pt.A,{display:"flex",justifyContent:"center",alignItems:"center",mr:"5%",mb:1},n.createElement(yn.A,{severity:"warning"},u)),a&&n.createElement(pt.A,{display:"flex",flexDirection:"column",alignItems:"flex-start"},n.createElement(pt.A,{display:"flex",alignItems:"center"},n.createElement("div",{style:{width:"26px",height:"26px",backgroundColor:"#10597f",alignItems:"center",justifyContent:"center",display:"flex",margin:"10px 10px 10px 0px",borderRadius:"50% 50% 50% 0"}},n.createElement(gn.A,{style:{fill:"#fff",stroke:"#fff",fontSize:"small"}})),n.createElement(l.A,{variant:"body1",style:{fontWeight:"500",fontSize:"12pt"}},"Assistant")),n.createElement(pt.A,{textAlign:"left",bgcolor:"#fff",borderRadius:"10px",justifyContent:"flex-start",px:3,marginLeft:"12px",marginBottom:"10px"},n.createElement(Dn,null))),n.createElement("div",{ref:p}))),n.createElement(pt.A,{display:"flex",justifyContent:"center"},n.createElement(pt.A,{mt:1.5,mb:.5,width:"100%",maxWidth:"1380px",marginRight:"5%"},n.createElement(Tn,{onSend:i,loading:a,user:r}))),n.createElement(pt.A,{mb:1},n.createElement(l.A,{color:"grey",variant:"body2",fontSize:"8pt",textAlign:"center",lineHeight:"1.4",marginRight:"5%"},d)))}Rn.propTypes={messages:o.PropTypes.instanceOf(Array).isRequired,loading:o.PropTypes.bool.isRequired,onSend:o.PropTypes.func.isRequired,user:o.PropTypes.string.isRequired};const On=Rn;var Wn=a(99520),Ln=a(64992),Nn=a(80684),Bn=a(72277),jn=a(24279);const qn="marketplace-assistant-chatbot-header",zn={mainHeader:`${qn}-mainHeader`,chatbotNameBox:`${qn}-chatbotNameBox`,chatbotName:`${qn}-chatbotName`},Vn=(0,r.Ay)("div")((e=>{let{theme:t}=e;return{[`& .${zn.chatbotNameBox}`]:{padding:"2px 18px 1px 10px",margin:"12px 0 12px auto",borderBottom:"2px solid #10597f",borderLeft:"2px solid #10597f",borderRight:"2px solid #10597f",borderRadius:"38px"},[`& .${zn.chatbotName}`]:{marginBottom:-5,fontSize:"12pt",fontWeight:"500",color:"#10597f"},[`& .${zn.mainHeader}`]:{borderColor:(0,jn.X4)(t.palette.common.black,.1)}}}));function Hn(e){const{toggleChatbot:t,toggleFullScreen:a,isClicked:i,handleReset:r}=e,o=(0,ot.A)();return n.createElement(Vn,null,n.createElement(pt.A,{display:"flex",flexDirection:"row",justifyContent:"space-between",borderBottom:1,className:zn.mainHeader},n.createElement(pt.A,null,n.createElement(p.A,{onClick:a,style:{alignSelf:"flex-end",padding:"12px",color:"#10597f",margin:"6px 2px"}},i?n.createElement(Ln.A,{fontSize:"large"}):n.createElement(Wn.A,{fontSize:"large"})),n.createElement(be.A,{title:o.formatMessage({id:"Apis.Chat.Header.reset.chat.btn.tooltip",defaultMessage:"Reset Chat"}),placement:"right"},n.createElement(p.A,{onClick:r,style:{alignSelf:"flex-end",padding:"12px",color:"#10597f",margin:"6px 0"}},n.createElement(Bn.A,{fontSize:"large"})))),n.createElement(pt.A,{display:"flex",flexDirection:"column",className:zn.chatbotNameBox},n.createElement(l.A,{variant:"body1",className:zn.chatbotName},n.createElement(c.A,{id:"Apis.Chat.Header.MarketplaceAssistantBanner.title",defaultMessage:"API Marketplace Assistant"})),n.createElement(l.A,{variant:"caption",sx:{textAlign:"right",marginRight:-1}},n.createElement(c.A,{id:"Apis.Chat.Header.MarketplaceAssistantBanner.experimental",defaultMessage:"Experimental"}))),n.createElement(pt.A,null,n.createElement(p.A,{onClick:t,style:{alignSelf:"flex-end",padding:"12px",color:"#10597f",margin:"6px 2px"}},n.createElement(Nn.A,{fontSize:"large"})))))}Hn.propTypes={toggleChatbot:s().func.isRequired,toggleFullScreen:s().func.isRequired,isClicked:s().bool.isRequired,handleReset:s().func.isRequired};const Un=Hn,Fn={hi:"Hello there!, How can I assist you today?",hiii:"Hello there!, How can I assist you today?",hello:"Hi! How can I assist you today?",hey:"Hey! How can I help you?",greetings:"Greetings! What can I assist you with?",thanks:"You're welcome!",bye:"Goodbye! Have a great day!",goodbye:"Goodbye! Have a great day!","thank you":"You're welcome!","thank you for your help":"You're welcome!","good morning":"Good morning! How can I assist you today?","good afternoon":"Good afternoon! What can I do for you?","good evening":"Good evening! How can I help?","hey there":"Hey! What can I assist you with?","hi there":"Hello! How may I assist you?","hello there":"Hello! How can I assist you today?","how are you":"I'm doing well, thank you! How can I help you?","can you help me":"You can ask me anything related to APIs!","what can I ask you":"You can ask me anything related to APIs!","what can you do":"I can help you with finding APIs and providing information related to APIs.","what do you do":"I can help you with finding APIs and providing information related to APIs.","what do you know":"I know a lot about APIs! What are you looking for?","what are you":"I am the Marketplace Assistant. I can help you with finding APIs and providing information related to APIs.","who are you":"I am the Marketplace Assistant. I can help you with finding APIs and providing information related to APIs.","what is your name":"I am the Marketplace Assistant. I can help you with finding APIs and providing information related to APIs."},_n=(e,t)=>{const a=e.toLowerCase(),n=t.toLowerCase();if(a.length<2||n.length<2)return 0;const i=new Map;for(let e=0;e<a.length-1;e++){const t=a.substr(e,2);i.set(t,i.has(t)?i.get(t)+1:1)}let r=0;for(let e=0;e<n.length-1;e++){const t=n.substr(e,2),a=i.has(t)?i.get(t):0;a>0&&(i.set(t,a-1),r++)}return 2*r/(a.length+n.length-2)};function Gn(e){const{toggleChatbot:t,toggleClearChatbot:a,messages:i,setMessages:r,introMessage:o,user:s,loading:l,responseRef:c,apiCall:p}=e,[d,u]=(0,n.useState)(!1),[m,g]=(0,n.useState)(!1),[b,y]=(0,n.useState)(null),[A,E]=(0,n.useState)(null),{settings:{marketplaceAssistantEnabled:v,aiAuthTokenProvided:w}}=(0,h.Mp)(),[,x]=(0,n.useState)({width:window.innerWidth,height:window.innerHeight}),C=()=>{c.current=[o],r([o])};return(0,n.useEffect)((()=>{c.current=i,v&&w&&(new f.A).getMarketplaceAssistantApiCount().then((e=>{const t=e.body.count,a=e.body.limit;y(t),E(a),t>=a-50&&g(!0)})).catch((e=>{console.error(e)}))}),[]),(0,n.useEffect)((()=>{const e=()=>{x({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),n.createElement(An.ResizableBox,{width:d?window.innerWidth:500,height:window.innerHeight-64,minConstraints:[500,window.innerHeight],maxConstraints:[window.innerWidth,window.innerHeight-64],resizeHandles:["w"],style:{position:"fixed",bottom:1,right:0,display:"flex",justifyContent:"flex-start",flexDirection:"row-reverse",zIndex:1200},handle:n.createElement("span",{style:{width:"4px",cursor:"ew-resize",minWidth:"4px"}})},n.createElement(ht.A,{maxWidth:!1,style:{padding:0,backgroundColor:"#fff",border:"0px solid #808e96",boxShadow:"0 4px 8px rgba(0,0,0,0.3)",borderRadius:"4px",margin:"4px 4px 4px 0"}},n.createElement(pt.A,{display:"flex",flexDirection:"column",style:{height:"100%"}},n.createElement(Un,{toggleChatbot:t,toggleFullScreen:e=>{e.preventDefault(),u(!d)},handleClear:()=>{r([o]),a()},handleReset:C,isClicked:d}),v&&w&&m&&(b>=A?n.createElement(yn.A,{severity:"error",style:{borderRadius:"0px",zIndex:2999,padding:"0 10px 0 10px"}},`You are reached your maximum limit (${A} apis) for API usage.`):n.createElement(yn.A,{severity:"warning",style:{borderRadius:"0px",zIndex:2999,padding:"0 10px 0 10px"}},`You are approaching your maximum limit for API usage. You can utilize up to ${A} APIs.\n                                    Currently, you have utilized ${b} APIs.`)),n.createElement(pt.A,{flexGrow:1,display:"flex",overflow:"auto",flexDirection:"column",justifyContent:"flex-end"},n.createElement(On,{messages:i,loading:l,onSend:async e=>{c.current=[...c.current,{role:s,content:e.content.trim()}],r(c.current);const t=(e=>{let t=null,a=-1;const n=e.toLowerCase();if(n.length<2)return null;for(const[e]of Object.entries(Fn)){const i=e.toLowerCase(),r=_n(n,i);r>a&&(a=r,t=e)}return a<.8?null:Fn[t]})(e.content.trim().toLowerCase());t?(c.current=[...c.current,{role:"assistant",content:t.trim()}],r(c.current)):p(e.content)},onReset:C,user:s})))))}Gn.propTypes={toggleChatbot:s().func.isRequired,toggleClearChatbot:s().func.isRequired,messages:s().instanceOf(Array).isRequired,setMessages:s().func.isRequired,introMessage:s().shape({role:s().string.isRequired,content:s().string.isRequired}).isRequired,user:s().string.isRequired,loading:s().bool.isRequired,responseRef:s().shape({current:s().arrayOf(s().shape({role:s().string.isRequired,content:s().string.isRequired})).isRequired}).isRequired,apiCall:s().func.isRequired};const Kn=Gn,Yn=["apis"],Jn=function(){const{settings:{marketplaceAssistantEnabled:e,aiAuthTokenProvided:t}}=(0,h.Mp)(),[a,i]=(0,n.useState)(!0),[r,o]=(0,n.useState)(!1),[s,l]=(0,n.useState)(null),[c,p]=(0,n.useState)(!e),[d,u]=(0,n.useState)("Anonymous User"),m=(0,n.useRef)([]),g={role:"assistant",content:"Hello! I'm here to assist you in discovering and obtaining information about APIs. How can I help you?"},b=window.location.pathname,{search:y,origin:A}=window.location,E=()=>{i(!a)};return(0,n.useEffect)((()=>{if(s){const e=JSON.stringify({messages:s,timestamp:Date.now()});localStorage.setItem("messages",e)}}),[s]),(0,n.useEffect)((()=>{try{const e=un.A.getUser();e&&u(e);const t=localStorage.getItem("messages");if(t){const{messages:e,timestamp:a}=JSON.parse(t);e.length>1?"Anonymous User"!==e[e.length-2].role?Date.now()-a>36e5?(l([g]),localStorage.setItem("messages",JSON.stringify({messages:[g],timestamp:Date.now()}))):l(e):Date.now()-a>9e5?(l([g]),localStorage.setItem("messages",JSON.stringify({messages:[g],timestamp:Date.now()}))):l(e):l(e)}else l([g]),localStorage.setItem("messages",JSON.stringify({messages:[g],timestamp:Date.now()}))}catch(e){console.error("Error loading messages from localStorage:",e)}}),[]),n.createElement(pt.A,null,!c&&(a?n.createElement(pt.A,{position:"absolute",bottom:24,right:24},n.createElement(bn,{toggleChatbot:E,handleDisableChatbot:()=>{p(!0),l([g])},chatbotDisabled:c})):n.createElement(Kn,{toggleChatbot:E,messages:s,setMessages:l,introMessage:g,user:d,loading:r,responseRef:m,apiCall:a=>{if(o(!0),e&&t){const e=new f.A,t=s.slice(-10).map((e=>{let{apis:t}=e,a=function(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||{}.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}(e,Yn);if(!t)return{role:"assistant"===a.role?"assistant":"user",content:a.content};const n=t.map((e=>({apiName:e.name,version:e.version})));return{role:"assistant"===a.role?"assistant":"user",content:JSON.stringify({response:a.content,apis:n})}}));e.marketplaceAssistantExecute(a,t).then((e=>{const{apis:t}=e.body,a=t.map((e=>({apiPath:`${A}${b}/${e.apiId}/overview${y}`,name:e.apiName,version:e.version})));return m.current=[...m.current,{role:"assistant",content:e.body.response,apis:a}],l(m.current),e.body})).catch((e=>{let t;try{switch(e.response.status){case 401:t="Apologies for the inconvenience. It appears that your token is invalid or expired. Please provide a valid token or upgrade your subscription plan.";break;case 429:t="Apologies for the inconvenience. It appears that the token limit has been exceeded.";break;default:t="Apologies for the inconvenience. It seems that something went wrong with the Marketplace Assistant. Please try again later."}}catch(e){t="Apologies for the inconvenience. It seems that something went wrong with the Marketplace Assistant. Please try again later."}const a={role:"assistant",content:t};throw m.current=[...m.current,a],l(m.current),e})).finally((()=>{o(!1)}))}}})))},Zn=function(){return n.createElement(i.dO,null,n.createElement(i.qh,{exact:!0,path:"/api-groups",render:e=>n.createElement(nt.default,e)}),n.createElement(i.qh,{exact:!0,path:"/apis",render:e=>n.createElement(n.Fragment,null,n.createElement(at,e),n.createElement(Jn,null))}),n.createElement(i.qh,{path:"/apis/search",render:e=>n.createElement(at,e)}),n.createElement(i.qh,{path:"/apis/:apiUuid/",render:e=>n.createElement(dn,e)}),n.createElement(i.qh,{component:Wt.MI}))}},13778:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var n=a(96540),i=a(11848),r=a(44675),o=a(33551),s=a(58065),l=a(51989),c=a(91854),p=a(12058);const d="TagCloudListing",u={appBar:`${d}-appBar`,mainIconWrapper:`${d}-mainIconWrapper`,mainTitle:`${d}-mainTitle`,mainTitleWrapper:`${d}-mainTitleWrapper`,content:`${d}-content`,listContentWrapper:`${d}-listContentWrapper`,iconDefault:`${d}-iconDefault`},m=(0,i.Ay)("main")((e=>{let{theme:t}=e;return{[`& .${u.appBar}`]:{height:70,background:t.custom.infoBar.background,color:t.palette.getContrastText(t.custom.infoBar.background),borderBottom:"solid 1px "+t.palette.grey.A200,display:"flex",alignItems:"center",justifyContent:"center"},[`& .${u.mainIconWrapper}`]:{paddingTop:13,paddingLeft:20,paddingRight:20},[`& .${u.mainTitle}`]:{paddingTop:10},[`& .${u.mainTitleWrapper}`]:{flexGrow:1},[`&.${u.content}`]:{flexGrow:1},[`& .${u.listContentWrapper}`]:{padding:`0 ${t.spacing(3)}`},[`& .${u.iconDefault}`]:{color:t.palette.getContrastText(t.custom.infoBar.background)}}}));function g(){const e=(0,r.A)(),[t,a]=(0,n.useState)(null);(0,n.useEffect)((()=>{(new l.A).getAllTags(-1).then((e=>{a(e.body.list)})).catch((e=>{console.log(e)}))}),[]);const i=e.palette.getContrastText(e.palette.background.paper);return n.createElement(m,{className:u.content},n.createElement("div",{className:u.appBar},n.createElement("div",{className:u.mainIconWrapper},n.createElement(p.A,{strokeColor:i,width:42,height:42,icon:"api"})),n.createElement("div",{className:u.mainTitleWrapper},n.createElement(o.A,{variant:"h4",className:u.mainTitle},n.createElement(s.A,{defaultMessage:"API Groups",id:"Apis.Listing.TagCloudListing.apigroups.main"})))),n.createElement("div",{className:u.listContentWrapper},t&&n.createElement(c.A,{allTags:t,mainPage:!0})))}},91854:(e,t,a)=>{"use strict";a.d(t,{A:()=>k});var n=a(96540),i=a(11848),r=a(44675),o=a(5556),s=a.n(o),l=a(54625),c=a(33551),p=a(49799),d=a(71543),u=a(68881),m=a(57873),g=a(82241),h=a(92728),f=a(58065),b=a(46942),y=a.n(b),A=a(30198);const E="ApiTagThumb",v={thumbContent:`${E}-thumbContent`,thumbLeft:`${E}-thumbLeft`,thumbRight:`${E}-thumbRight`,thumbInfo:`${E}-thumbInfo`,thumbHeader:`${E}-thumbHeader`,contextBox:`${E}-contextBox`,thumbWrapper:`${E}-thumbWrapper`,deleteIcon:`${E}-deleteIcon`,textWrapper:`${E}-textWrapper`,image:`${E}-image`,imageWrapper:`${E}-imageWrapper`,imageOverlap:`${E}-imageOverlap`},w=(0,i.Ay)("div")((e=>{let{theme:t}=e;return{[`& .${v.thumbContent}`]:{width:t.custom.tagWise.thumbnail.width-t.spacing(1),backgroundColor:t.palette.background.paper,padding:t.spacing(1)},[`& .${v.thumbLeft}`]:{alignSelf:"flex-start",flex:1},[`& .${v.thumbRight}`]:{alignSelf:"flex-end"},[`& .${v.thumbInfo}`]:{display:"flex"},[`& .${v.thumbHeader}`]:{width:t.custom.tagWise.thumbnail.width-t.spacing(1),whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",justifyContent:"center",margin:0},[`& .${v.contextBox}`]:{width:parseInt(150-t.spacing(.5)),whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",margin:0,display:"inline-block",lineHeight:"1em"},[`&.${v.thumbWrapper}`]:{position:"relative",paddingTop:20,marginRight:t.spacing(2)},[`& .${v.deleteIcon}`]:{fill:"red"},[`& .${v.textWrapper}`]:{color:t.custom.tagCloud.leftMenu.color,"& .material-icons":{color:t.custom.tagCloud.leftMenu.color}},[`& .${v.image}`]:{width:t.custom.tagWise.thumbnail.width},[`& .${v.imageWrapper}`]:{color:t.palette.text.secondary,backgroundColor:t.palette.background.paper,width:t.custom.tagWise.thumbnail.width+t.spacing(1),display:"flex",alignItems:"center",justifyContent:"center"},[`& .${v.imageOverlap}`]:{position:"absolute",bottom:1,backgroundColor:t.custom.thumbnail.contentBackgroundColor}}}));function x(e){const{tag:t,path:a,style:i,mainPage:o}=e,s=(0,r.A)(),p=a+":"+t.value,{tagWise:{thumbnail:{image:d}}}=s.custom,f=t.value.split(s.custom.tagWise.key)[0];return"fixed-left"!==i&&o?n.createElement(w,{className:v.thumbWrapper},n.createElement(l.N_,{to:p,className:v.imageWrapper},n.createElement("img",{src:A.app.context+d,className:v.image,alt:""})),n.createElement("center",null,n.createElement("div",{className:y()(v.thumbContent)},n.createElement(l.N_,{to:p,className:v.textWrapper},n.createElement(c.A,{className:v.thumbHeader,variant:"h4",gutterBottom:!0,title:f},f))))):n.createElement(l.N_,{to:p,className:v.textWrapper},n.createElement(u.Ay,{button:!0},n.createElement(m.A,null,n.createElement(h.A,null,"label")),n.createElement(g.A,{primary:f})))}x.propTypes={classes:s().shape({thumbWrapper:s().shape({}).isRequired,imageWrapper:s().shape({}).isRequired,thumbContent:s().shape({}).isRequired,imageOverlap:s().shape({}).isRequired,textWrapper:s().shape({}).isRequired,thumbHeader:s().shape({}).isRequired,image:s().shape({}).isRequired}).isRequired,theme:s().shape({custom:s().shape({tagWise:s().shape({}).isRequired}).isRequired}).isRequired,tag:s().shape({value:s().shape({split:s().func}).isRequired}).isRequired,path:s().shape({}).isRequired,style:s().string.isRequired};const C=x,T="TagCloudListingTags",S={mainTitle:`${T}-mainTitle`,mainTitleWrapper:`${T}-mainTitleWrapper`,listContentWrapper:`${T}-listContentWrapper`,textWrapper:`${T}-textWrapper`,linkTextWrapper:`${T}-linkTextWrapper`,tagWiseThumbWrapper:`${T}-tagWiseThumbWrapper`,filterTitle:`${T}-filterTitle`,mainPageList:`${T}-mainPageList`,mainPageAllApis:`${T}-mainPageAllApis`},M=(0,i.Ay)("div")((e=>{let{theme:t}=e;return{[`& .${S.mainTitle}`]:{paddingTop:10},[`& .${S.mainTitleWrapper}`]:{flexGrow:1},[`& .${S.listContentWrapper}`]:{padding:`0 ${t.spacing(3)}`},[`& .${S.textWrapper}`]:{color:t.custom.tagCloud.leftMenu.color,"& .material-icons":{color:t.custom.tagCloud.leftMenu.color}},[`& .${S.linkTextWrapper}`]:{color:t.palette.primary.main},[`& .${S.tagWiseThumbWrapper}`]:{display:"flex"},[`& .${S.filterTitle}`]:{fontWeight:200,paddingLeft:t.spacing(2),background:t.custom.tagCloud.leftMenu.titleBackground,color:t.palette.getContrastText(t.custom.tagCloud.leftMenu.titleBackground),height:t.custom.infoBar.height,alignItems:"center",display:"flex"},[`& .${S.mainPageList}`]:{display:"flex",flexWrap:"wrap"},[`& .${S.mainPageAllApis}`]:{width:"100%"}}}));function $(e){const t=(0,r.A)(),{custom:{tagWise:{key:a,active:i,style:o,showAllApis:s}}}=t,{allTags:b,mainPage:A}=e;let E=null;return 0!==b.count&&(null!==b&&(E=b.filter((e=>!0===i&&e.value.split(a).length>1))),E&&E.length),E&&E.length>0?n.createElement(M,null,!A&&n.createElement(c.A,{variant:"h6",gutterBottom:!0,className:y()(S.filterTitle,"api-listing-tags-title")},n.createElement(f.A,{defaultMessage:"API Groups",id:"Apis.Listing.TagCloudListingTags.title"})),n.createElement(p.A,{component:"nav","aria-label":"main mailbox folders",className:y()({[S.mainPageList]:A})},Object.keys(E).map((e=>n.createElement(C,{key:e,tag:E[e],path:"/apis?offset=0&query=tag",style:o,mainPage:A})))),s&&n.createElement("div",{className:y()({[S.mainPageAllApis]:A},"tag-cloud-listing-wrapper")},n.createElement(d.A,null),n.createElement(l.N_,{to:"apis/",className:S.textWrapper},n.createElement(u.Ay,{button:!0},n.createElement(m.A,null,n.createElement(h.A,null,"label")),n.createElement(g.A,{primary:n.createElement(f.A,{defaultMessage:"All Apis",id:"Apis.Listing.TagCloudListingTags.allApis"})}))))):n.createElement(M,null,!A&&n.createElement(c.A,{variant:"h6",gutterBottom:!0,className:y()(S.filterTitle,"apis-listing-tags-group")},n.createElement(f.A,{defaultMessage:"API Groups",id:"Apis.Listing.TagCloudListingTags.title"})),n.createElement("div",{className:y()(S.mainTitle,"apis-listing-tags-empty")},n.createElement(c.A,{variant:"subtitle1",gutterBottom:!0,align:"center"},n.createElement(f.A,{defaultMessage:"API groups cannot be found",id:"Apis.Listing.TagCloudListingTags.tagsNotFound"})),n.createElement(l.N_,{to:"apis/",className:y()(S.linkTextWrapper,"apis-listing-tags-group-all-apis-link")},n.createElement(c.A,{variant:"subtitle1",gutterBottom:!0,align:"center"},n.createElement(f.A,{defaultMessage:"All Apis",id:"Apis.Listing.TagCloudListingTags.allApis"})))))}$.propTypes={classes:s().shape({}).isRequired,theme:s().shape({}).isRequired,allTags:s().shape({}).isRequired};const k=$},59623:(e,t,a)=>{"use strict";a.d(t,{A:()=>M});var n=a(96540),i=a(11848),r=a(17681),o=a(45359),s=a(99020),l=a(82241),c=a(43267),p=a(33551),d=a(1043),u=a(23165),m=a(5556),g=a.n(m),h=a(6347),f=a(58065),b=a(46942),y=a.n(b);function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},A.apply(null,arguments)}function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){w(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function w(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const x="SubscribeToApi",C={titleBar:`${x}-titleBar`,buttonLeft:`${x}-buttonLeft`,buttonRight:`${x}-buttonRight`,title:`${x}-title`,buttonsWrapper:`${x}-buttonsWrapper`,legend:`${x}-legend`,inputText:`${x}-inputText`,buttonRightLink:`${x}-buttonRightLink`,FormControl:`${x}-FormControl`,fullWidth:`${x}-fullWidth`,FormControlOdd:`${x}-FormControlOdd`,quotaHelp:`${x}-quotaHelp`,subscribeRoot:`${x}-subscribeRoot`,subscribeRootSmall:`${x}-subscribeRootSmall`,smallDisplay:`${x}-smallDisplay`,smallDisplayFix:`${x}-smallDisplayFix`,selectMenuRoot:`${x}-selectMenuRoot`,appDropDown:`${x}-appDropDown`},T=(0,i.Ay)(s.Ay)((e=>{let{theme:t}=e;return{[`& .${C.titleBar}`]:{display:"flex",justifyContent:"space-between",borderBottomWidth:"1px",borderBottomStyle:"solid",borderColor:t.palette.text.secondary,marginBottom:20},[`& .${C.buttonLeft}`]:{alignSelf:"flex-start",display:"flex"},[`& .${C.buttonRight}`]:{alignSelf:"flex-end",display:"flex",marginLeft:20},[`& .${C.title}`]:{display:"inline-block",marginLeft:20},[`& .${C.buttonsWrapper}`]:{marginTop:40},[`& .${C.legend}`]:{marginBottom:0,borderBottomStyle:"none",marginTop:20,fontSize:12},[`& .${C.inputText}`]:{marginTop:20},[`& .${C.buttonRightLink}`]:{textDecoration:"none"},[`& .${C.FormControl}`]:{padding:t.spacing(2),width:"100%"},[`& .${C.fullWidth}`]:{"& .MuiFormControl-root":{width:"100%"}},[`& .${C.FormControlOdd}`]:{backgroundColor:t.palette.background.paper},[`& .${C.quotaHelp}`]:{position:"relative"},[`&.${C.subscribeRoot}`]:{paddingLeft:t.spacing(2)},[`&.${C.subscribeRootSmall}`]:{marginLeft:t.spacing(-4)},[`& .${C.smallDisplay}`]:{width:240,"& .MuiInput-formControl":{marginTop:0}},[`& .${C.smallDisplayFix}`]:{"& .MuiSelect-selectMenu":{padding:0}},[`& .${C.selectMenuRoot}`]:{margin:0,padding:0},[`& .${C.appDropDown}`]:{color:t.palette.getContrastText(t.palette.background.paper),"&:hover":{backgroundColor:"unset"}}}})),S=e=>{const[t,a]=(0,n.useState)(""),[i,m]=(0,n.useState)({tierName:""}),[g,b]=(0,n.useState)([]),{throttlingPolicyList:E,applicationsAvailable:w,subscriptionRequest:x,updateSubscriptionRequest:S,renderSmall:M}=e;(0,n.useEffect)((()=>{E&&E[0]&&m(E[0])}),[E]),(0,n.useEffect)((()=>{w&&w[0]&&(b(w),a(w[0]),v({},x).applicationId=w[0].value)}),[w]);const $=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=v({},x),{target:r}=t;switch(e){case"application":i.applicationId=n.value,a(n);break;case"throttlingPolicy":i.throttlingPolicy=n.tierName,m(n)}S(i)};return n.createElement(T,{container:!0,className:y()(C.subscribeRoot,{[C.subscribeRootSmall]:M})},n.createElement(s.Ay,{item:!0,xs:12,md:M?12:6},t&&n.createElement(o.A,{variant:"standard",className:y()(C.FormControl,{[C.smallDisplay]:M})},n.createElement(c.A,{shrink:!0,for:"application-subscribe",className:C.quotaHelp},n.createElement(f.A,{id:"Shared.AppsAndKeys.SubscribeToApi.application",defaultMessage:"Application"})),n.createElement(u.A,{id:"application-subscribe","aria-describedby":"application-helper-text",options:g,disableClearable:!0,value:0!==g.length&&""===t?g[0]:t,onChange:(e,t)=>$("application",e,t),getOptionLabel:e=>e.label,classes:{root:C.fullWidth},renderInput:e=>n.createElement(d.A,A({variant:"standard"},e))}),n.createElement(h.A,{id:"application-helper-text"},n.createElement(f.A,{id:"Shared.AppsAndKeys.SubscribeToApi.select.an.application.to.subscribe",defaultMessage:"Select an Application to subscribe"}))),E&&n.createElement(o.A,{variant:"standard",className:y()(C.FormControl,C.smallDisplayFix,{[C.smallDisplay]:M,[C.FormControlOdd]:!M})},n.createElement(c.A,{shrink:!0,htmlFor:"policy-label-placeholder",className:C.quotaHelp},n.createElement(f.A,{id:"Shared.AppsAndKeys.SubscribeToApi.business.plan",defaultMessage:"Business Plan"})),n.createElement(u.A,{id:"application-policy","aria-describedby":"policies-helper-text",options:E,disableClearable:!0,value:i,getOptionLabel:e=>e.tierName,getOptionSelected:(e,t)=>e.tierName===t.tierName,onChange:(e,t)=>$("throttlingPolicy",e,t),classes:{root:C.fullWidth},renderInput:e=>n.createElement(d.A,A({variant:"standard"},e)),groupBy:e=>"COMMERCIAL"===e.tierPlan?"Commercial":"Free",renderOption:(e,t)=>n.createElement(r.A,A({},e,{value:t.tierName,key:t.tierName,className:C.appDropDown}),"COMMERCIAL"===t.tierPlan?n.createElement(n.Fragment,null,n.createElement(l.A,{classes:{root:C.selectMenuRoot},primary:t.tierName,secondary:t.monetizationAttributes.pricePerRequest?n.createElement(p.A,null,t.monetizationAttributes.pricePerRequest," ",t.monetizationAttributes.currencyType," per Request"):n.createElement(p.A,null,t.monetizationAttributes.fixedPrice," ",t.monetizationAttributes.currencyType," per ",t.monetizationAttributes.billingCycle)})):n.createElement(l.A,{primary:t.tierName}))}))))};S.propTypes={classes:g().shape({FormControl:g().string,quotaHelp:g().string,selectEmpty:g().string,FormControlOdd:g().string,subscribeRoot:g().string,subscribeRootSmall:g().string,smallDisplayFix:g().string,selectMenuRoot:g().string,smallDisplay:g().string}).isRequired,applicationsAvailable:g().arrayOf(g().shape({value:g().string,label:g().string})).isRequired,throttlingPolicyList:g().arrayOf(g().shape({})).isRequired,subscriptionRequest:g().shape({}).isRequired,updateSubscriptionRequest:g().func.isRequired,renderSmall:g().bool},S.defaultProps={renderSmall:!1};const M=S},28842:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(96540),i=a(68738);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r.apply(null,arguments)}const o=e=>function(t){return n.createElement(i.C,null,(a=>n.createElement(e,r({},a,t))))}},59224:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2IDYiIHN0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOiNmZmZmZmYwMCIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSI2cHgiIGhlaWdodD0iNnB4Ij48ZyBvcGFjaXR5PSIwLjMwMiI+PHBhdGggZD0iTSA2IDYgTCAwIDYgTCAwIDQuMiBMIDQgNC4yIEwgNC4yIDQuMiBMIDQuMiAwIEwgNiAwIEwgNiA2IEwgNiA2IFoiIGZpbGw9IiMwMDAwMDAiLz48L2c+PC9zdmc+"},41234:()=>{}}]);
//# sourceMappingURL=Apis.95678e86a2a3de116f2e.bundle.js.map