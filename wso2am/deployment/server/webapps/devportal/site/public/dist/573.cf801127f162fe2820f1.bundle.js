"use strict";(this.webpackChunk_wso2apim_devportal=this.webpackChunk_wso2apim_devportal||[]).push([[573],{53036:(e,t,a)=>{a.d(t,{_:()=>i});const i=a(96540).createContext({active:"overview",handleMenuSelect:()=>{},api:null,applications:null,subscribedApplications:[],applicationsAvailable:[],updateSubscriptionData:()=>{}})},14492:(e,t,a)=>{a.d(t,{A:()=>d});var i=a(96540),n=a(11848),r=a(33091),o=a(92728),l=a(33551),s=a(58065),c=a(44675);const m="StarRatingSummary",p={starRate:`${m}-starRate`,userRating:`${m}-userRating`},u=(0,n.Ay)("div")((e=>{let{theme:t}=e;return{[`& .${p.starRate}`]:{marginRight:t.spacing(),color:t.custom.infoBar.starColor||t.palette.getContrastText(t.custom.infoBar.background),"&.material-icons":{fontSize:30}},[`& .${p.userRating}`]:{display:"flex",justifyContent:"flex-start",alignItems:"center"}}})),d=function(e){const{avgRating:t,reviewCount:a,returnCount:n}=e,m=(0,c.A)();return i.createElement(u,null,n>0?i.createElement(i.Fragment,null,i.createElement(o.A,{className:p.starRate},"star"),i.createElement("div",{className:p.ratingSummary},i.createElement("div",{"aria-label":"User rating",className:p.userRating},i.createElement(l.A,{variant:"body1"},t),i.createElement(l.A,{"aria-label":"out of five",variant:"body1"},"/5.0")),i.createElement(l.A,{"aria-label":"Number of users who has rated",variant:"body1",gutterBottom:!0,align:"left"},a," ",1===a?i.createElement(s.A,{defaultMessage:"user",id:"Apis.Details.StarRatingSummary.user"}):i.createElement(s.A,{defaultMessage:"users",id:"Apis.Details.StarRatingSummary.users"})))):i.createElement(i.Fragment,null,i.createElement(r.A,{className:p.starRate,style:{color:m.palette.grey.A200}}),i.createElement("div",{className:p.ratingSummary},i.createElement(l.A,{variant:"caption",gutterBottom:!0,align:"left"},i.createElement(s.A,{defaultMessage:"Not Rated",id:"Apis.Details.StarRatingSummary.not.rated"})))))}},53784:(e,t,a)=>{a.d(t,{A:()=>x});var i=a(96540),n=a(11848),r=a(5556),o=a.n(r),l=a(92728),s=a(98544),c=a.n(s),m=a(44675);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)({}).hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},p.apply(null,arguments)}const u="Background-svgImage",d=(0,n.Ay)("svg")({[`&.${u}`]:{cursor:"pointer",objectFit:"cover"}});function g(e){return("0x"+e.substring(7,9))/256}function h(e){return e.substring(0,7)}function b(e){const{colorPair:t,width:a,height:n}=e,r={width:50,height:50},o=[];for(let e=0;e<=4;e++)for(let a=0;a<=4;a++){const n="#"+(t.sub-(37*e-21*a)).toString(16);o.push(i.createElement("rect",p({key:e+"_"+a},r,{fill:h(n),fillOpacity:g(n),x:200-54*e,y:54*a})))}const l="#"+t.prime.toString(16);return i.createElement(d,{width:a,height:n,className:u,"aria-hidden":"true"},i.createElement("rect",p({},{width:250,height:200},{fill:h(l),fillOpacity:g(l)})),o)}b.propTypes={classes:o().shape({svgImage:o().string}).isRequired,width:o().number.isRequired,height:o().number.isRequired,colorPair:o().shape({sub:o().number,prime:o().number}).isRequired};const f=b,E="ImageGeneratorLegacy",v={icon:`${E}-icon`,iconWrapper:`${E}-iconWrapper`},A=(0,n.Ay)("div")({[`& .${v.icon}`]:{},[`&.${v.iconWrapper}`]:{position:"relative",display:"flex",justifyContent:"center","& span":{position:"absolute",right:"auto"}}});class y extends i.PureComponent{render(){const{api:e,width:t,height:a,theme:n,fixedIcon:r}=this.props,{category:o,key:s,color:m,backgroundIndex:p}=r;let u,d,g,h,b=e;"object"==typeof e&&(b=e.name);const E=n.custom.thumbnail.backgrounds;if(s&&o)h=s;else if("DOC"===e.type)h=n.custom.thumbnail.document.icon;else if("DEFINITION"===e.type)h=n.custom.thumbnail.definition.icon;else{u=c().categories[10].icons.length;const e=(b.charCodeAt(0)+b.charCodeAt(b.length-1))%u;h=c().categories[10].icons[e].id}return"DOC"===e.type?d=n.custom.thumbnail.document.backgrounds:"DEFINITION"===e.type?d=n.custom.thumbnail.definition.backgrounds:p&&E.length>p?d=E[p]:(g=(b.charCodeAt(0)+b.charCodeAt(b.length-1))%E.length,d=E[g]),i.createElement(A,{className:v.iconWrapper,style:{width:t}},i.createElement(l.A,{className:v.icon,style:{fontSize:a+"px",color:m}},h),i.createElement(f,{width:t,height:a,colorPair:d}))}}y.defaultProps={height:190,width:250,fixedIcon:{category:null,key:null,color:"",backgroundIndex:null}},y.propTypes={classes:o().shape({}).isRequired,height:o().number,width:o().number,fixedIcon:o().shape({}),api:o().shape({}).isRequired,theme:o().shape({}).isRequired};const x=function(e){const{width:t,height:a,api:n,fixedIcon:r}=e,o=(0,m.A)();return i.createElement(y,{width:t,height:a,api:n,fixedIcon:r,theme:o})}},10573:(e,t,a)=>{a.d(t,{A:()=>Y});var i=a(96540),n=a(44675),r=a(11848),o=a(33551),l=a(14977),s=a(87393),c=a(37636),m=a(69554),p=a(54625),u=a(5556),d=a.n(u),g=a(58065),h=a(98544),b=a.n(h),f=a(69933),E=a(30198),v=a(46942),A=a.n(v),y=a(69067),x=a(12055),w=a(56841),R=a(41845),$=a(71543),I=a(34104),S=a(53784),N=a(51989),T=a(53036),O=a(81385),C=a(57555),L=a(94877);const B=e=>{const{artifact:t,width:a,height:r,charLength:o=2,ThumbIcon:l,bgColor:s}=e,c=(0,n.A)(),m=t.name.substring(0,o),{colorMap:p,offset:u,width:d,textShadow:g}=c.custom.thumbnail;return i.createElement(y.A,{sx:{display:"flex"}},i.createElement(O.A,{variant:"square",sx:()=>{const[e,t]=((e,t,a)=>{let i=t[e.toLowerCase()];if(!i){const a=parseInt(e,10);if(!a)return[null,null];i=t[String.fromCharCode(111+a)]}const{r:n,g:r,b:o}=L.A.hexToRGBHash(i);return[i,L.A.rgbToHex(n-Math.ceil(n*a),r-Math.ceil(a*r),o-Math.ceil(a*o))]})(!1===s?"":m.substring(0,1),p,u),i=Math.ceil(70*a/d),n=e&&`linear-gradient(to right, ${e}, ${t})`;return{color:e&&c.palette.getContrastText(t),background:n,fallbacks:[{background:e},{background:`-webkit-linear-gradient(to right, ${e}, ${t})`}],height:r,width:a,fontSize:`${i}px`,textShadow:g}}},l?i.createElement(l,{sx:()=>({fontSize:Math.ceil(90*a/d)})}):(0,C.Zr)(m)))};function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)({}).hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},P.apply(null,arguments)}function k(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const W="ApiThumbClassicLegacy",D={card:`${W}-card`,apiDetails:`${W}-apiDetails`,suppressLinkStyles:`${W}-suppressLinkStyles`,row:`${W}-row`,thumbBy:`${W}-thumbBy`,media:`${W}-media`,thumbContent:`${W}-thumbContent`,thumbLeft:`${W}-thumbLeft`,thumbLeftAction:`${W}-thumbLeftAction`,thumbRight:`${W}-thumbRight`,thumbInfo:`${W}-thumbInfo`,thumbHeader:`${W}-thumbHeader`,contextBox:`${W}-contextBox`,context:`${W}-context`,thumbWrapper:`${W}-thumbWrapper`,deleteIcon:`${W}-deleteIcon`,textWrapper:`${W}-textWrapper`,imageWrapper:`${W}-imageWrapper`,imageOverlap:`${W}-imageOverlap`,chipWrapper:`${W}-chipWrapper`,chipWrapper2:`${W}-chipWrapper2`,chipWrapper3:`${W}-chipWrapper3`,ratingWrapper:`${W}-ratingWrapper`,textblock:`${W}-textblock`,actionArea:`${W}-actionArea`,ribbon:`${W}-ribbon`,truncate:`${W}-truncate`,businessDetail:`${W}-businessDetail`,popover:`${W}-popover`,paper:`${W}-paper`,typo:`${W}-typo`},M=(0,r.Ay)(l.A)((e=>{let{theme:t}=e;return{[`&.${D.card}`]:{margin:t.spacing(1.5),maxWidth:t.custom.thumbnail.width,transition:"box-shadow 0.3s ease-in-out",position:"relative"},[`& .${D.apiDetails}`]:{background:t.custom.thumbnail.contentBackgroundColor,padding:t.spacing(1),color:t.palette.getContrastText(t.custom.thumbnail.contentBackgroundColor),"& a":{color:t.palette.getContrastText(t.custom.thumbnail.contentBackgroundColor)},position:t.custom.thumbnail.contentPictureOverlap?"absolute":"relative",top:0},[`& .${D.suppressLinkStyles}`]:{textDecoration:"none",color:t.palette.text.disabled},[`& .${D.row}`]:{display:"inline-block"},[`& .${D.thumbBy}`]:{"padding-left":"5px"},[`& .${D.media}`]:{objectFit:"cover"},[`& .${D.thumbContent}`]:{width:t.custom.thumbnail.width-t.spacing(2)},[`& .${D.thumbLeft}`]:{alignSelf:"flex-start",flex:1,width:"25%","padding-left":"5px","padding-right":"65px"},[`& .${D.thumbLeftAction}`]:{alignSelf:"flex-start",flex:1,width:"25%","padding-left":"5px","padding-right":"10px"},[`& .${D.thumbRight}`]:{display:"flex",alignItems:"flex-start",flexDirection:"column"},[`& .${D.thumbInfo}`]:{display:"flex"},[`& .${D.thumbHeader}`]:{width:t.custom.thumbnail.width-t.spacing(1),whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",margin:0,"padding-left":"5px"},[`& .${D.contextBox}`]:{width:`calc((${parseInt(t.custom.thumbnail.width,10)}px - ${t.spacing(1)}) / 2)`,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",margin:0,display:"inline-block",lineHeight:"1em","padding-top":5,"padding-right":5,"padding-bottom":1.5,textAlign:"left"},[`& .${D.context}`]:{marginTop:5},[`& .${D.thumbWrapper}`]:{position:"relative",paddingTop:20,marginRight:t.spacing(2)},[`& .${D.deleteIcon}`]:{fill:"red"},[`& .${D.textWrapper}`]:{color:t.palette.text.secondary,textDecoration:"none"},[`& .${D.imageWrapper}`]:{color:t.custom.thumbnail.iconColor,width:t.custom.thumbnail.width,display:"flex",alignItems:"center",justifyContent:"center"},[`& .${D.imageOverlap}`]:{position:"absolute",bottom:1},[`& .${D.chipWrapper}`]:{marginTop:"15px"},[`& .${D.chipWrapper2}`]:{marginBottom:"10px"},[`& .${D.chipWrapper3}`]:{marginTop:"12px"},[`& .${D.ratingWrapper}`]:{marginTop:"20px"},[`& .${D.textblock}`]:{color:t.palette.text.secondary,position:"absolute",bottom:"35px",right:"10px",background:t.custom.thumbnail.contentBackgroundColor,"padding-left":"10px","padding-right":"10px"},[`& .${D.actionArea}`]:{display:"block !important","&:focus":{border:"1px solid"+t.palette.primary.main}},[`& .${D.ribbon}`]:{fontFamily:t.typography.fontFamily,fontSize:"12px",fontWeight:800,backgroundColor:t.palette.primary.main,color:"white",position:"absolute",padding:"5px",width:"80px",zIndex:3,textAlign:"center",textTransform:"uppercase"},[`& .${D.truncate}`]:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"175px"},[`& .${D.businessDetail}`]:{display:"flex"},[`& .${D.popover}`]:{pointerEvents:"none"},[`& .${D.paper}`]:{padding:t.spacing(1),maxWidth:"300px"},[`& .${D.typo}`]:{display:"flex"}}})),z=window.URL||window.webkitURL;class F extends i.Component{constructor(e){super(e),k(this,"handleBusinessPopoverOpen",(e=>{this.setState({businessAnchorEl:e.currentTarget,buniessOpenPopover:!0})})),k(this,"handleBusinessPopoverClose",(()=>{this.setState({businessAnchorEl:null,buniessOpenPopover:!1})})),k(this,"handleTechnicalPopoverOpen",(e=>{this.setState({technicalAnchorEl:e.currentTarget,technicalOpenPopover:!0})})),k(this,"handleTechnicalPopoverClose",(()=>{this.setState({technicalAnchorEl:null,technicalOpenPopover:!1})}));const{theme:{custom:{thumbnail:{defaultApiImage:t}}}}=e;this.state={category:b().categories[0].name,selectedIcon:null,color:null,backgroundIndex:null,imageObj:null,imageLoaded:!!t,businessAnchorEl:null,buniessOpenPopover:!1,technicalAnchorEl:null,technicalOpenPopover:!1}}componentDidMount(){const{imageLoaded:e}=this.state;if(e)return;const{api:t}=this.props;(new N.A).getAPIThumbnail(t.id).then((e=>{if(e&&e.data)if("application/json"===e.headers["content-type"]){const t=JSON.parse(e.data);this.setState({selectedIcon:t.key,category:t.category,color:t.color,backgroundIndex:t.backgroundIndex})}else if(e&&e.data.size>0){const t=z.createObjectURL(e.data);this.setState({imageObj:t})}})).finally((()=>{this.setState({imageLoaded:!0})}))}componentWillUnmount(){this.state.thumbnail&&z.revokeObjectURL(this.state.imageObj)}getPathPrefix(){return"/apis/"}render(){const{imageObj:e,selectedIcon:t,color:a,backgroundIndex:n,category:r,imageLoaded:l}=this.state,u=this.getPathPrefix(),{isMonetizationEnabled:d}=this.context,h=u+this.props.api.id,{api:b,theme:v,customWidth:N,customHeight:T,showInfo:O}=this.props,{custom:{thumbnail:C,social:{showRating:L},thumbnailTemplates:{variant:P,active:k}}}=v,{name:W,version:z,context:F}=b;let{provider:U}=b;b.businessInformation&&b.businessInformation.businessOwner&&""!==b.businessInformation.businessOwner.trim()&&(U=b.businessInformation.businessOwner),b.lifeCycleStatus||(b.lifeCycleStatus=b.status);const j=N||C.width,H=T||140,q=C.defaultApiImage,{tileDisplayInfo:_}=E.apis;let G;return G=l?e?i.createElement("img",{height:H,width:j,src:e,alt:"API Thumbnail",className:D.media}):"text"===P&&k?i.createElement(B,{width:j,height:H,artifact:b}):i.createElement(S.A,{width:j,height:H,api:b,fixedIcon:{key:t,color:a||C.iconColor,backgroundIndex:n,category:r,api:b}}):i.createElement("div",{className:"image-load-frame"},i.createElement("div",{className:"image-load-animation1"}),i.createElement("div",{className:"image-load-animation2"})),O?i.createElement(M,{className:A()("image-thumbnail",D.card)},i.createElement(I.A,null,b.advertiseInfo&&b.advertiseInfo.advertised&&i.createElement("div",{className:D.ribbon,"data-testid":"third-party-api-card-label"},"third party"),d&&i.createElement("div",{className:A()(D.textblock,"image-thumb-text-block")},b.monetizationLabel),i.createElement(p.N_,{className:A()(D.actionArea,"image-thumb-action-area"),to:h,"area-label":"Go to "+W},i.createElement("div",{style:{position:"relative"}},i.createElement(s.A,{"area-hidden":"true",classes:{root:"image-thumb-card-root"}},!q&&G,q&&i.createElement("img",{src:E.app.context+q,alt:"img"})),_.showMonetizedState&&b.monetizedInfo&&i.createElement("div",{className:D.thumbLeft,style:{position:"absolute",bottom:0}},i.createElement(w.A,{fontSize:"medium",style:{color:"#FFD700",paddingLeft:"2px"}}))),i.createElement(c.A,{classes:{root:A()(D.apiDetails,"image-thumb-card-content")}},i.createElement(o.A,{className:A()(D.thumbHeader,"image-thumb-card-thumb-header"),variant:"h5",component:"h2",gutterBottom:!0,onClick:this.handleRedirectToAPIOverview,title:W},W),i.createElement("div",{className:A()(D.row,"image-thumb-provider-wrapper")},i.createElement(o.A,{variant:"caption",gutterBottom:!0,align:"left",className:A()(D.thumbBy,"image-thumb-provider")},i.createElement(g.A,{defaultMessage:"By",id:"Apis.Listing.ApiThumb.by"}),i.createElement(g.A,{defaultMessage:" : ",id:"Apis.Listing.ApiThumb.by.colon"}),U)),i.createElement("div",{className:A()(D.thumbInfo,"image-thumb-info")},i.createElement("div",{className:A()(D.row,"image-thumb-row")},i.createElement("div",{className:A()(D.thumbLeft,"image-thumb-left-version")},i.createElement(o.A,{variant:"subtitle1",component:"div"},z),i.createElement(o.A,{variant:"caption",component:"div",gutterBottom:!0,align:"left"},i.createElement(g.A,{defaultMessage:"Version",id:"Apis.Listing.ApiThumb.version"})))),i.createElement("div",{className:A()(D.row,"image-thumb-context")},i.createElement("div",{className:D.thumbRight},i.createElement(o.A,{variant:"subtitle1",component:"div",align:"right",className:D.contextBox},F),i.createElement(o.A,{variant:"caption",gutterBottom:!0,align:"right",className:D.context,Component:"div"},i.createElement(g.A,{defaultMessage:"Context",id:"Apis.Listing.ApiThumb.context"}))))),(_.showBusinessDetails||_.showTechnicalDetails)&&i.createElement(i.Fragment,null,i.createElement(y.A,{mt:1,mb:1},i.createElement($.A,null),i.createElement("div",null,i.createElement("div",{className:D.row},i.createElement("div",{className:D.thumbLeft},i.createElement(o.A,{variant:"body2",gutterBottom:!0,align:"left"},i.createElement(g.A,{defaultMessage:"Owners",id:"Apis.Listing.ApiThumb.owners"}))),_.showBusinessDetails&&i.createElement("div",null,i.createElement(o.A,{variant:"caption",gutterBottom:!0,align:"left",onMouseEnter:this.handleBusinessPopoverOpen,onMouseLeave:this.handleBusinessPopoverClose,className:D.typo},i.createElement("div",{style:{paddingLeft:"5px",whiteSpace:"nowrap",paddingRight:"5px"}},i.createElement(g.A,{defaultMessage:"Business",id:"Apis.Listing.ApiThumb.owners.business"})," : "),i.createElement("div",{className:D.truncate},b.businessInformation.businessOwner?b.businessInformation.businessOwner:i.createElement("span",{style:{color:"#808080",fontWeight:"bold"}},"Not Provided"))),b.businessInformation.businessOwnerEmail&&i.createElement(x.Ay,{id:"mouse-over-popover",className:D.popover,classes:{paper:D.paper},open:this.state.buniessOpenPopover,anchorEl:this.state.businessAnchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"left"},onClose:this.handleBusinessPopoverClose,disableRestoreFocus:!0},i.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},i.createElement(R.A,{fontSize:"small"}),i.createElement(o.A,{variant:"body2",style:{marginLeft:"8px"}},b.businessInformation.businessOwnerEmail)))),_.showTechnicalDetails&&i.createElement("div",null,i.createElement(o.A,{variant:"caption",gutterBottom:!0,align:"left",onMouseEnter:this.handleTechnicalPopoverOpen,onMouseLeave:this.handleTechnicalPopoverClose,className:D.typo},i.createElement("div",{style:{paddingLeft:"5px",whiteSpace:"nowrap",paddingRight:"5px"}},i.createElement(g.A,{defaultMessage:"Technical",id:"Apis.Listing.ApiThumb.owners.technical"})," : "),i.createElement("div",{className:D.truncate},b.businessInformation.technicalOwner?b.businessInformation.technicalOwner:i.createElement("span",{style:{color:"#808080",fontWeight:"bold"}},"Not Provided"))),b.businessInformation.technicalOwnerEmail&&i.createElement(x.Ay,{id:"mouse-over-popover",className:D.popover,classes:{paper:D.paper},open:this.state.technicalOpenPopover,anchorEl:this.state.technicalAnchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"left"},onClose:this.handleTechnicalPopoverClose,disableRestoreFocus:!0},i.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},i.createElement(R.A,{fontSize:"small"}),i.createElement(o.A,{variant:"body2",style:{marginLeft:"8px"}},b.businessInformation.technicalOwnerEmail)))))),i.createElement($.A,null))),i.createElement("div",{className:A()(D.thumbInfo,"api-thumb-rating-chip-wrapper")},L&&i.createElement("div",{className:A()(D.thumbLeftAction,"api-thumb-rating-wrapper")},i.createElement(o.A,{variant:"subtitle1",component:"div","aria-label":"API Rating",gutterBottom:!0,align:"left",className:A()("api-thumb-rating",D.ratingWrapper)},i.createElement(f.A,{apiRating:b.avgRating,apiId:b.id,isEditable:!1,showSummary:!1}))),i.createElement("div",{className:A()(D.thumbRight,"api-thumb-chips-wrapper")},i.createElement(o.A,{variant:"subtitle1",component:"div",gutterBottom:!0,align:"right",className:D.chipWrapper},"PROTOTYPED"===b.lifeCycleStatus?"GRAPHQL"===b.type||"GRAPHQL"===b.transportType?i.createElement("div",{className:"api-thumb-chip-main"},i.createElement(o.A,{variant:"subtitle1",gutterBottom:!0,align:"right",className:A()(D.chipWrapper2,"api-thumb-chip-wrapper")},i.createElement(m.A,{label:void 0===b.transportType?b.type:b.transportType,color:"primary"})),i.createElement(o.A,{variant:"subtitle1",gutterBottom:!0,align:"right",className:D.chipWrapper3},i.createElement(m.A,{label:"PRE-RELEASED",color:"default"}))):"solace"===b.gatewayVendor?i.createElement("div",{className:"api-thumb-chip-main"},i.createElement(o.A,{variant:"subtitle1",gutterBottom:!0,align:"right",className:D.chipWrapper2},i.createElement(m.A,{label:"SOLACE",color:"primary"})),i.createElement(o.A,{variant:"subtitle1",gutterBottom:!0,align:"right",className:D.chipWrapper3},i.createElement(m.A,{label:"PRE-RELEASED",color:"default"}))):i.createElement("div",{className:"api-thumb-chip-main"},i.createElement(m.A,{label:"PRE-RELEASED",color:"default"})):"GRAPHQL"===b.type||"GRAPHQL"===b.transportType?i.createElement("div",{className:"api-thumb-chip-main"},i.createElement(m.A,{label:void 0===b.transportType?b.type:b.transportType,color:"primary"})):"solace"===b.gatewayVendor?i.createElement("div",{className:"api-thumb-chip-main"},i.createElement(m.A,{"data-testid":"solace-label",label:"SOLACE",color:"primary"})):null))))))):i.createElement("div",{className:"api-thumb-image-view"},!q&&G,q&&i.createElement("img",{src:E.app.context+q,alt:"img"}))}}F.defaultProps={customWidth:null,customHeight:null,showInfo:!0},F.propTypes={classes:d().shape({}).isRequired,theme:d().shape({}).isRequired,customWidth:d().number,customHeight:d().number,showInfo:d().bool},F.contextType=T._;const U=function(e){const t=(0,n.A)();return i.createElement(F,P({},e,{theme:t}))};var j=a(92728);const H="APIThumbPlain",q={root:`${H}-root`,bullet:`${H}-bullet`,title:`${H}-title`,pos:`${H}-pos`,thumbHeader:`${H}-thumbHeader`,contextBox:`${H}-contextBox`,caption:`${H}-caption`,imageDisplay:`${H}-imageDisplay`,typo:`${H}-typo`,truncate:`${H}-truncate`,popover:`${H}-popover`,paper:`${H}-paper`,ribbon:`${H}-ribbon`},_=(0,r.Ay)(l.A)((e=>{let{theme:t}=e;return{[`&.${q.root}`]:{minWidth:200,marginTop:10},[`& .${q.bullet}`]:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},[`& .${q.title}`]:{fontSize:14},[`& .${q.pos}`]:{marginBottom:12},[`& .${q.thumbHeader}`]:{width:"150px",color:"#444",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",margin:0,"padding-left":"5px"},[`& .${q.contextBox}`]:{maxWidth:120,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",paddingLeft:"5px"},[`& .${q.caption}`]:{color:t.palette.grey[700]},[`& .${q.imageDisplay}`]:{maxWidth:"40px",maxHeight:"40px"},[`& .${q.typo}`]:{display:"flex"},[`& .${q.truncate}`]:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"175px"},[`& .${q.popover}`]:{pointerEvents:"none"},[`& .${q.paper}`]:{padding:t.spacing(1),maxWidth:"300px"},[`& .${q.ribbon}`]:{fontFamily:t.typography.fontFamily,fontSize:"12px",fontWeight:800,color:"#616161",position:"absolute",padding:"5px",width:"80px",zIndex:3,textAlign:"center",textTransform:"uppercase"}}})),G=window.URL||window.webkitURL;function Q(e){const t=(0,n.A)(),{api:a,showInfo:r}=e,{custom:{thumbnail:l,social:{showRating:s}}}=t,{name:u,version:d,context:h,provider:b}=a,[v,$]=(0,i.useState)({selectedIcon:"",category:"",color:"#ccc"}),[I,S]=(0,i.useState)(null),[T,O]=(0,i.useState)(!1),{tileDisplayInfo:C}=E.apis,[L,B]=(0,i.useState)(null),[P,k]=(0,i.useState)(null),[W,D]=(0,i.useState)(!1),[M,z]=(0,i.useState)(!1);let F;if((0,i.useEffect)((()=>{(new N.A).getAPIThumbnail(a.id).then((e=>{if(e&&e.data)if("application/json"===e.headers["content-type"]){const t=JSON.parse(e.data);$({selectedIcon:t.key,category:t.category,color:t.color})}else e&&e.data.size>0&&S(G.createObjectURL(e.data))})).finally((()=>{O(!0)}))}),[]),F=T?I?i.createElement("img",{src:I,alt:"API Thumbnail",className:q.imageDisplay}):i.createElement(j.A,{className:q.icon,style:{fontSize:"40px",color:v.color}},((e,t,a,i)=>{let n;return n=e&&t?e:"DOC"===i.type?a.custom.thumbnail.document.icon:"settings",n})(v.selectedIcon,v.category,t,a)):i.createElement("div",{className:"image-load-frame"},i.createElement("div",{className:"image-load-animation1"}),i.createElement("div",{className:"image-load-animation2"})),!r)return i.createElement(p.N_,{to:"/apis/"+a.id,"aria-hidden":"true"},i.createElement(y.A,{display:"flex"},i.createElement(y.A,null,!l.defaultApiImage&&F,l.defaultApiImage&&i.createElement("img",{src:E.app.context+l.defaultApiImage,alt:"img"}))));const U=()=>{B(null),D(!1)},H=()=>{k(null),z(!1)};return i.createElement(_,{className:q.root,variant:"outlined"},i.createElement(y.A,{mb:2,pl:1},a.advertiseInfo&&a.advertiseInfo.advertised&&i.createElement("div",{className:q.ribbon},"third party")),i.createElement(c.A,null,i.createElement(y.A,null,i.createElement(p.N_,{to:"/apis/"+a.id,"aria-hidden":"true"},i.createElement(y.A,{display:"flex"},i.createElement(y.A,null,!l.defaultApiImage&&F,l.defaultApiImage&&i.createElement("img",{src:E.app.context+l.defaultApiImage,alt:"img"})),i.createElement(o.A,{variant:"h5",gutterBottom:!0,title:u,className:q.thumbHeader},u)))),i.createElement(y.A,{display:"flex"},i.createElement(y.A,{flex:1},b&&i.createElement(i.Fragment,null,i.createElement(o.A,{variant:"caption",gutterBottom:!0,align:"left",className:q.caption,component:"span"},i.createElement(g.A,{defaultMessage:"By",id:"Apis.Listing.ApiThumb.by"}),i.createElement(g.A,{defaultMessage:" : ",id:"Apis.Listing.ApiThumb.by.colon"})),i.createElement(o.A,{variant:"body2",component:"span"},b))),i.createElement(y.A,null,a.monetizedInfo&&C.showMonetizedState&&i.createElement(w.A,{fontSize:"medium"}))),i.createElement(y.A,{display:"flex",mt:2},i.createElement(y.A,{flex:1},i.createElement(o.A,{variant:"subtitle1"},d),i.createElement(o.A,{variant:"caption",gutterBottom:!0,align:"left",className:q.caption},i.createElement(g.A,{defaultMessage:"Version",id:"Apis.Listing.ApiThumb.version"}))),i.createElement(y.A,null,i.createElement(o.A,{variant:"subtitle1",align:"right",className:q.contextBox},h),i.createElement(o.A,{variant:"caption",gutterBottom:!0,align:"right",className:q.caption,Component:"div"},i.createElement(g.A,{defaultMessage:"Context",id:"Apis.Listing.ApiThumb.context"})))),(C.showBusinessDetails||C.showTechnicalDetails)&&i.createElement(i.Fragment,null,i.createElement("hr",null),i.createElement("div",null,i.createElement("div",null,i.createElement("div",null,i.createElement(o.A,{variant:"body2",gutterBottom:!0,align:"left"},i.createElement(g.A,{defaultMessage:"Owners",id:"Apis.Listing.ApiThumb.owners"}))),C.showBusinessDetails&&i.createElement("div",null,i.createElement(o.A,{variant:"caption",gutterBottom:!0,align:"left",onMouseEnter:e=>{D(!0),B(e.currentTarget)},onMouseLeave:U,className:q.typo},i.createElement("div",{style:{whiteSpace:"nowrap",paddingRight:"5px"}},i.createElement(g.A,{defaultMessage:"Business",id:"Apis.Listing.ApiThumb.owners.business"})," : "),i.createElement("div",{className:q.truncate},a.businessInformation.businessOwner?a.businessInformation.businessOwner:i.createElement("span",{style:{color:"#808080",fontWeight:"bold"}},"Not Provided"))),a.businessInformation.businessOwnerEmail&&i.createElement(x.Ay,{id:"mouse-over-popover",className:q.popover,classes:{paper:q.paper},open:W,anchorEl:L,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"left"},onClose:U,disableRestoreFocus:!0},i.createElement("div",{style:{display:"flex",flexDirection:"column"}},i.createElement("div",{style:{display:"flex"}},i.createElement(R.A,{fontSize:"small"}),i.createElement(o.A,{variant:"body2",style:{marginLeft:"8px"}},a.businessInformation.businessOwnerEmail))))),C.showTechnicalDetails&&i.createElement("div",null,i.createElement(o.A,{variant:"caption",gutterBottom:!0,align:"left",onMouseEnter:e=>{k(e.currentTarget),z(!0)},onMouseLeave:H,className:q.typo},i.createElement("div",{style:{whiteSpace:"nowrap",paddingRight:"5px"}},i.createElement(g.A,{defaultMessage:"Technical",id:"Apis.Listing.ApiThumb.owners.technical"})," : "),i.createElement("div",{className:q.truncate},a.businessInformation.technicalOwner?a.businessInformation.technicalOwner:i.createElement("span",{style:{color:"#808080",fontWeight:"bold"}},"Not Provided"))),a.businessInformation.technicalOwnerEmail&&i.createElement(x.Ay,{id:"mouse-over-popover",className:q.popover,classes:{paper:q.paper},open:M,anchorEl:P,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"left"},onClose:H,disableRestoreFocus:!0},i.createElement("div",{style:{display:"flex",flexDirection:"column"}},i.createElement("div",{style:{display:"flex"}},i.createElement(R.A,{fontSize:"small"}),i.createElement(o.A,{variant:"body2",style:{marginLeft:"8px"}},a.businessInformation.technicalOwnerEmail))))))),i.createElement("hr",null)),i.createElement(y.A,{display:"flex",mt:2},s&&i.createElement(y.A,{flex:1},i.createElement(o.A,{variant:"subtitle1",gutterBottom:!0,align:"left",className:A()("api-thumb-rating",q.ratingWrapper)},i.createElement(f.A,{apiRating:a.avgRating,apiId:a.id,isEditable:!1,showSummary:!1}))),i.createElement(y.A,null,i.createElement(o.A,{variant:"subtitle1",gutterBottom:!0,align:"right",className:q.chipWrapper},("GRAPHQL"===a.type||"GRAPHQL"===a.transportType)&&i.createElement(m.A,{label:void 0===a.transportType?a.type:a.transportType,color:"primary"}),"PROTOTYPED"===a.lifeCycleStatus&&i.createElement(m.A,{label:"APIProduct"===a.apiType?a.state:"PROTOTYPE",color:"default"}))))))}Q.defaultProps={showInfo:!0},Q.propTypes={showInfo:d().bool};const V=Q;function Y(e){const t=(0,n.A)(),{custom:a}=t;if(!a.thumbnailTemplates||!a.thumbnailTemplates.active)return i.createElement(U,e);const{thumbnailTemplates:{variant:r,active:o}}=a;return o&&"plain"===r?i.createElement(V,e):o&&"text"===r?i.createElement(U,e):void 0}},69933:(e,t,a)=>{a.d(t,{A:()=>N});var i=a(96540),n=a(11848),r=a(5556),o=a.n(r),l=a(33551),s=a(69067),c=a(19455),m=a(82299),p=a(12092),u=a(33091),d=a(9257),g=a(45979),h=a(84475),b=a(84712),f=a(51989),E=a(32997),v=a(14492),A=a(98455),y=a(58065),x=a(38798),w=a(44675);const R="StarRatingBarLegacy",$={starRate:`${R}-starRate`,noStarRate:`${R}-noStarRate`,iconFilled:`${R}-iconFilled`,iconEmpty:`${R}-iconEmpty`,removeRating:`${R}-removeRating`,closeRating:`${R}-closeRating`,userRating:`${R}-userRating`,rateThis:`${R}-rateThis`},I=(0,n.Ay)("div")((e=>{let{theme:t}=e;return{[`& .${$.starRate}`]:{fontSize:30,color:t.custom.infoBar.starColor},[`& .${$.noStarRate}`]:{fontSize:30,color:t.palette.grey.A400},[`& .${$.iconFilled}`]:{color:t.custom.infoBar.starColor},[`& .${$.iconEmpty}`]:{color:t.custom.infoBar.starColorEmpty||"#cfcfcf"},[`& .${$.removeRating}`]:{fontSize:20,color:t.palette.getContrastText(t.custom.infoBar.background)},[`& .${$.closeRating}`]:{position:"absolute",right:t.spacing(-2),top:t.spacing(-2)},[`& .${$.userRating}`]:{display:"flex",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",padding:"5px",background:"#efefef",borderRadius:"3px",position:"absolute",right:0,top:"-50px",marginLeft:"125px"},[`& .${$.rateThis}`]:{lineHeight:"15px",width:40}}}));class S extends i.Component{constructor(e){super(e),this.state={avgRating:0,userRating:0,count:0,total:0,showEditing:!1},this.getApiRating=this.getApiRating.bind(this),this.removeUserRating=this.removeUserRating.bind(this),this.doRate=this.doRate.bind(this),this.toggleEditRating=this.toggleEditRating.bind(this)}componentDidMount(){this.getApiRating()}componentDidUpdate(e){const{ratingUpdate:t}=this.props;t!==e.ratingUpdate&&this.getApiRating()}getApiRating(){const{apiId:e,setRatingUpdate:t}=this.props,a=E.A.getUser(),i=new f.A;null!=a&&i.getRatingFromUser(e,null).then((e=>{this.setState({avgRating:e.body.avgRating,userRating:e.body.userRating,count:e.body.count,total:e.body.pagination.total}),t&&t({avgRating:e.body.avgRating,count:e.body.count,total:e.body.pagination.total})}))}doRate(e){const{apiId:t,intl:a}=this.props,i={rating:e};(new f.A).addRating(t,i).then((()=>{this.getApiRating()})).catch((e=>{b.A.error(a.formatMessage({defaultMessage:"Error occurred while adding ratings",id:"Apis.Listing.StarRatingBar.error.occurred.adding"}))})).finally((()=>{this.toggleEditRating()}))}removeUserRating(){const{apiId:e,setRatingUpdate:t,intl:a}=this.props;(new f.A).removeRatingOfUser(e,null).then((()=>{this.getApiRating(),t()})).catch((e=>{b.A.error(a.formatMessage({defaultMessage:"Error occurred while removing ratings",id:"Apis.Listing.StarRatingBar.error.occurred"}))})).finally((()=>{this.toggleEditRating()}))}toggleEditRating(){this.setState((e=>({showEditing:!e.showEditing})))}render(){const{avgRating:e,userRating:t,count:a,total:n,showEditing:r}=this.state,{isEditable:o,showSummary:b,apiRating:f}=this.props,E=parseFloat(f);return i.createElement(I,null,b?i.createElement(v.A,{avgRating:e,reviewCount:n,returnCount:a}):i.createElement(i.Fragment,null,o?i.createElement(s.A,{position:"relative"},i.createElement(c.A,{component:"div",onClick:this.toggleEditRating,display:"flex",style:{cursor:"pointer"},size:"large"},0===t?i.createElement(g.A,{style:{fontSize:30}}):i.createElement(d.A,{style:{fontSize:30,color:"#75d5fa"}}),i.createElement(l.A,{variant:"body2",className:$.rateThis},0===t?i.createElement(y.A,{defaultMessage:"Rate This",id:"Apis.Listing.StarRatingBar.rate.this"}):i.createElement(s.A,null,i.createElement(s.A,{fontSize:22,ml:1,mb:.5},t),i.createElement(s.A,null,i.createElement(y.A,{defaultMessage:"You",id:"Apis.Listing.StarRatingBar.you"}))))),r&&i.createElement(i.Fragment,null,i.createElement(h.x,{onClickAway:this.toggleEditRating},i.createElement("div",{className:$.userRating},[1,2,3,4,5].map((e=>i.createElement(c.A,{"area-label":"Rate "+e,onClick:()=>this.doRate(e),size:"large"},i.createElement(u.A,{key:e,className:t>=e?$.starRate:$.noStarRate})))),i.createElement(c.A,{"area-label":"Clear rating",onClick:()=>this.removeUserRating(),size:"large"},i.createElement(p.default,{className:$.removeRating})),i.createElement(c.A,{className:$.closeRating,"area-label":"Close rating popup",onClick:this.toggleEditRating,size:"large"},i.createElement(m.A,{className:$.removeRating})))))):i.createElement(i.Fragment,null,i.createElement(A.A,{name:"half-rating",value:E,precision:.1,readOnly:!0,classes:{iconEmpty:$.iconEmpty,iconFilled:$.iconFilled}}),i.createElement(l.A,{variant:"caption",gutterBottom:!0,align:"left",component:"div"},`${f}/5.0`,n>0&&i.createElement(i.Fragment,null,` (${n} `,1===n?i.createElement(y.A,{defaultMessage:"user",id:"Apis.Listing.StarRatingBar.user"}):i.createElement(y.A,{defaultMessage:" users",id:"Apis.Listing.StarRatingBar.users"}),"‘)’")))))}}S.defaultProps={apiRating:0,ratingUpdate:0,setRatingUpdate:()=>{}},S.propTypes={classes:o().shape({}).isRequired,theme:o().shape({}).isRequired,apiId:o().string.isRequired,isEditable:o().bool.isRequired,showSummary:o().bool.isRequired,apiRating:o().oneOfType([o().string,o().number]),ratingUpdate:o().number,setRatingUpdate:o().func};const N=(0,x.Ay)((function(e){const{apiRating:t,apiId:a,isEditable:n,showSummary:r}=e,o=(0,w.A)();return i.createElement(S,{apiRating:t,apiId:a,isEditable:n,showSummary:r,theme:o})}))},57555:(e,t,a)=>{function i(e){return e&&e.charAt(0).toUpperCase()+e.slice(1)}function n(e){return e.toUpperCase()}a.d(t,{Zr:()=>i,mf:()=>n})}}]);
//# sourceMappingURL=573.cf801127f162fe2820f1.bundle.js.map